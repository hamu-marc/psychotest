/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"app": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push([0,"vendor.bluebird","vendor.aurelia-binding","vendor.aurelia-templating","vendor.aurelia","vendor"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/components/dsl.js":
/*!*******************************!*\
  !*** ./src/components/dsl.js ***!
  \*******************************/
/*! exports provided: Dsl */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Dsl\", function() { return Dsl; });\nvar Dsl =\n/*#__PURE__*/\nfunction () {\n  function Dsl() {}\n\n  Dsl.isZvuk = function isZvuk(c) {\n    return /^[\\s]*stimulus/.test(c);\n  };\n\n  Dsl.isText = function isText(c) {\n    return /^[\\s]*text/.test(c);\n  } //    isVideo(c) { return /^[\\s]*video/.test(c); }\n  ;\n\n  Dsl.isOtazka = function isOtazka(c) {\n    return /^[\\s]*task/.test(c);\n  };\n\n  Dsl.isPanel = function isPanel(c) {\n    return /^[\\s]*panel/.test(c);\n  } //    isParvaOtazka(c) { return /^[\\s]*taskpair/.test(c); },\n  ;\n\n  Dsl.isTaskForStimuli = function isTaskForStimuli(c) {\n    return /^[\\s]*taskforstimuli/.test(c);\n  };\n\n  Dsl.startsWithZvuk = function startsWithZvuk(c) {\n    return /^[\\s]*stimulus/.test(c);\n  };\n\n  Dsl.startsWithComment = function startsWithComment(c) {\n    return /^[\\s]*#/.test(c);\n  } //isObrazovka2(c) { return /^[\\s]*dvouobrazovka/ .test(c); },\n  ;\n\n  Dsl.isKategorie = function isKategorie(c) {\n    return /^[\\s]*screen per 1/.test(c);\n  };\n\n  Dsl.isParovy = function isParovy(c) {\n    return /^[\\s]*screen per 2/.test(c);\n  };\n\n  Dsl.isObrazovka = function isObrazovka(c) {\n    return /^[\\s]*screen/.test(c);\n  };\n\n  Dsl.isSloupce = function isSloupce(c) {\n    return /^[\\s]*column/.test(c);\n  };\n\n  Dsl.isHodnoty = function isHodnoty(c) {\n    return /^[\\s]*values/.test(c);\n  };\n\n  Dsl.isCheckboxvalues = function isCheckboxvalues(c) {\n    return /^[\\s]*checkboxvalues/.test(c);\n  };\n\n  Dsl.isCheckboxvaluesOnRow = function isCheckboxvaluesOnRow(c) {\n    return /^[\\s]*checkboxvaluesonrow/.test(c);\n  } //isSkalovaci(c) { return /^[\\s]*taskscale/ .test(c); },\n  ;\n\n  Dsl.isSkalovaciHodnoty = function isSkalovaciHodnoty(c) {\n    return /^[\\s]*scalevalues/.test(c);\n  };\n\n  Dsl.isSkala = function isSkala(c) {\n    return /^[\\s]*scale/.test(c);\n  };\n\n  Dsl.isPopis = function isPopis(c) {\n    return /^[\\s]*edit/.test(c);\n  };\n\n  Dsl.isSerad2d = function isSerad2d(c) {\n    return /^[\\s]*ranking2d/.test(c);\n  };\n\n  Dsl.isPoradiVNtici = function isPoradiVNtici(c) {\n    return /^[\\s]*randomintuple/.test(c);\n  };\n\n  Dsl.isPoradiZvuku = function isPoradiZvuku(c) {\n    return /^[\\s]*randomstimuli/.test(c);\n  };\n\n  Dsl.isPoradiCase = function isPoradiCase(c) {\n    return /^[\\s]*randomscreen/.test(c);\n  };\n\n  Dsl.isRandomPairs = function isRandomPairs(c) {\n    return /^[\\s]*randompairs/.test(c);\n  };\n\n  Dsl.isValuesOnRow = function isValuesOnRow(c) {\n    return /^[\\s]*valuesonrow/.test(c);\n  };\n\n  Dsl.isSelect = function isSelect(c) {\n    return /^[\\s]*select/.test(c);\n  };\n\n  Dsl.isStyle = function isStyle(c) {\n    return /^[\\s]*#style/.test(c);\n  };\n\n  Dsl.isStyleButton = function isStyleButton(c) {\n    return /^[\\s]*#stylebutton/.test(c);\n  };\n\n  Dsl.isStyleForm = function isStyleForm(c) {\n    return /^[\\s]*#styleform/.test(c);\n  };\n\n  Dsl.isType = function isType(c) {\n    return /^[\\s]*type /.test(c);\n  };\n\n  Dsl.isExtends = function isExtends(c) {\n    return /^[\\s]*extends /.test(c);\n  };\n\n  Dsl.isStimuliGroup = function isStimuliGroup(c) {\n    return /^[\\s]*stimuligroup /.test(c);\n  };\n\n  Dsl.isWithStimuli = function isWithStimuli(c) {\n    return /^[\\s]*withstimuli/.test(c);\n  };\n\n  Dsl.isWithStimuligroup = function isWithStimuligroup(c) {\n    return /^[\\s]*withgroup/.test(c);\n  };\n\n  return Dsl;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9kc2wuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9kc2wuanM/NTFiMCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgRHNsIHtcbiAgc3RhdGljIGlzWnZ1ayhjKSB7IHJldHVybiAvXltcXHNdKnN0aW11bHVzLy50ZXN0KGMpOyB9XG4gIHN0YXRpYyBpc1RleHQoYykgeyByZXR1cm4gL15bXFxzXSp0ZXh0Ly50ZXN0KGMpOyB9XG4gIC8vICAgIGlzVmlkZW8oYykgeyByZXR1cm4gL15bXFxzXSp2aWRlby8udGVzdChjKTsgfVxuICBzdGF0aWMgaXNPdGF6a2EoYykgeyByZXR1cm4gL15bXFxzXSp0YXNrLy50ZXN0KGMpOyB9XG4gIHN0YXRpYyBpc1BhbmVsKGMpIHsgcmV0dXJuIC9eW1xcc10qcGFuZWwvLnRlc3QoYyk7IH1cbiAgLy8gICAgaXNQYXJ2YU90YXprYShjKSB7IHJldHVybiAvXltcXHNdKnRhc2twYWlyLy50ZXN0KGMpOyB9LFxuICBzdGF0aWMgaXNUYXNrRm9yU3RpbXVsaShjKSB7IHJldHVybiAvXltcXHNdKnRhc2tmb3JzdGltdWxpLy50ZXN0KGMpOyB9XG4gIHN0YXRpYyBzdGFydHNXaXRoWnZ1ayhjKSB7IHJldHVybiAvXltcXHNdKnN0aW11bHVzLy50ZXN0KGMpOyB9XG4gIHN0YXRpYyBzdGFydHNXaXRoQ29tbWVudChjKSB7IHJldHVybiAvXltcXHNdKiMvLnRlc3QoYyk7IH1cbiAgLy9pc09icmF6b3ZrYTIoYykgeyByZXR1cm4gL15bXFxzXSpkdm91b2JyYXpvdmthLyAudGVzdChjKTsgfSxcbiAgc3RhdGljIGlzS2F0ZWdvcmllKGMpIHsgcmV0dXJuIC9eW1xcc10qc2NyZWVuIHBlciAxLy50ZXN0KGMpOyB9XG4gIHN0YXRpYyBpc1Bhcm92eShjKSB7IHJldHVybiAvXltcXHNdKnNjcmVlbiBwZXIgMi8udGVzdChjKTsgfVxuICBzdGF0aWMgaXNPYnJhem92a2EoYykgeyByZXR1cm4gL15bXFxzXSpzY3JlZW4vLnRlc3QoYyk7IH1cbiAgc3RhdGljIGlzU2xvdXBjZShjKSB7IHJldHVybiAvXltcXHNdKmNvbHVtbi8udGVzdChjKTsgfVxuICBzdGF0aWMgaXNIb2Rub3R5KGMpIHsgcmV0dXJuIC9eW1xcc10qdmFsdWVzLy50ZXN0KGMpOyB9XG4gIHN0YXRpYyBpc0NoZWNrYm94dmFsdWVzKGMpIHsgcmV0dXJuIC9eW1xcc10qY2hlY2tib3h2YWx1ZXMvLnRlc3QoYyk7IH1cbiAgc3RhdGljIGlzQ2hlY2tib3h2YWx1ZXNPblJvdyhjKSB7IHJldHVybiAvXltcXHNdKmNoZWNrYm94dmFsdWVzb25yb3cvLnRlc3QoYyk7IH1cbiAgLy9pc1NrYWxvdmFjaShjKSB7IHJldHVybiAvXltcXHNdKnRhc2tzY2FsZS8gLnRlc3QoYyk7IH0sXG4gIHN0YXRpYyBpc1NrYWxvdmFjaUhvZG5vdHkoYykgeyByZXR1cm4gL15bXFxzXSpzY2FsZXZhbHVlcy8udGVzdChjKTsgfVxuICBzdGF0aWMgaXNTa2FsYShjKSB7IHJldHVybiAvXltcXHNdKnNjYWxlLy50ZXN0KGMpOyB9XG4gIHN0YXRpYyBpc1BvcGlzKGMpIHsgcmV0dXJuIC9eW1xcc10qZWRpdC8udGVzdChjKTsgfVxuICBzdGF0aWMgaXNTZXJhZDJkKGMpIHsgcmV0dXJuIC9eW1xcc10qcmFua2luZzJkLy50ZXN0KGMpOyB9XG4gIHN0YXRpYyBpc1BvcmFkaVZOdGljaShjKSB7IHJldHVybiAvXltcXHNdKnJhbmRvbWludHVwbGUvLnRlc3QoYyk7IH1cbiAgc3RhdGljIGlzUG9yYWRpWnZ1a3UoYykgeyByZXR1cm4gL15bXFxzXSpyYW5kb21zdGltdWxpLy50ZXN0KGMpOyB9XG4gIHN0YXRpYyBpc1BvcmFkaUNhc2UoYykgeyByZXR1cm4gL15bXFxzXSpyYW5kb21zY3JlZW4vLnRlc3QoYyk7IH1cbiAgc3RhdGljIGlzUmFuZG9tUGFpcnMoYykgeyByZXR1cm4gL15bXFxzXSpyYW5kb21wYWlycy8udGVzdChjKTsgfVxuICBzdGF0aWMgaXNWYWx1ZXNPblJvdyhjKSB7IHJldHVybiAvXltcXHNdKnZhbHVlc29ucm93Ly50ZXN0KGMpOyB9XG4gIHN0YXRpYyBpc1NlbGVjdChjKSB7IHJldHVybiAvXltcXHNdKnNlbGVjdC8udGVzdChjKTsgfVxuICBzdGF0aWMgaXNTdHlsZShjKSB7IHJldHVybiAvXltcXHNdKiNzdHlsZS8udGVzdChjKTsgfVxuICBzdGF0aWMgaXNTdHlsZUJ1dHRvbihjKSB7IHJldHVybiAvXltcXHNdKiNzdHlsZWJ1dHRvbi8udGVzdChjKTsgfVxuICBzdGF0aWMgaXNTdHlsZUZvcm0oYykgeyByZXR1cm4gL15bXFxzXSojc3R5bGVmb3JtLy50ZXN0KGMpOyB9XG4gIHN0YXRpYyBpc1R5cGUoYykgeyByZXR1cm4gL15bXFxzXSp0eXBlIC8udGVzdChjKTt9XG4gIHN0YXRpYyBpc0V4dGVuZHMoYykge3JldHVybiAvXltcXHNdKmV4dGVuZHMgLy50ZXN0KGMpO31cbiAgc3RhdGljIGlzU3RpbXVsaUdyb3VwKGMpIHtyZXR1cm4gL15bXFxzXSpzdGltdWxpZ3JvdXAgLy50ZXN0KGMpO31cbiAgc3RhdGljIGlzV2l0aFN0aW11bGkoYykge3JldHVybiAvXltcXHNdKndpdGhzdGltdWxpLy50ZXN0KGMpO31cbiAgc3RhdGljIGlzV2l0aFN0aW11bGlncm91cChjKSB7cmV0dXJuIC9eW1xcc10qd2l0aGdyb3VwLy50ZXN0KGMpO31cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUZBO0FBRUE7QUFBQTtBQUZBO0FBQ0E7QUFEQTtBQUlBO0FBQUE7QUFDQTtBQUxBO0FBS0E7QUFBQTtBQUxBO0FBQ0E7QUFEQTtBQU9BO0FBQUE7QUFDQTtBQVJBO0FBUUE7QUFBQTtBQUNBO0FBVEE7QUFTQTtBQUFBO0FBVEE7QUFDQTtBQURBO0FBV0E7QUFBQTtBQUNBO0FBWkE7QUFZQTtBQUFBO0FBQ0E7QUFiQTtBQWFBO0FBQUE7QUFDQTtBQWRBO0FBY0E7QUFBQTtBQUNBO0FBZkE7QUFlQTtBQUFBO0FBQ0E7QUFoQkE7QUFnQkE7QUFBQTtBQUNBO0FBakJBO0FBaUJBO0FBQUE7QUFqQkE7QUFDQTtBQURBO0FBbUJBO0FBQUE7QUFDQTtBQXBCQTtBQW9CQTtBQUFBO0FBQ0E7QUFyQkE7QUFxQkE7QUFBQTtBQUNBO0FBdEJBO0FBc0JBO0FBQUE7QUFDQTtBQXZCQTtBQXVCQTtBQUFBO0FBQ0E7QUF4QkE7QUF3QkE7QUFBQTtBQUNBO0FBekJBO0FBeUJBO0FBQUE7QUFDQTtBQTFCQTtBQTBCQTtBQUFBO0FBQ0E7QUEzQkE7QUEyQkE7QUFBQTtBQUNBO0FBNUJBO0FBNEJBO0FBQUE7QUFDQTtBQTdCQTtBQTZCQTtBQUFBO0FBQ0E7QUE5QkE7QUE4QkE7QUFBQTtBQUNBO0FBL0JBO0FBK0JBO0FBQUE7QUFDQTtBQWhDQTtBQWdDQTtBQUFBO0FBQ0E7QUFqQ0E7QUFpQ0E7QUFBQTtBQUNBO0FBbENBO0FBa0NBO0FBQUE7QUFDQTtBQW5DQTtBQW1DQTtBQUFBO0FBQ0E7QUFwQ0E7QUFvQ0E7QUFBQTtBQUNBO0FBckNBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/dsl.js\n");

/***/ }),

/***/ "./src/components/interpreter.js":
/*!***************************************!*\
  !*** ./src/components/interpreter.js ***!
  \***************************************/
/*! exports provided: Interpreter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Interpreter\", function() { return Interpreter; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _stimulusinterpreter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stimulusinterpreter */ \"./src/components/stimulusinterpreter.js\");\n/* harmony import */ var _responseinterpreter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./responseinterpreter */ \"./src/components/responseinterpreter.js\");\n/* harmony import */ var _ranking2dinterpreter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ranking2dinterpreter */ \"./src/components/ranking2dinterpreter.js\");\n/* harmony import */ var _preprocesor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./preprocesor */ \"./src/components/preprocesor.js\");\n/* harmony import */ var _dsl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dsl */ \"./src/components/dsl.js\");\n\n\n\n\n\n //shuffle randomly the array\n\nArray.prototype.shuffle = function () {\n  var i = this.length,\n      j,\n      temp;\n  if (i == 0) return this;\n\n  while (--i) {\n    j = Math.floor(Math.random() * (i + 1));\n    temp = this[i];\n    this[i] = this[j];\n    this[j] = temp;\n  }\n\n  return this;\n}; //make prototype function startsWith - if it does not exist\n\n\nif (typeof String.prototype.startsWith != 'function') {\n  String.prototype.startsWith = function (str) {\n    return this.slice(0, str.length) == str;\n  };\n}\n\nString.prototype.endsWith = function (suffix) {\n  return this.indexOf(suffix, this.length - suffix.length) !== -1;\n};\n\nString.prototype.extract = function (subs) {\n  return this.substring(this.indexOf(subs) + subs.length);\n};\n\nString.prototype.contains = function (str) {\n  return this.indexOf(str) !== -1;\n};\n\nvar Interpreter =\n/*#__PURE__*/\nfunction () {\n  function Interpreter(controller) {\n    this.isZvuk = void 0;\n    this.controller = controller; //is used to notify first or last page of test and to control test page flow\n\n    this.currentCursor = 0;\n    this.currentPage = 0;\n    this.maxPages = 0;\n    this.questionPage = 0;\n    this.sliderValues = [];\n    this.testName = '';\n    this.currentTest = '';\n    this.sloupce = false;\n    this.sliderId = 0;\n    this.previoustoken = ''; //holds previous token - for distinguishing states during interpretation\n\n    this.previousrow = ''; //holds previous row\n\n    this.tstate = {}; //holds structure of state variables\n    //keep the last question and values for answer\n\n    this.allowprev = true;\n    this.educational = false;\n    this.highlighted = false;\n    this.eduid = 0;\n    this.eduresults = {}; //new Responses();\n\n    this.resumeid = 0; //id of paused test; for future update\n\n    this.hodnoty = [];\n    this.hodnotySetted = true; //    this.columnnumber = 0;\n\n    this.lastformid = '';\n    this.lastformidescaped = '';\n    this.pausedtestid = 0;\n    this.parovaotazka = false;\n    this.result = new _responseinterpreter__WEBPACK_IMPORTED_MODULE_2__[\"Responseinterpreter\"]();\n    this.stimul = new _stimulusinterpreter__WEBPACK_IMPORTED_MODULE_1__[\"Stimulusinterpreter\"](this);\n    this.ranking2d = new _ranking2dinterpreter__WEBPACK_IMPORTED_MODULE_3__[\"Ranking2dinterpreter\"](this);\n  }\n\n  Interpreter.extract = function extract(s, subs) {\n    return s.substring(s.indexOf(subs) + subs.length);\n  };\n\n  Interpreter.endsWith = function endsWith(s, suffix) {\n    return s.indexOf(suffix, s.length - suffix.length) !== -1;\n  };\n\n  var _proto = Interpreter.prototype;\n\n  _proto.translateObrazovka = function translateObrazovka(row) {\n    this.result.resetLast();\n    this.sloupce = false;\n    var translatedRow = \"<span class='lefthead'>\" + this.currentPage + '. ' + Interpreter.extract(row, 'screen') + \" </span><span class='righthead'>\" + this.testName + \"</span><p style='clear:both;margin:20px;'></p>\\n\";\n    this.previoustoken = 'screen';\n    return translatedRow;\n  };\n\n  _proto.translateText = function translateText(row) {\n    var output = '';\n    if (this.sloupce) output += \"<tr><td colspan='2'>\";\n    output += '<p>' + Interpreter.extract(row, 'text') + '</p>';\n    if (this.sloupce) output += '</td></tr>';\n    return output;\n  } //used multipletimes\n  ;\n\n  _proto.generateHtmlOtazkaRow = function generateHtmlOtazkaRow(suffix) {\n    this.lastformid = 'q' + this.currentPage + '.' + this.questionPage;\n    this.lastformidescaped = 'q' + this.currentPage + '\\\\\\\\.' + this.questionPage;\n    var mysuffix = '';\n    if (suffix) mysuffix = suffix;\n    return \"<form id='\" + this.lastformid + \"' name='q\" + this.currentPage + '.' + this.questionPage + \"'><fieldset><legend>\" + this.result.lastotazka + mysuffix + ' </legend>';\n  };\n\n  _proto.generateEditHeaderRow = function generateEditHeaderRow() {\n    this.lastformid = 'q' + this.currentPage + '.' + this.questionPage;\n    this.lastformidescaped = 'q' + this.currentPage + '\\\\\\\\.' + this.questionPage;\n    return \"<form id='\" + this.lastformid + \"' name='q\" + this.currentPage + '.' + this.questionPage + \"'><fieldset><legend>\" + this.result.lastotazka + '</legend>';\n  };\n\n  _proto.translateTaskForStimuli = function translateTaskForStimuli(row) {\n    this.parovaotazka = false;\n    this.result.lastotazka = Interpreter.extract(row, 'taskforstimuli '); //adds to the #1 to the question\n\n    this.hodnotySetted = false;\n    this.questionPage++; //var mytable = \"\";\n    //mytable += this.generateHtmlOtazkaRow();\n    //if (this.sloupce) { //make row of table\n    //        var mytable =  + mytable;//  + \"</td>\"; //\n    //}\n\n    return \"<tr><td class='task'>\" + this.generateHtmlOtazkaRow(' #1');\n  }\n  /*\n   *\ttranslates \"task ...\" to the HTML form\n   */\n  ;\n\n  _proto.translateOtazka = function translateOtazka(row) {\n    this.parovaotazka = false;\n    this.result.lastotazka = Interpreter.extract(row, 'task ');\n    this.hodnotySetted = false;\n    this.questionPage++;\n    return this.generateHtmlOtazkaRow();\n  } //mytableend = \"</td>\";\n  //if (columnnumber == 1) mytableend += \"</tr>\";\n  //TODO finish otazka and parovaotazka in table with 2 columns\n\n  /*\n   *\ttranslates \"parovaotazka ... \" to the HTML form with 2 sounds each in 1 column and each row has the same question\n   */\n  ;\n\n  _proto.translateParovaOtazka = function translateParovaOtazka(row) {\n    //lastotazka = row.substring(\"otazka\".length);\n    //hodnotySetted = false;\n    this.parovaotazka = true;\n    this.questionPage++;\n    this.result.lastotazka = Interpreter.extract(row, 'task ');\n    this.lastformid = 'q' + this.currentPage + '.' + this.questionPage;\n    this.lastformidescaped = 'q' + this.currentPage + '\\\\\\\\.' + this.questionPage;\n    return \"<tr><td colspan='2'><form id='\" + this.lastformid + \"'><fieldset><legend>\" + this.result.lastotazka + '</legend>';\n  }\n  /*\n   *\ttranslates \"hondoty ...\" to the opened HTML form, interprets as allowed values to be chosen by user\n   */\n\n  /*function translateHodnoty(rowsplitted) {\n   return translateHodnoty(rowsplitted, true,false);\n   }\n   */\n  ;\n\n  _proto.hashCode = function hashCode(s) {\n    return s.split('').reduce(function (a, b) {\n      a = (a << 5) - a + b.charCodeAt(0);\n      return a & a;\n    }, 0);\n  };\n\n  _proto.generateHtmlRow = function generateHtmlRow(rowsplitted, radiobuttons, taskindex) {\n    var translatedRow = '';\n\n    for (var j = 1; j < rowsplitted.length; j++) {\n      var mybr = '<br />';\n      var myvalue = rowsplitted[j];\n      var myid = this.hashCode(this.lastformid + 'v' + myvalue);\n      if (this.parovaotazka || this.valuesonrow) mybr = '&nbsp; &nbsp;'; //don't make new line in parova otazka or when values on row\n\n      if (radiobuttons) {\n        translatedRow += \"<input id='\" + myid + \"'type='radio' name='otazka' value='\" + myvalue + \"' onclick='setAnswer(\" + this.currentPage + ',' + this.questionPage + \",this)'/><label for='\" + myid + \"' class='answer'><span><span></span></span>\" + myvalue + '</label>' + mybr;\n      } else {\n        translatedRow += \"<input id='\" + myid + \"' type='checkbox' name='otazka' value='\" + myvalue + \"' onclick='setCheckAnswer(\" + this.currentPage + ',' + this.questionPage + \",this)'/><label for='\" + myid + \"'span class='answer'><span></span>\" + myvalue + '</label>' + mybr;\n      }\n\n      this.result.setDefaultAnswer(this.currentPage, this.questionPage, taskindex);\n    }\n\n    return translatedRow;\n  };\n\n  _proto.translateHodnoty = function translateHodnoty(rowsplitted) {\n    var radiobuttons = !_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isCheckboxvalues(rowsplitted[0]);\n    this.valuesonrow = _dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isCheckboxvaluesOnRow(rowsplitted[0]) || _dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isValuesOnRow(rowsplitted[0]);\n    var translatedRow = '';\n    var taskindex = '';\n    if (this.sloupce && !this.parovaotazka) taskindex = ' #1';\n    translatedRow += this.generateHtmlRow(rowsplitted, radiobuttons, taskindex);\n    translatedRow += '</fieldset></form>\\n';\n\n    if (this.sloupce) //coppies the same task and values to the second collumn of the pairs\n      {\n        if (this.parovaotazka) {\n          translatedRow += '</td></tr>';\n        } else {\n          //close the column, duplicate question to second column and close the row\n          this.questionPage++;\n          taskindex = ' #2';\n          translatedRow += \"</fieldset></form></td><td class='task'>\" + this.generateHtmlOtazkaRow(taskindex); //fix bug#249 added closing form tag\n\n          translatedRow += this.generateHtmlRow(rowsplitted, radiobuttons, taskindex);\n          translatedRow += '</fieldset></form></td></tr>';\n        }\n      } //will remember the values of last question - it is not needed to repeat them\n\n\n    this.hodnoty[this.result.lastotazka] = rowsplitted;\n    this.hodnotySetted = true;\n    return translatedRow;\n  };\n\n  _proto.splitValues = function splitValues(row) {\n    var re1 = /[ ;,]+/; // fix feature bug #240, coma ',' is used to separate interval numbers\n\n    if (!row.contains('\"')) return row.split(re1);\n    var rowsplitted = [];\n    var quote = false;\n    var currentitem = '';\n\n    for (var i = 0; i < row.length; i++) {\n      if (!quote) //normal split\n        {\n          if (/[\\\"]/.test(row[i])) quote = true;else if (/[, ;]/.test(row[i])) {\n            if (currentitem.length > 0) rowsplitted.push(currentitem);\n            currentitem = '';\n          } else {\n            currentitem += row[i];\n          }\n        } else {\n        //quotes add everything between quotes\n        if (/[\\\"]/.test(row[i])) {\n          rowsplitted.push(currentitem);\n          currentitem = '';\n          quote = false;\n        } else {\n          currentitem += row[i];\n        }\n      }\n    }\n\n    if (currentitem.length > 0) rowsplitted.push(currentitem);\n    return rowsplitted;\n  };\n\n  _proto.translateScale = function translateScale(previousrow, rowsplitted) {\n    if (this.sloupce && !this.parovaotazka) {\n      //makes two coppies of the task for each stimulus in pair\n      var translated = '\\n' + this.translateSkalovaci() + this.translateSkalovaciHodnoty(rowsplitted, ' #1');\n      this.questionPage++;\n      translated += '</fieldset></form></td><td>' + this.generateHtmlOtazkaRow(' #2') + this.translateSkalovaci() + this.translateSkalovaciHodnoty(rowsplitted, ' #2') + '</fieldset></form></tr></td>\\n';\n      return translated;\n    }\n\n    return this.translateSkalovaci(previousrow) + this.translateSkalovaciHodnoty(rowsplitted);\n  };\n\n  _proto.translateVAScale = function translateVAScale(previousrow, rowsplitted) {\n    if (this.sloupce && !this.parovaotazka) {\n      //makes two coppies of the task for each stimulus in pair\n      var translated = '\\n' + this.translateSkalovaci() + this.translateSkalovaciVAHodnoty(rowsplitted, ' #1');\n      this.questionPage++;\n      translated += '</fieldset></form></td><td>' + this.generateHtmlOtazkaRow(' #2') + this.translateSkalovaci() + this.translateSkalovaciVAHodnoty(rowsplitted, ' #2') + '</fieldset></form></tr></td>\\n';\n      return translated;\n    }\n\n    return this.translateSkalovaci(previousrow) + this.translateSkalovaciVAHodnoty(rowsplitted);\n  }\n  /*  translateSkalovaciHodnoty(rowsplitted) {\n    return this.translateSkalovaciHodnoty(rowsplitted,\"\");\n  };\n  */\n  ;\n\n  _proto.translateSkalovaciHodnoty = function translateSkalovaciHodnoty(rowsplitted, taskindex) {\n    if (taskindex === void 0) {\n      taskindex = '';\n    }\n\n    //moved to translateSkalovaci questionPage++; //increase index of answer\n    this.result.setDefaultAnswer(this.currentPage, this.questionPage, taskindex); //fix bug # 198\n    //var rowsplitted = splitValues(row);\n\n    var translatedRow = '';\n    this.sliderValues[this.sliderId] = rowsplitted.slice(1);\n    translatedRow += '<script>Interpreter.makeSlider(0, 0,' + (this.sliderValues[this.sliderId].length - 1) + ', 1, ' + this.sliderId + ',' + this.questionPage + ');</script>'; //    if (this.sloupce)\n    //        if (this.parovaotazka) {\n    //            translatedRow += \"</td></tr>\";\n\n    /*        } else {\n                this.questionPage++;\n                this.sliderId++;\n                this.sliderValues[this.sliderId] = rowsplitted.slice(1);\n                this.result.setDefaultAnswer(this.currentPage, this.questionPage); //fix bug # 198\n                translatedRow += \"<script>makeSlider(0, 0,\" + (this.sliderValues[this.sliderId].length-1) + \", 1, \" + this.sliderId + \",\" + this.questionPage + \");</script>\";\n            }*/\n    //} else {\n    //    this.questionPage++;\n    //    this.sliderId++;\n    //    this.result.setDefaultAnswer(this.currentPage, this.questionPage); //fix bug # 198\n    //    //var rowsplitted = splitValues(row);\n    //    //translatedRow = \"\";\n    //    this.sliderValues[this.sliderId] = rowsplitted.slice(1);\n    //    translatedRow += \"<td><tr><script>makeSlider(0, 0,\" + (this.sliderValues[this.sliderId].length-1) + \", 1, \" + this.sliderId + \",\" + this.questionPage + \");</script>\";\n    //}\n\n    return translatedRow;\n  }\n  /* translateSkalovaciVAHodnoty(rowsplitted) {\n    return this.translateSkalovaciVAHodnoty(rowsplitted,\"\");\n  };\n   */\n  ;\n\n  _proto.translateSkalovaciVAHodnoty = function translateSkalovaciVAHodnoty(rowsplitted, taskindex) {\n    if (taskindex === void 0) {\n      taskindex = '';\n    }\n\n    //moved to translateSkalovaci questionPage++; //increase index of answer\n    this.result.setDefaultAnswer(this.currentPage, this.questionPage, taskindex); //fix bug #198\n\n    var translatedRow = '';\n    var mySliderValues = []; //console.log(\"translateSkalocavi rowsplitted:\");\n    //console.log(rowsplitted)\n\n    /*for (var i = 3; i < rowsplitted.length;i=i+2 ) {\n     mySliderValues[parseInt(rowsplitted[i])]= rowsplitted[i+1];\n     }\n     sliderValues[sliderId] = mySliderValues;\n     */\n\n    if (rowsplitted[2].indexOf('(') > 0) {\n      //fix bug #269 scale 0 100(0.5) will be translated as 0 100 with step 0.5\n      var maxstep = rowsplitted[2].split(/[\\(\\)]/); //console.log(\"maxstep\");\n      //console.log(maxstep)\n\n      for (var i = 3; i < rowsplitted.length; i = i + 2) {\n        //mySliderValues[Math.floor(parseInt(rowsplitted[i])/maxstep[1] - rowsplitted[1])] = rowsplitted[i + 1];//fix bug #269 add correct indices to ticks -100 100(0.5) will make -200 200\n        mySliderValues[parseFloat(rowsplitted[i])] = rowsplitted[i + 1]; //fix bug #269 new version of labeled, changed to parsefloat\n        //mySliderValues[rowsplitted[i]] = rowsplitted[i + 1]; //fix bug #minus float values not determined??\n      }\n\n      this.sliderValues[this.sliderId] = mySliderValues;\n      translatedRow += '<script>Interpreter.makeVASlider(' + this.sliderId + ',' + rowsplitted[1] + ',' + maxstep[0] + ', ' + this.questionPage + ',' + maxstep[1] + ');</script>';\n    } else {\n      for (i = 3; i < rowsplitted.length; i = i + 2) {\n        mySliderValues[parseInt(rowsplitted[i])] = rowsplitted[i + 1];\n      }\n\n      this.sliderValues[this.sliderId] = mySliderValues;\n      translatedRow += '<script>Interpreter.makeVASlider(' + this.sliderId + ',' + rowsplitted[1] + ',' + rowsplitted[2] + ', ' + this.questionPage + ');</script>';\n    } //console.log(\"va hodnoty js:\" + translatedRow);\n\n\n    return translatedRow;\n  };\n\n  _proto.translateSkalovaci = function translateSkalovaci(row) {\n    var translatedRow = ''; //\"<br />\";\n\n    this.sliderId++;\n    if (row) this.result.lastotazka = Interpreter.extract(row, 'task '); //fix bug #198\n    //move to task questionPage++; //moved from skalovaci??hodnoty\n    //fix #212    translatedRow += \"<p id='q\" + currentPage + \".\" + questionPage + \"' class='label'><input class='sliderlabel' readonly='true' type='text' id='slider\" + sliderId + \"Value'></p>\";\n\n    translatedRow += \"<p class='label'><input class='sliderlabel' readonly='true' type='text' id='slider\" + this.sliderId + \"Value'></p>\";\n    translatedRow += \"<div id='slider\" + this.sliderId + \"'></div>\"; //translatedRow += \"<br /><br />\";\n    //console.log(\"translateSkalovaci \" + sliderId);\n    //move it to skalovacihodnoty\n\n    return translatedRow;\n  };\n\n  _proto.translatePopis = function translatePopis(row) {\n    var taskindex = '';\n    if (this.sloupce && !this.parovaotazka) taskindex = ' #1';\n    if (Interpreter.endsWith(row, '?')) this.result.setDefaultOptionalAnswer(this.currentPage, this.questionPage, taskindex);else this.result.setDefaultAnswer(this.currentPage, this.questionPage, taskindex);\n    var translatedrow = \"<textarea rows='1' onkeyup='setAnswer(\" + this.currentPage + ',' + this.questionPage + \",this)'></textarea>\";\n\n    if (this.sloupce) {\n      if (this.parovaotazka) {\n        translatedrow += '</fieldset></form></td></tr>';\n      } else {\n        this.questionPage++;\n        taskindex = ' #2';\n        translatedrow += '</fieldset></form></td><td>' + this.generateHtmlOtazkaRow(taskindex); //fix bug#249 added closing form tag\n\n        if (Interpreter.endsWith(row, '?')) this.result.setDefaultOptionalAnswer(this.currentPage, this.questionPage, ' #2');else this.result.setDefaultAnswer(this.currentPage, this.questionPage, taskindex);\n        translatedrow += \"<textarea rows='1' onkeyup='setAnswer(\" + this.currentPage + ',' + this.questionPage + \",this)'></textarea>\";\n      }\n    }\n\n    return translatedrow;\n  } //if the question is not closed put values from previously defined question with values\n  ;\n\n  _proto.closeOtazka = function closeOtazka() {\n    if (!this.hodnotySetted) {\n      //console.log(\"closeOtazka() last values not set\");\n      //console.log(hodnoty);\n      //console.log(lastotazka);\\\n      this.hodnotySetted = true;\n\n      if (this.hodnoty[this.result.lastotazka]) {\n        //console.log(\"setting from last values\");\n        return this.translateHodnoty(this.hodnoty[this.result.lastotazka]);\n      }\n\n      return '</fieldset></form>\\n';\n    }\n\n    return '';\n  }\n  /*\n   *\t\"sloupce\" command initiate the HTML output to be generate into the HTML table with 2 collumns\n   */\n  ;\n\n  _proto.translateSloupce = function translateSloupce() {\n    if (!this.sloupce) {\n      this.sloupce = true; //return \"<table><thead><tr><th class='tablefirst'/><th class='tablesecond'/></thead><tbody><tr>\";\n\n      return '<table><tr>';\n    }\n\n    return '';\n  };\n\n  _proto.closeSloupce = function closeSloupce() {\n    if (this.sloupce) {\n      this.sloupce = false;\n      return '</tr></tbody></table>';\n    }\n\n    return '';\n  } //select generates select menu\n  ;\n\n  _proto.translateSelect = function translateSelect(rowsplitted) {\n    //fix bug ... indicate that the element was answered by changing the background\n    var row = \"<select onclick='this.style.background=\\\"lightblue\\\"; setAnswer(\" + this.currentPage + ',' + this.questionPage + \",this);' onchange='setAnswer(\" + this.currentPage + ',' + this.questionPage + \",this);'>\";\n\n    for (var i = 1; i < rowsplitted.length; i++) {\n      row += \"<option value='\" + rowsplitted[i] + \"'>\" + rowsplitted[i] + '</option>';\n    }\n\n    row += '</select>';\n    this.result.setDefaultAnswer(this.currentPage, this.questionPage); //fix bug # 198\n\n    return row;\n  };\n\n  _proto.translateStyle = function translateStyle(previoustoken, row) {\n    var firsttoken = row.trim().split(' ', 2)[0]; //gets #style or #stylebutton or #styleform\n\n    var styledefinition = Interpreter.extract(row, firsttoken); //extract the previously obtained token\n\n    if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isObrazovka(previoustoken)) //style of body e.g.:max-width:40em\n      {\n        return \"\\n<script>document.body.style='\" + styledefinition + \"'</script>\\n\";\n      }\n\n    if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isZvuk(previoustoken)) //style of all stimulus attribute e.g.: width:10%;\n      {\n        return \"\\n<script>$('.stimulus').attr('style','\" + styledefinition + \"');</script>\\n\";\n      }\n\n    if (previoustoken === 'button') {\n      return \"\\n<script>$('.sound-button').attr('style','\" + styledefinition + \"');</script>\\n\";\n    }\n\n    if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isOtazka(previoustoken)) {\n      return \"\\n<script>$('.task').attr('style','\" + styledefinition + \"');</script>\\n\";\n    }\n\n    if (previoustoken === 'form') {\n      return '\\n<script>' + //\"console.log('\" +lastformidescaped+\"');\"+ //logs\n      \"$('#\" + this.lastformidescaped + \"').attr('style','\" + styledefinition + \"');\" + //sets style for the form element with last formid\n      \"$('#\" + this.lastformidescaped + \" ~ form').attr('style','\" + styledefinition + \"');\" + //and sets style for all other sibling forms\n      '</script>\\n';\n    } //fix #212, 248\n    //return \"\\n<script>$('.task').children('form').attr('style','\" + styledefinition + \"');</script>\\n\";\n\n\n    return '';\n  };\n\n  _proto.translateType = function translateType(row) {\n    //translates type - educational mode, previous button allowed/notallowed etc.\n    if (row.contains('nopreviousbutton')) this.allowprev = false;\n    if (row.contains('yespreviousbutton')) this.allowprev = true;\n    if (row.contains('educational')) this.educational = true;\n\n    if (this.educational) {\n      this.eduid = row.match(/educational\\(([\\d]+)\\)/)[1];\n      if (this.eduid !== '') this.getEduResults();\n    } //indexOf(\"educational\")+1\n\n  };\n\n  _proto.getEduResults = function getEduResults() {\n    $.getJSON(PsychoResultIdUrl + this.eduid, null, function (data) {\n      //console.log(\"retrieved educational raw results\");\n      //console.log(data);\n      this.eduresults = {};\n      data[0].resultItems.forEach(function (item) {\n        //console.log(\"parsing item:\");\n        //console.log(item);\n        var itemobj = RepairJSONResultItem(item);\n        if (!this.eduresults[itemobj.case]) this.eduresults[itemobj.case] = {};\n        if (!this.eduresults[itemobj.case].answer) this.eduresults[itemobj.case].answer = [];\n        this.eduresults[itemobj.case].answer[itemobj.question.trim()] = itemobj.answer;\n        if (!this.eduresults[itemobj.case].note) this.eduresults[itemobj.case].note = [];\n        if (!itemobj.note) this.eduresults[itemobj.case].note[itemobj.question.trim()] = itemobj.date; //TODO new collumn for note, current workaround, note into date collumn\n        else this.eduresults[itemobj.case].note[itemobj.question.trim()] = itemobj.note;\n      }); //console.log(\"retrieved educational results\");\n      //console.log(eduresults);\n    });\n  } //translate one row\n  ;\n\n  _proto.translateTestItems = function translateTestItems(row) {\n    var translatedRow = '';\n    row = row.trim(); //console.log('test item:');\n    //console.log(row);\n\n    /*var re1 = /[ ;,]+/; // fix feature bug #240, coma ',' is used to separate interval numbers\n     var rowsplitted = row.split(re1);*/\n\n    var rowsplitted = this.splitValues(row); //fix bug, comas and spaces in quotes\n\n    if (rowsplitted.length === 0) return translatedRow;\n    if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isZvuk(rowsplitted[0])) translatedRow += this.stimul.translateZvuk(rowsplitted, this.tstate.poradivnticinahodne, this.result, this.sloupce);else if (!_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].startsWithComment(rowsplitted[0])) translatedRow += this.stimul.translateNonZvuk(row); //do separation between stimuli and other elements\n\n    if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isZvuk(rowsplitted[0])) {}\n    /* already done in previous call, no action*/\n    //else if (Dsl.isVideo(rowsplitted[0])) translatedRow += this.stimul.translateVideo(rowsplitted); //deprecated\n    else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isText(rowsplitted[0])) translatedRow += this.translateText(row);else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isSloupce(rowsplitted[0])) translatedRow += this.translateSloupce();\n      /*else if (Dsl.isParovaOtazka(rowsplitted[0])) { //priority over Dsl.isOtazka\n          translatedRow += this.closeOtazka();\n          translatedRow += this.translateParovaOtazka(row);\n      } //else if (Dsl.isSkalovaci(rowsplitted[0])) translatedRow += translateSkalovaci(row); //priority over Dsl.isOtazka\n      */\n      else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isTaskForStimuli(rowsplitted[0])) {\n          translatedRow += this.closeOtazka();\n          if (this.sloupce) translatedRow += this.translateTaskForStimuli(row);else Console.log(\"Warning: unexpected token 'taskforstimuli' not in pair \");\n        } else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isOtazka(rowsplitted[0])) {\n          translatedRow += this.closeOtazka();\n          if (this.sloupce) translatedRow += this.translateParovaOtazka(row);else translatedRow += this.translateOtazka(row);\n        } else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isPanel(rowsplitted[0])) {\n          translatedRow += this.closeOtazka();\n        } else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isHodnoty(rowsplitted[0]) || _dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isCheckboxvalues(rowsplitted[0])) translatedRow += this.translateHodnoty(rowsplitted); //will match also valuesonrow and checkboxvaluesonrow\n        // move decDsl.ision on type of hodnoty on function translateValues else if (Dsl.isHodnoty(rowsplitted[0])) translatedRow += translateHodnoty(rowsplitted,true);\n        //else if (Dsl.isCheckboxvalues(rowsplitted[0])) translatedRow += translateHodnoty(rowsplitted, false);\n        else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isSkalovaciHodnoty(rowsplitted[0])) translatedRow += this.translateScale(this.previousrow, rowsplitted);else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isSkala(rowsplitted[0])) translatedRow += this.translateVAScale(this.previousrow, rowsplitted);else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isPopis(rowsplitted[0])) translatedRow += this.translatePopis(row);else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isSerad2d(rowsplitted[0])) translatedRow += this.ranking2d.translateSerad2d(row.slice('ranking2d'.length), this.stimul.audioid, this.currentPage, this.questionPage++);else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isSelect(rowsplitted[0])) translatedRow += this.translateSelect(rowsplitted);else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isStyleButton(rowsplitted[0])) translatedRow += this.translateStyle('button', row);else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isStyleForm(rowsplitted[0])) translatedRow += this.translateStyle('form', row);else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isStyle(rowsplitted[0])) translatedRow += this.translateStyle(this.previoustoken, row);else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isType(rowsplitted[0])) this.translateType(row);\n\n    this.previoustoken = rowsplitted[0];\n    if (!_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].startsWithComment(rowsplitted[0])) this.previousrow = row;\n    return translatedRow;\n  };\n\n  _proto.footerPageNumber = function footerPageNumber() {\n    return \"<p align='center' class='footer'>Obrazovka \" + this.currentPage + ' z celkem ' + this.maxPages + '.</p>';\n  } //shuffle randomly the array\n  ;\n\n  _proto.shuffle = function shuffle() {\n    var i = this.length;\n    var j;\n    var temp;\n    if (i == 0) return this;\n\n    while (--i) {\n      j = Math.floor(Math.random() * (i + 1));\n      temp = this[i];\n      this[i] = this[j];\n      this[j] = temp;\n    }\n\n    return this;\n  }\n  /*\n   *\tthis script will preprocess the test - make combination of screens etc. before it is interpretted\n   * e.g. \"parovytest\", there are made pairs from the sounds within this test and generated screens,\n   *      for 2 sound there is 1 pair, for 3 sounds there are 3 pair combination [1,2][1,3][2,3], ...\n   */\n  //    this.prep = new Preprocesor(this); //backward reference\n  ;\n\n  //reset all values\n  _proto.initTest = function initTest(currentRawTest) {\n    /*this.tstate.poradivnticinahodne = false;\n    this.tstate.poradizvukunahodne = false;\n    this.tstate.poradicasenahodne = false;*/\n    this.educational = false;\n    this.highlighted = false;\n    this.prep = new _preprocesor__WEBPACK_IMPORTED_MODULE_4__[\"Preprocesor\"](this);\n    this.currentTest = this.prep.preprocessTest(currentRawTest); //preprocess from currentRawTest to currentTest\n\n    this.tstate = this.prep.tstate; //console.log(currentTest);\n\n    this.maxPages = this.currentTest.match(/\\n[\\s]*screen/ig).length;\n    this.testName = Interpreter.extract(this.currentTest.match(/test .*/i).toString(), 'test ');\n    this.currentCursor = 0;\n    this.currentPage = 0;\n    this.resumeid = 0;\n    this.result.answers = []; //reset answers TODO check\n\n    this.sliderValues = []; //reset slider values\n  };\n\n  _proto.resumeTest = function resumeTest(currentRawTest, page, answers, resumeid) {\n    this.educational = false; //TODO persist\n\n    this.highlighted = false; //TODO persist\n\n    this.sliderValues = []; //TODO persist?\n\n    this.resumeid = resumeid;\n    this.prep = new _preprocesor__WEBPACK_IMPORTED_MODULE_4__[\"Preprocesor\"](this);\n    this.currentTest = currentRawTest; //a;ready preprocessed\n\n    this.tstate = this.prep.tstate; //console.log(currentTest);\n\n    this.maxPages = this.currentTest.match(/\\n[\\s]*screen/ig).length;\n    this.testName = Interpreter.extract(this.currentTest.match(/test .*/i).toString(), 'test ');\n    this.currentCursor = 0;\n    this.currentPage = 0; //    this.currentPage = page; //persistent\n\n    if (page > 0) {\n      page--;\n\n      while (this.currentPage < page) {\n        this.nextpage();\n      }\n    } else {\n      console.log('weird paused at page 0; or 1;');\n    }\n\n    this.result.answers = answers; //reset answers\n  };\n\n  _proto.findPreviousObrazovka = function findPreviousObrazovka(testDSL) {\n    var splitted = testDSL.split('\\n');\n    this.currentCursor--;\n    this.currentPage -= 2;\n\n    while (this.currentCursor > 0 && !splitted[this.currentCursor].startsWith('screen')) {\n      this.currentCursor--;\n    }\n\n    if (this.currentCursor > 0) this.currentCursor--; //step over the curent item\n\n    while (this.currentCursor > 0 && !splitted[this.currentCursor].startsWith('screen')) {\n      this.currentCursor--;\n    }\n  }\n  /*nextpage(){\n    return \"<p>some demo test</p>\";\n  }*/\n  ;\n\n  Interpreter.makeSlider = function makeSlider(sliderVal, sliderMin, sliderMax, sliderStep, sliderId, myQuestionPage) {\n    //console.log(\"slider\");\n    this.result.setDefaultAnswer(\n    /*parser*/\n    this.currentPage, myQuestionPage);\n    var myslider = $('#slider' + sliderId);\n    myslider.labeledslider({\n      value: sliderVal,\n      min: sliderMin,\n      max: sliderMax,\n      step: sliderStep,\n      slide: function slide(event, ui) {\n        $('#slider' + sliderId + 'Value').val(\n        /*parser*/\n        this.sliderValues[sliderId][ui.value]); //ui.handle.style.backgroundColor = \"lightblue\";//css(\"background-color\",\"lightblue\"); jquery ui\n\n        this.style.background = 'lightblue';\n        setAnswer(\n        /*parser*/\n        this.currentPage, myQuestionPage,\n        /*parser*/\n        this.sliderValues[sliderId][ui.value]);\n      },\n      start: function start(event, ui) {\n        $('#slider' + sliderId + 'Value').val(\n        /*parser*/\n        this.sliderValues[\n        /*parser*/\n        this.sliderId][ui.value]); //ui.handle.style.backgroundColor = \"lightblue\";\n\n        this.style.background = 'lightblue';\n        setAnswer(\n        /*parser*/\n        this.currentPage, myQuestionPage,\n        /*parser*/\n        this.sliderValues[\n        /*parser*/\n        this.sliderId][ui.value]);\n      },\n      tickLabels:\n      /*parser*/\n      this.sliderValues[sliderId]\n    });\n    var width = myslider.width() / (\n    /*parser*/\n    this.sliderValues[\n    /*parser*/\n    this.sliderId].length - 1);\n  };\n\n  Interpreter.makeVASlider = function makeVASlider(sliderId, sliderMin, sliderMax, myQuestionPage, sliderStep) {\n    if (sliderStep === void 0) {\n      sliderStep = 1;\n    }\n\n    //console.log(\"VAslider\");\n    this.result.setDefaultAnswer(\n    /*parser*/\n    this.currentPage, myQuestionPage);\n    var sliderKeysstr = Object.keys(\n    /*parser*/\n    this.sliderValues[sliderId]);\n    var sliderKeys = sliderKeysstr.map(Number); //fix bug #269 new version of labeledslider requires numbers\n\n    $('#slider' + sliderId).labeledslider({\n      value: sliderMin,\n      min: sliderMin,\n      max: sliderMax,\n      step: sliderStep,\n      slide: function slide(event, ui) {\n        $('#slider' + sliderId + 'Value').val(ui.value);\n        this.style.background = 'lightblue';\n        setAnswer(\n        /*parser*/\n        this.currentPage, myQuestionPage, ui.value);\n      },\n      start: function start(event, ui) {\n        $('#slider' + sliderId + 'Value').val(ui.value);\n        this.style.background = 'lightblue'; //$(\"#slider\" + sliderId).css(\"background\",\"lightblue\");\n\n        setAnswer(\n        /*parser*/\n        this.currentPage, myQuestionPage, ui.value);\n      },\n      //tickInterval:sliderStep,\n      tickArray: sliderKeys,\n      tickLabels:\n      /*parser*/\n      this.sliderValues[sliderId]\n    });\n  };\n\n  _proto.starttest = function starttest() {\n    $('#tab2help').hide(); //.fadeOut(500); TODO html specific\n\n    var currentRawTest = this.selectedTestDefinition;\n    if (typeof this.editor !== 'undefined') currentRawTest = this.editor.getValue(); //    parser = new Interpreter();\n\n    this.initTest(currentRawTest);\n    this.hideNonAnswered();\n    this.controller.preview.innerHTML = this.nextpage(); ///*parser*/this.currentTest);\n    //console.log(this.controller.preview.innerHTML);\n\n    this.evaluateScripts();\n  };\n\n  _proto.resumetest = function resumetest() {\n    $('#tab2help').hide(); //.fadeOut(500); TODO html specific\n    //var currentRawTest = selectedTestDefinition;\n    //if (typeof editor !== \"undefined\") currentRawTest = editor.getValue();\n    //parser = new Interpreter();\n\n    this.resumeTest(this.selectedTestDefinition, this.selectedTestScreennumber, this.selectedTestAnswers, this.selectedTestId);\n    this.hideNonAnswered();\n    this.controller.preview.innerHTML = this.nextpage(); ///*parser*/this.currentTest);\n    //console.log(this.controller.preview.innerHTML);\n\n    this.evaluateScripts();\n  };\n\n  _proto.nextpage = function nextpage() {\n    var testDSL = this.currentTest;\n    this.currentPage++;\n    this.questionPage = 0;\n    this.stimul.audioid = 0; //reset audioid\n\n    console.log('next page', this.currentPage);\n\n    if (this.currentPage >= this.maxPages) {\n      if (this.currentPage === 1) this.controller.lastNoPrevPage();else this.controller.lastPage();\n    } else if (this.currentPage === 1) this.controller.firstPage();else this.controller.middlePage();\n\n    var translatedheader = '';\n    var splitted = testDSL.split('\\n'); //go from cursor to the first \"screen\" which will be start of interpretation\n\n    while (\n    /*parser*/\n    this.currentCursor < splitted.length && !_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isObrazovka(splitted[\n    /*parser*/\n    this.currentCursor])) {\n      /*parser*/\n      this.currentCursor++;\n    } //translate obrazovka row\n\n\n    if (\n    /*parser*/\n    this.currentCursor < splitted.length) {\n      translatedheader +=\n      /*parser*/\n      this.translateObrazovka(splitted[\n      /*parser*/\n      this.currentCursor]);\n      /*parser*/\n\n      this.currentCursor++;\n    } //interpret everything until next 'obrazovka or end'\n\n\n    while (\n    /*parser*/\n    this.currentCursor < splitted.length && !_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isObrazovka(splitted[\n    /*parser*/\n    this.currentCursor])) {\n      translatedheader +=\n      /*parser*/\n      this.translateTestItems(splitted[\n      /*parser*/\n      this.currentCursor]);\n      /*parser*/\n\n      this.currentCursor++;\n    } //console.log(\"translated 0:\" + translatedheader);\n\n\n    translatedheader +=\n    /*parser*/\n    this.closeOtazka(); //close open questions without values\n\n    translatedheader +=\n    /*parser*/\n    this.closeSloupce();\n    translatedheader +=\n    /*parser*/\n    this.stimul.closeQuestionDiv();\n    translatedheader +=\n    /*parser*/\n    this.footerPageNumber();\n    console.log(\"translated header:\", translatedheader);\n    return translatedheader;\n  };\n\n  _proto.traversetest = function traversetest(definition, callback, errorcallback) {\n    /*parser*/\n    this.initTest(definition);\n\n    while (\n    /*parser*/\n    this.currentPage <\n    /*parser*/\n    this.maxPages) {\n      this.nextpage();\n    } //evaluateScripts(); //there are no scripts, only innerhtml\n\n\n    this.postAnswers(callback, errorcallback);\n  } //TODO check if needed - remove\n  ;\n\n  _proto.cleartest = function cleartest() {\n    this.controller.preview.innerHTML = '';\n    this.showButtonsStart();\n  } //TODO check if needed - remove\n  ;\n\n  _proto.previoustestitem = function previoustestitem() {\n    /*parser*/\n    this.findPreviousObrazovka(\n    /*parser*/\n    this.currentTest);\n    this.controller.preview.innerHTML = this.nextpage();\n    this.evaluateScripts();\n  } //TODO violation of separation, mixed parser-interpreter and content\n  ;\n\n  _proto.checkAnswersInScreen = function checkAnswersInScreen() {\n    var foundNA = false;\n    var item;\n\n    if (\n    /*parser*/\n    this.result.answers[\n    /*parser*/\n    this.currentPage - 1]) {\n      for (var i = 0; i <\n      /*parser*/\n      this.result.answers[\n      /*parser*/\n      this.currentPage - 1].length; i++) {\n        if (\n        /*parser*/\n        this.result.answers[\n        /*parser*/\n        this.currentPage - 1][i] &&\n        /*parser*/\n        this.result.answers[\n        /*parser*/\n        this.currentPage - 1][i].answer) {\n          if (\n          /*parser*/\n          this.result.answers[\n          /*parser*/\n          this.currentPage - 1][i].answer === 'N/A') {\n            //highlight - /*parser*/this.result\n            item = $('#q' +\n            /*parser*/\n            this.currentPage + '\\\\.' + (i + 1) + '>fieldset'); //document.getElementById('q' + /*parser*/this.currentPage + '.' + (i + 1));\n\n            if (!item.length) item = $('#q' +\n            /*parser*/\n            this.currentPage + '\\\\.' + (i + 1)); //if (item.length)\n\n            item.css('background-color', '#ffdddd');\n            foundNA = true;\n          } else {\n            item = $('#q' +\n            /*parser*/\n            this.currentPage + '\\\\.' + (i + 1) + '>fieldset'); //document.getElementById('q' + /*parser*/this.currentPage + '.' + (i + 1));\n\n            if (!item.length) item = $('#q' +\n            /*parser*/\n            this.currentPage + '\\\\.' + (i + 1));\n            if (item.length) item.css('background-color', '#ffffff'); //if (item) item.style.backgroundColor = \"#ffffff\";\n          }\n        }\n      }\n    }\n\n    return foundNA;\n  }\n  /* returns true if all questions are answered, false if at least one answer is not*/\n  ;\n\n  _proto.checkAnswers = function checkAnswers() {\n    //for each answers[pagenum-1] answer!= N/A\n    //var foundNA = false;\n    var dontcheckanswers = document.getElementById('dontcheckanswers');\n    if (dontcheckanswers && dontcheckanswers.prop('checked')) return true; //don't check in editor mode\n\n    var foundNA = this.checkAnswersInScreen();\n    return !foundNA;\n  };\n\n  _proto.highlightNonAnswered = function highlightNonAnswered() {\n    var item = $('#notification');\n    item.css('background-color', '#fdd');\n    item.html(' Pro pokraovn, prosm, vyplte vyznaen otzky!');\n  };\n\n  _proto.hideNonAnswered = function hideNonAnswered() {\n    document.getElementById('notification').innerHTML = '';\n  };\n\n  _proto.nexttestitem = function nexttestitem() {\n    if (this.checkAnswers()) {\n      //check whether all mandatory questions are answered - set to non-default value\n      if (this.highlightEducation()) {\n        this.controller.preview.innerHTML = this.nextpage();\n        /*parser*/\n\n        this.highlighted = false;\n        this.evaluateScripts();\n        this.hideNonAnswered();\n      } else {//not highlighted\n      }\n    } else {\n      this.highlightNonAnswered();\n    }\n  };\n\n  _proto.highlightEducation = function highlightEducation() {\n    var atleastoneeduanswer = false;\n\n    if (\n    /*parser*/\n    this.educational) {\n      if (!\n      /*parser*/\n      this.result.answers[\n      /*parser*/\n      this.currentPage - 1]) return true;\n\n      if (\n      /*parser*/\n      this.highlighted) {\n        document.getElementById('notification').innerHTML = '';\n        return true;\n      }\n      /*parser*/\n\n\n      this.highlighted = true;\n\n      if (\n      /*parser*/\n      this.result.answers[\n      /*parser*/\n      this.currentPage - 1]) {\n        for (var i = 0; i <\n        /*parser*/\n        this.result.answers[\n        /*parser*/\n        this.currentPage - 1].length; i++) {\n          if (\n          /*parser*/\n          this.result.answers[\n          /*parser*/\n          this.currentPage - 1][i] && 'answer' in\n          /*parser*/\n          this.result.answers[\n          /*parser*/\n          this.currentPage - 1][i]) {\n            //fix bug 268\n            var item = $('#q' +\n            /*parser*/\n            this.currentPage + '\\\\.' + (i + 1)); //document.getElementById('q' + currentPage + '.' + (i + 1));\n            //disable editing the subelement within this form\n\n            item.find('input').prop('disabled', true);\n            item.find('option').prop('disabled', true);\n            item.find('.ui-slider').labeledslider('disable'); //console.log(\"#q\" + currentPage + \"\\\\.\" + (i + 1));\n            //if (item) item.style.backgroundColor = \"#eeffee\";\n\n            var aquestion =\n            /*parser*/\n            this.result.answers[\n            /*parser*/\n            this.currentPage - 1][i].question.trim();\n            var acase =\n            /*parser*/\n            this.result.answers[\n            /*parser*/\n            this.currentPage - 1][i].case;\n            var answer =\n            /*parser*/\n            this.result.answers[\n            /*parser*/\n            this.currentPage - 1][i].answer; //var myeduanswer;\n\n            if (\n            /*parser*/\n            this.eduresults[acase]) {\n              var myeduanswer =\n              /*parser*/\n              this.eduresults[acase].answer[aquestion];\n              console.log('eduanswer');\n              console.log(\n              /*parser*/\n              this.eduresults[acase]);\n              console.log(\"'\" + aquestion + \"'\");\n              console.log(Object.keys(\n              /*parser*/\n              this.eduresults[acase].answer));\n              console.log(myeduanswer);\n\n              if (myeduanswer) {\n                atleastoneeduanswer = true; //creating tooltip div\n\n                $(\"<div class='tooltipContent'>\" +\n                /*parser*/\n                this.eduresults[acase].note[aquestion] + '</div>').appendTo(item); //adding tooltip class to the form\n\n                item.addClass('tooltip'); //process all eduanswers;\n\n                var eduanswermulti = myeduanswer.split(';'); //show multiple values delimited by ;\n\n                eduanswermulti.forEach(function (eduanswer) {\n                  var hitem = item.find(\"[value|='\" + eduanswer + \"']\"); //selects <input>\n\n                  if (hitem.length > 0) {\n                    var nexthitem = hitem.next(); //selects related <label>\n                    //console.log(\"item:\" + item.prop('nodeName') + \" hitem:\" + hitem.prop('nodeName') + \" nexthitem:\" + nexthitem.prop('nodeName'));\n\n                    if (nexthitem.is('label')) {\n                      nexthitem.attr('style', 'background-color: lightgreen');\n                    } else if (hitem.is('option')) {\n                      hitem.attr('style', 'background-color: lightgreen;border:solid 2px green');\n                    }\n                  } else {\n                    // show in slider handle\n                    hitem = item.find('.ui-slider');\n\n                    if (hitem.length > 0) {\n                      //var idhitem = hitem.prop(\"id\");\n                      var currentvalue = hitem.labeledslider('value'); //keep current value\n\n                      var sliderid = hitem.prop('id');\n                      var slidernum = parseInt(Interpreter.extract(sliderid, 'slider'), 10);\n                      var eduanswerint = parseInt(eduanswer, 10);\n                      var eduanswerindex =\n                      /*parser*/\n                      this.sliderValues[slidernum].indexOf(eduanswerint); //moves slider handle to educational value\n\n                      if (eduanswerindex > -1) //move to edu value from sequence\n                        {\n                          //console.log(\"slidervalue:\" + sliderValues[slidernum][eduanswerindex]);\n                          hitem.labeledslider('value',\n                          /*parser*/\n                          this.sliderValues[slidernum][eduanswerindex]);\n                        } else //move to edu value\n                        {\n                          //console.log(\"normal value:\" + eduanswerint);\n                          hitem.labeledslider('value', eduanswerint); //move to edu value\n                        } //var handle = item.find(\".ui-slider-handle\");\n\n\n                      var oldhandle = hitem.find('.ui-slider-handle');\n                      var newhandle = hitem.find('.ui-slider-handle').clone(); //.appendTo(hitem); //clone the handle\n                      //slider already has some style - position, whihc must be preserved\n\n                      hitem.labeledslider('value', currentvalue); //return to current value - the clone will remain on the edu value\n\n                      var oldstyle = oldhandle.attr('style') + 'border:solid 2px blue;';\n                      var newstyle = newhandle.attr('style') + 'background:lightgreen;';\n                      newhandle.attr('style', newstyle);\n                      oldhandle.attr('style', oldstyle);\n                      hitem.labeledslider('disable');\n                      newhandle.appendTo(hitem); //hitem.find(\".ui-slider-handle\").last().attr(\"style\", \"background:green\");\n                    } else {//select\n                      }\n                  }\n                });\n              }\n            }\n          }\n        } //allanswers highlighted, enable tooltip\n\n\n        $('.tooltip').hover(function () {\n          var tooltip = $('> div', this).show();\n          var pos = tooltip.offset();\n          tooltip.hide();\n          var right = pos.left + tooltip.width();\n          var pageWidth = $(document).width();\n\n          if (pos.left < 0) {\n            tooltip.css('marginLeft', '+=' + -pos.left + 'px');\n          } else if (right > pageWidth) {\n            tooltip.css('marginLeft', '-=' + (right - pageWidth));\n          }\n\n          tooltip.fadeIn();\n        }, function () {\n          $('> div', this).fadeOut(function () {\n            $(this).css('marginLeft', '');\n          });\n        });\n      }\n\n      if (atleastoneeduanswer) {\n        var item2 = $('#notification');\n        item2.css('background-color', 'lightgreen');\n        item2.html('Vyznaeny jsou prmrn, nejvce vybran hodnoty na uveden otzky.');\n      } else\n        /*parser*/\n        this.highlighted = false;\n\n      return !atleastoneeduanswer;\n    }\n\n    return true;\n  } //TODO add PsychoTestPauseUrl, construct pausedtestresult, implement resumetest(), add a select box with tests to resume into HTML, after selection load raw test, load results and go into the last screen,\n  ;\n\n  _proto.pausetest = function pausetest() {\n    if (!confirm('Do you want to postpone the test execution? Postponed test can be resumed later from the current screen.')) return; //store results, raw test and screen number into server\n\n    var pausedtestResult = {};\n    pausedtestResult.testname =\n    /*parser*/\n    this.testName; //{ get; set; }\n\n    pausedtestResult.screennumber =\n    /*parser*/\n    this.currentPage; //{ get; set; }\n\n    pausedtestResult.rawtestdefinition =\n    /*parser*/\n    this.currentTest; //{ get; set; }\n    //pausedtestResult.loginname = prompt(\"Enter your unique ID, e.g. email address\");\n\n    pausedtestResult.temporalresults = JSON.stringify(\n    /*parser*/\n    this.result.answers);\n    var METHOD = 'PUT';\n\n    if (\n    /*parser*/\n    this.resumeid > 0) {\n      pausedtestResult.id =\n      /*parser*/\n      this.resumeid;\n      METHOD = 'POST';\n    }\n\n    $.ajax({\n      type: METHOD,\n      url: PsychoTestPauseUrl,\n      contentType: 'application/json',\n      dataType: 'json',\n      data: JSON.stringify(pausedtestResult),\n      processData: false,\n      success: this.pausetestcallback,\n      error: this.postAnswerErrorCallback\n    }); //console.log(\"TODO, not yet implemented pausetest()\");\n  };\n\n  _proto.pausetestcallback = function pausetestcallback(data) {\n    console.log('saved paused test. Response:'); //console.log(data)\n\n    pausedtestid = data.id;\n    this.focusPaused(); //calling back to focus the paused Tab\n  };\n\n  _proto.evaluateScripts = function evaluateScripts() {\n    //evaluate graphs\n    var codes = this.controller.preview.getElementsByTagName('script'); //document.getElementById('preview').getElementsByTagName('script');\n    //console.log(\"codes\"+codes);\n    //console.log(codes);\n\n    for (var i = 0; i < codes.length; i++) {\n      eval(codes[i].text);\n    }\n  };\n\n  return Interpreter;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9pbnRlcnByZXRlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2ludGVycHJldGVyLmpzP2RkMDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdqcXVlcnknO1xuaW1wb3J0IHtTdGltdWx1c2ludGVycHJldGVyfSBmcm9tICcuL3N0aW11bHVzaW50ZXJwcmV0ZXInO1xuaW1wb3J0IHtSZXNwb25zZWludGVycHJldGVyfSBmcm9tICcuL3Jlc3BvbnNlaW50ZXJwcmV0ZXInO1xuaW1wb3J0IHtSYW5raW5nMmRpbnRlcnByZXRlcn0gZnJvbSAnLi9yYW5raW5nMmRpbnRlcnByZXRlcic7XG5pbXBvcnQge1ByZXByb2Nlc29yfSBmcm9tICcuL3ByZXByb2Nlc29yJztcbmltcG9ydCB7RHNsfSBmcm9tICcuL2RzbCc7XG5cbi8vc2h1ZmZsZSByYW5kb21seSB0aGUgYXJyYXlcbkFycmF5LnByb3RvdHlwZS5zaHVmZmxlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaSA9IHRoaXMubGVuZ3RoLCBqLCB0ZW1wO1xuICBpZiAoaSA9PSAwKSByZXR1cm4gdGhpcztcbiAgd2hpbGUgKC0taSkge1xuICAgIGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTtcbiAgICB0ZW1wID0gdGhpc1tpXTtcbiAgICB0aGlzW2ldID0gdGhpc1tqXTtcbiAgICB0aGlzW2pdID0gdGVtcDtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vbWFrZSBwcm90b3R5cGUgZnVuY3Rpb24gc3RhcnRzV2l0aCAtIGlmIGl0IGRvZXMgbm90IGV4aXN0XG5pZiAodHlwZW9mIFN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aCAhPSAnZnVuY3Rpb24nKSB7XG4gIFN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICByZXR1cm4gdGhpcy5zbGljZSgwLCBzdHIubGVuZ3RoKSA9PSBzdHI7XG4gIH07XG59XG5cblN0cmluZy5wcm90b3R5cGUuZW5kc1dpdGggPSBmdW5jdGlvbiAoc3VmZml4KSB7XG4gIHJldHVybiB0aGlzLmluZGV4T2Yoc3VmZml4LCB0aGlzLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGgpICE9PSAtMTtcbn07XG5cblN0cmluZy5wcm90b3R5cGUuZXh0cmFjdCA9IGZ1bmN0aW9uIChzdWJzKSB7XG4gIHJldHVybiB0aGlzLnN1YnN0cmluZyh0aGlzLmluZGV4T2Yoc3Vicykrc3Vicy5sZW5ndGgpO1xuXG59O1xuXG5TdHJpbmcucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24oc3RyKXtcbiAgcmV0dXJuIHRoaXMuaW5kZXhPZihzdHIpICE9PSAtMTtcbn07XG5cbmV4cG9ydCBjbGFzcyBJbnRlcnByZXRlciB7XG4gIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyOyAvL2lzIHVzZWQgdG8gbm90aWZ5IGZpcnN0IG9yIGxhc3QgcGFnZSBvZiB0ZXN0IGFuZCB0byBjb250cm9sIHRlc3QgcGFnZSBmbG93XG4gICAgdGhpcy5jdXJyZW50Q3Vyc29yID0gMDtcbiAgICB0aGlzLmN1cnJlbnRQYWdlID0gMDtcbiAgICB0aGlzLm1heFBhZ2VzID0gMDtcbiAgICB0aGlzLnF1ZXN0aW9uUGFnZSA9IDA7XG4gICAgdGhpcy5zbGlkZXJWYWx1ZXMgPSBbXTtcbiAgICB0aGlzLnRlc3ROYW1lID0gJyc7XG4gICAgdGhpcy5jdXJyZW50VGVzdCA9ICcnO1xuICAgIHRoaXMuc2xvdXBjZSA9IGZhbHNlO1xuICAgIHRoaXMuc2xpZGVySWQgPSAwO1xuICAgIHRoaXMucHJldmlvdXN0b2tlbiA9ICcnOyAvL2hvbGRzIHByZXZpb3VzIHRva2VuIC0gZm9yIGRpc3Rpbmd1aXNoaW5nIHN0YXRlcyBkdXJpbmcgaW50ZXJwcmV0YXRpb25cbiAgICB0aGlzLnByZXZpb3Vzcm93ID0gJyc7Ly9ob2xkcyBwcmV2aW91cyByb3dcbiAgICB0aGlzLnRzdGF0ZSA9IHt9OyAvL2hvbGRzIHN0cnVjdHVyZSBvZiBzdGF0ZSB2YXJpYWJsZXNcbiAgICAvL2tlZXAgdGhlIGxhc3QgcXVlc3Rpb24gYW5kIHZhbHVlcyBmb3IgYW5zd2VyXG4gICAgdGhpcy5hbGxvd3ByZXYgPSB0cnVlO1xuICAgIHRoaXMuZWR1Y2F0aW9uYWwgPSBmYWxzZTtcbiAgICB0aGlzLmhpZ2hsaWdodGVkID0gZmFsc2U7XG4gICAgdGhpcy5lZHVpZCA9IDA7XG4gICAgdGhpcy5lZHVyZXN1bHRzID0ge307Ly9uZXcgUmVzcG9uc2VzKCk7XG4gICAgdGhpcy5yZXN1bWVpZCA9IDA7IC8vaWQgb2YgcGF1c2VkIHRlc3Q7IGZvciBmdXR1cmUgdXBkYXRlXG5cbiAgICB0aGlzLmhvZG5vdHkgPSBbXTtcbiAgICB0aGlzLmhvZG5vdHlTZXR0ZWQgPSB0cnVlO1xuICAgIC8vICAgIHRoaXMuY29sdW1ubnVtYmVyID0gMDtcbiAgICB0aGlzLmxhc3Rmb3JtaWQgPSAnJztcbiAgICB0aGlzLmxhc3Rmb3JtaWRlc2NhcGVkID0gJyc7XG4gICAgdGhpcy5wYXVzZWR0ZXN0aWQgPSAwO1xuICAgIHRoaXMucGFyb3Zhb3RhemthID0gZmFsc2U7XG5cbiAgICB0aGlzLnJlc3VsdCA9IG5ldyBSZXNwb25zZWludGVycHJldGVyKCk7XG4gICAgdGhpcy5zdGltdWwgPSBuZXcgU3RpbXVsdXNpbnRlcnByZXRlcih0aGlzKTtcbiAgICB0aGlzLnJhbmtpbmcyZCA9IG5ldyBSYW5raW5nMmRpbnRlcnByZXRlcih0aGlzKTtcbiAgfVxuXG4gIHN0YXRpYyBleHRyYWN0KHMsIHN1YnMpIHtcbiAgICByZXR1cm4gcy5zdWJzdHJpbmcocy5pbmRleE9mKHN1YnMpICsgc3Vicy5sZW5ndGgpO1xuICB9XG5cbiAgc3RhdGljIGVuZHNXaXRoKHMsIHN1ZmZpeCkge1xuICAgIHJldHVybiBzLmluZGV4T2Yoc3VmZml4LCBzLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGgpICE9PSAtMTtcbiAgfVxuXG4gIHRyYW5zbGF0ZU9icmF6b3ZrYShyb3cpIHtcbiAgICB0aGlzLnJlc3VsdC5yZXNldExhc3QoKTtcbiAgICB0aGlzLnNsb3VwY2UgPSBmYWxzZTtcbiAgICBsZXQgdHJhbnNsYXRlZFJvdyA9IFwiPHNwYW4gY2xhc3M9J2xlZnRoZWFkJz5cIiArIHRoaXMuY3VycmVudFBhZ2UgKyAnLiAnICsgSW50ZXJwcmV0ZXIuZXh0cmFjdChyb3csICdzY3JlZW4nKSArIFwiIDwvc3Bhbj48c3BhbiBjbGFzcz0ncmlnaHRoZWFkJz5cIiArIHRoaXMudGVzdE5hbWUgKyBcIjwvc3Bhbj48cCBzdHlsZT0nY2xlYXI6Ym90aDttYXJnaW46MjBweDsnPjwvcD5cXG5cIjtcbiAgICB0aGlzLnByZXZpb3VzdG9rZW4gPSAnc2NyZWVuJztcbiAgICByZXR1cm4gdHJhbnNsYXRlZFJvdztcbiAgfVxuXG4gIHRyYW5zbGF0ZVRleHQocm93KSB7XG4gICAgbGV0IG91dHB1dCA9ICcnO1xuICAgIGlmICh0aGlzLnNsb3VwY2UpIG91dHB1dCArPSBcIjx0cj48dGQgY29sc3Bhbj0nMic+XCI7XG4gICAgb3V0cHV0ICs9ICc8cD4nICsgSW50ZXJwcmV0ZXIuZXh0cmFjdChyb3csICd0ZXh0JykgKyAnPC9wPic7XG4gICAgaWYgKHRoaXMuc2xvdXBjZSkgb3V0cHV0ICs9ICc8L3RkPjwvdHI+JztcbiAgICByZXR1cm4gb3V0cHV0O1xuICB9XG4gIC8vdXNlZCBtdWx0aXBsZXRpbWVzXG4gIGdlbmVyYXRlSHRtbE90YXprYVJvdyhzdWZmaXgpIHtcbiAgICB0aGlzLmxhc3Rmb3JtaWQgPSAncScgKyB0aGlzLmN1cnJlbnRQYWdlICsgJy4nICsgdGhpcy5xdWVzdGlvblBhZ2U7XG4gICAgdGhpcy5sYXN0Zm9ybWlkZXNjYXBlZCA9ICdxJyArIHRoaXMuY3VycmVudFBhZ2UgKyAnXFxcXFxcXFwuJyArIHRoaXMucXVlc3Rpb25QYWdlO1xuICAgIGxldCBteXN1ZmZpeCA9ICcnO1xuICAgIGlmIChzdWZmaXgpIG15c3VmZml4ID0gc3VmZml4O1xuICAgIHJldHVybiBcIjxmb3JtIGlkPSdcIiArIHRoaXMubGFzdGZvcm1pZCArIFwiJyBuYW1lPSdxXCIgKyB0aGlzLmN1cnJlbnRQYWdlICsgJy4nICsgdGhpcy5xdWVzdGlvblBhZ2UgKyBcIic+PGZpZWxkc2V0PjxsZWdlbmQ+XCIgKyB0aGlzLnJlc3VsdC5sYXN0b3RhemthICsgbXlzdWZmaXggKyAnIDwvbGVnZW5kPic7XG4gIH1cblxuICBnZW5lcmF0ZUVkaXRIZWFkZXJSb3coKSB7XG4gICAgdGhpcy5sYXN0Zm9ybWlkID0gJ3EnICsgdGhpcy5jdXJyZW50UGFnZSArICcuJyArIHRoaXMucXVlc3Rpb25QYWdlO1xuICAgIHRoaXMubGFzdGZvcm1pZGVzY2FwZWQgPSAncScgKyB0aGlzLmN1cnJlbnRQYWdlICsgJ1xcXFxcXFxcLicgKyB0aGlzLnF1ZXN0aW9uUGFnZTtcbiAgICByZXR1cm4gXCI8Zm9ybSBpZD0nXCIgKyB0aGlzLmxhc3Rmb3JtaWQgKyBcIicgbmFtZT0ncVwiICsgdGhpcy5jdXJyZW50UGFnZSArICcuJyArIHRoaXMucXVlc3Rpb25QYWdlICsgXCInPjxmaWVsZHNldD48bGVnZW5kPlwiICsgdGhpcy5yZXN1bHQubGFzdG90YXprYSArICc8L2xlZ2VuZD4nO1xuICB9XG5cbiAgdHJhbnNsYXRlVGFza0ZvclN0aW11bGkocm93KSB7XG4gICAgdGhpcy5wYXJvdmFvdGF6a2EgPSBmYWxzZTtcbiAgICB0aGlzLnJlc3VsdC5sYXN0b3RhemthID0gSW50ZXJwcmV0ZXIuZXh0cmFjdChyb3csICd0YXNrZm9yc3RpbXVsaSAnKTsgLy9hZGRzIHRvIHRoZSAjMSB0byB0aGUgcXVlc3Rpb25cbiAgICB0aGlzLmhvZG5vdHlTZXR0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnF1ZXN0aW9uUGFnZSsrO1xuICAgIC8vdmFyIG15dGFibGUgPSBcIlwiO1xuICAgIC8vbXl0YWJsZSArPSB0aGlzLmdlbmVyYXRlSHRtbE90YXprYVJvdygpO1xuICAgIC8vaWYgKHRoaXMuc2xvdXBjZSkgeyAvL21ha2Ugcm93IG9mIHRhYmxlXG4gICAgLy8gICAgICAgIHZhciBteXRhYmxlID0gICsgbXl0YWJsZTsvLyAgKyBcIjwvdGQ+XCI7IC8vXG4gICAgLy99XG4gICAgcmV0dXJuIFwiPHRyPjx0ZCBjbGFzcz0ndGFzayc+XCIgKyB0aGlzLmdlbmVyYXRlSHRtbE90YXprYVJvdygnICMxJyk7XG4gIH1cblxuICAvKlxuICAgKlx0dHJhbnNsYXRlcyBcInRhc2sgLi4uXCIgdG8gdGhlIEhUTUwgZm9ybVxuICAgKi9cbiAgdHJhbnNsYXRlT3RhemthKHJvdykge1xuICAgIHRoaXMucGFyb3Zhb3RhemthID0gZmFsc2U7XG4gICAgdGhpcy5yZXN1bHQubGFzdG90YXprYSA9IEludGVycHJldGVyLmV4dHJhY3Qocm93LCAndGFzayAnKTtcbiAgICB0aGlzLmhvZG5vdHlTZXR0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnF1ZXN0aW9uUGFnZSsrO1xuICAgIHJldHVybiB0aGlzLmdlbmVyYXRlSHRtbE90YXprYVJvdygpO1xuICB9XG4gIC8vbXl0YWJsZWVuZCA9IFwiPC90ZD5cIjtcbiAgLy9pZiAoY29sdW1ubnVtYmVyID09IDEpIG15dGFibGVlbmQgKz0gXCI8L3RyPlwiO1xuICAvL1RPRE8gZmluaXNoIG90YXprYSBhbmQgcGFyb3Zhb3RhemthIGluIHRhYmxlIHdpdGggMiBjb2x1bW5zXG4gIC8qXG4gICAqXHR0cmFuc2xhdGVzIFwicGFyb3Zhb3RhemthIC4uLiBcIiB0byB0aGUgSFRNTCBmb3JtIHdpdGggMiBzb3VuZHMgZWFjaCBpbiAxIGNvbHVtbiBhbmQgZWFjaCByb3cgaGFzIHRoZSBzYW1lIHF1ZXN0aW9uXG4gICAqL1xuICB0cmFuc2xhdGVQYXJvdmFPdGF6a2Eocm93KSB7XG4gICAgLy9sYXN0b3RhemthID0gcm93LnN1YnN0cmluZyhcIm90YXprYVwiLmxlbmd0aCk7XG4gICAgLy9ob2Rub3R5U2V0dGVkID0gZmFsc2U7XG4gICAgdGhpcy5wYXJvdmFvdGF6a2EgPSB0cnVlO1xuICAgIHRoaXMucXVlc3Rpb25QYWdlKys7XG4gICAgdGhpcy5yZXN1bHQubGFzdG90YXprYSA9IEludGVycHJldGVyLmV4dHJhY3Qocm93LCAndGFzayAnKTtcbiAgICB0aGlzLmxhc3Rmb3JtaWQgPSAncScgKyB0aGlzLmN1cnJlbnRQYWdlICsgJy4nICsgdGhpcy5xdWVzdGlvblBhZ2U7XG4gICAgdGhpcy5sYXN0Zm9ybWlkZXNjYXBlZCA9ICdxJyArIHRoaXMuY3VycmVudFBhZ2UgKyAnXFxcXFxcXFwuJyArIHRoaXMucXVlc3Rpb25QYWdlO1xuICAgIHJldHVybiBcIjx0cj48dGQgY29sc3Bhbj0nMic+PGZvcm0gaWQ9J1wiICsgdGhpcy5sYXN0Zm9ybWlkICsgXCInPjxmaWVsZHNldD48bGVnZW5kPlwiICsgdGhpcy5yZXN1bHQubGFzdG90YXprYSArICc8L2xlZ2VuZD4nO1xuICB9XG4gIC8qXG4gICAqXHR0cmFuc2xhdGVzIFwiaG9uZG90eSAuLi5cIiB0byB0aGUgb3BlbmVkIEhUTUwgZm9ybSwgaW50ZXJwcmV0cyBhcyBhbGxvd2VkIHZhbHVlcyB0byBiZSBjaG9zZW4gYnkgdXNlclxuICAgKi9cbiAgLypmdW5jdGlvbiB0cmFuc2xhdGVIb2Rub3R5KHJvd3NwbGl0dGVkKSB7XG4gICByZXR1cm4gdHJhbnNsYXRlSG9kbm90eShyb3dzcGxpdHRlZCwgdHJ1ZSxmYWxzZSk7XG4gICB9XG4gICAqL1xuXG4gIGhhc2hDb2RlKHMpIHtcbiAgICByZXR1cm4gcy5zcGxpdCgnJykucmVkdWNlKGZ1bmN0aW9uKGEsIGIpIHsgYSA9ICgoYSA8PCA1KSAtIGEpICsgYi5jaGFyQ29kZUF0KDApOyByZXR1cm4gYSAmIGE7IH0sIDApO1xuICB9XG5cbiAgZ2VuZXJhdGVIdG1sUm93KHJvd3NwbGl0dGVkLCByYWRpb2J1dHRvbnMsIHRhc2tpbmRleCkge1xuICAgIGxldCB0cmFuc2xhdGVkUm93ID0gJyc7XG4gICAgZm9yIChsZXQgaiA9IDE7IGogPCByb3dzcGxpdHRlZC5sZW5ndGg7IGorKykge1xuICAgICAgbGV0IG15YnIgPSAnPGJyIC8+JztcbiAgICAgIGxldCBteXZhbHVlID0gcm93c3BsaXR0ZWRbal07XG4gICAgICBsZXQgbXlpZCA9IHRoaXMuaGFzaENvZGUodGhpcy5sYXN0Zm9ybWlkICsgJ3YnICsgbXl2YWx1ZSk7XG4gICAgICBpZiAodGhpcy5wYXJvdmFvdGF6a2EgfHwgdGhpcy52YWx1ZXNvbnJvdykgbXliciA9ICcmbmJzcDsgJm5ic3A7JzsgLy9kb24ndCBtYWtlIG5ldyBsaW5lIGluIHBhcm92YSBvdGF6a2Egb3Igd2hlbiB2YWx1ZXMgb24gcm93XG4gICAgICBpZiAocmFkaW9idXR0b25zKSB7dHJhbnNsYXRlZFJvdyArPSBcIjxpbnB1dCBpZD0nXCIgKyBteWlkICsgXCIndHlwZT0ncmFkaW8nIG5hbWU9J290YXprYScgdmFsdWU9J1wiICsgbXl2YWx1ZSArIFwiJyBvbmNsaWNrPSdzZXRBbnN3ZXIoXCIgKyB0aGlzLmN1cnJlbnRQYWdlICsgJywnICsgdGhpcy5xdWVzdGlvblBhZ2UgKyBcIix0aGlzKScvPjxsYWJlbCBmb3I9J1wiICsgbXlpZCArIFwiJyBjbGFzcz0nYW5zd2VyJz48c3Bhbj48c3Bhbj48L3NwYW4+PC9zcGFuPlwiICsgbXl2YWx1ZSArICc8L2xhYmVsPicgKyBteWJyO30gZWxzZSB7dHJhbnNsYXRlZFJvdyArPSBcIjxpbnB1dCBpZD0nXCIgKyBteWlkICsgXCInIHR5cGU9J2NoZWNrYm94JyBuYW1lPSdvdGF6a2EnIHZhbHVlPSdcIiArIG15dmFsdWUgKyBcIicgb25jbGljaz0nc2V0Q2hlY2tBbnN3ZXIoXCIgKyB0aGlzLmN1cnJlbnRQYWdlICsgJywnICsgdGhpcy5xdWVzdGlvblBhZ2UgKyBcIix0aGlzKScvPjxsYWJlbCBmb3I9J1wiICsgbXlpZCArIFwiJ3NwYW4gY2xhc3M9J2Fuc3dlcic+PHNwYW4+PC9zcGFuPlwiICsgbXl2YWx1ZSArICc8L2xhYmVsPicgKyBteWJyO31cbiAgICAgIHRoaXMucmVzdWx0LnNldERlZmF1bHRBbnN3ZXIodGhpcy5jdXJyZW50UGFnZSwgdGhpcy5xdWVzdGlvblBhZ2UsIHRhc2tpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2xhdGVkUm93O1xuICB9XG5cbiAgdHJhbnNsYXRlSG9kbm90eShyb3dzcGxpdHRlZCkge1xuICAgIGxldCByYWRpb2J1dHRvbnMgPSAhIERzbC5pc0NoZWNrYm94dmFsdWVzKHJvd3NwbGl0dGVkWzBdKTtcbiAgICB0aGlzLnZhbHVlc29ucm93ID0gRHNsLmlzQ2hlY2tib3h2YWx1ZXNPblJvdyhyb3dzcGxpdHRlZFswXSkgfHwgRHNsLmlzVmFsdWVzT25Sb3cocm93c3BsaXR0ZWRbMF0pO1xuICAgIGxldCB0cmFuc2xhdGVkUm93ID0gJyc7XG4gICAgbGV0IHRhc2tpbmRleCA9ICcnOyBpZiAodGhpcy5zbG91cGNlICYmICF0aGlzLnBhcm92YW90YXprYSkgdGFza2luZGV4ID0gJyAjMSc7XG4gICAgdHJhbnNsYXRlZFJvdyArPSB0aGlzLmdlbmVyYXRlSHRtbFJvdyhyb3dzcGxpdHRlZCwgcmFkaW9idXR0b25zLCB0YXNraW5kZXgpO1xuICAgIHRyYW5zbGF0ZWRSb3cgKz0gJzwvZmllbGRzZXQ+PC9mb3JtPlxcbic7XG4gICAgaWYgKHRoaXMuc2xvdXBjZSkgLy9jb3BwaWVzIHRoZSBzYW1lIHRhc2sgYW5kIHZhbHVlcyB0byB0aGUgc2Vjb25kIGNvbGx1bW4gb2YgdGhlIHBhaXJzXG4gICAge1xuICAgICAgaWYgKHRoaXMucGFyb3Zhb3RhemthKSB7XG4gICAgICAgIHRyYW5zbGF0ZWRSb3cgKz0gJzwvdGQ+PC90cj4nO1xuICAgICAgfSBlbHNlIHsvL2Nsb3NlIHRoZSBjb2x1bW4sIGR1cGxpY2F0ZSBxdWVzdGlvbiB0byBzZWNvbmQgY29sdW1uIGFuZCBjbG9zZSB0aGUgcm93XG4gICAgICAgIHRoaXMucXVlc3Rpb25QYWdlKys7XG4gICAgICAgIHRhc2tpbmRleCA9ICcgIzInO1xuICAgICAgICB0cmFuc2xhdGVkUm93ICs9IFwiPC9maWVsZHNldD48L2Zvcm0+PC90ZD48dGQgY2xhc3M9J3Rhc2snPlwiICsgdGhpcy5nZW5lcmF0ZUh0bWxPdGF6a2FSb3codGFza2luZGV4KTsgLy9maXggYnVnIzI0OSBhZGRlZCBjbG9zaW5nIGZvcm0gdGFnXG4gICAgICAgIHRyYW5zbGF0ZWRSb3cgKz0gdGhpcy5nZW5lcmF0ZUh0bWxSb3cocm93c3BsaXR0ZWQsIHJhZGlvYnV0dG9ucywgdGFza2luZGV4KTtcbiAgICAgICAgdHJhbnNsYXRlZFJvdyArPSAnPC9maWVsZHNldD48L2Zvcm0+PC90ZD48L3RyPic7XG4gICAgICB9XG4gICAgfVxuICAgIC8vd2lsbCByZW1lbWJlciB0aGUgdmFsdWVzIG9mIGxhc3QgcXVlc3Rpb24gLSBpdCBpcyBub3QgbmVlZGVkIHRvIHJlcGVhdCB0aGVtXG4gICAgdGhpcy5ob2Rub3R5W3RoaXMucmVzdWx0Lmxhc3RvdGF6a2FdID0gcm93c3BsaXR0ZWQ7XG4gICAgdGhpcy5ob2Rub3R5U2V0dGVkID0gdHJ1ZTtcbiAgICByZXR1cm4gdHJhbnNsYXRlZFJvdztcbiAgfVxuXG4gIHNwbGl0VmFsdWVzKHJvdykge1xuICAgIGxldCByZTEgPSAvWyA7LF0rLzsgLy8gZml4IGZlYXR1cmUgYnVnICMyNDAsIGNvbWEgJywnIGlzIHVzZWQgdG8gc2VwYXJhdGUgaW50ZXJ2YWwgbnVtYmVyc1xuICAgIGlmICghcm93LmNvbnRhaW5zKCdcIicpKSByZXR1cm4gcm93LnNwbGl0KHJlMSk7XG4gICAgbGV0IHJvd3NwbGl0dGVkID0gW107XG4gICAgbGV0IHF1b3RlID0gZmFsc2U7XG4gICAgbGV0IGN1cnJlbnRpdGVtID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3cubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghcXVvdGUpIC8vbm9ybWFsIHNwbGl0XG4gICAgICB7XG4gICAgICAgIGlmICgvW1xcXCJdLy50ZXN0KHJvd1tpXSkpIHF1b3RlID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAoL1ssIDtdLy50ZXN0KHJvd1tpXSkpIHtcbiAgICAgICAgICBpZiAoY3VycmVudGl0ZW0ubGVuZ3RoID4gMCkgcm93c3BsaXR0ZWQucHVzaChjdXJyZW50aXRlbSk7XG4gICAgICAgICAgY3VycmVudGl0ZW0gPSAnJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJyZW50aXRlbSArPSByb3dbaV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7IC8vcXVvdGVzIGFkZCBldmVyeXRoaW5nIGJldHdlZW4gcXVvdGVzXG4gICAgICAgIGlmICgvW1xcXCJdLy50ZXN0KHJvd1tpXSkpIHtcbiAgICAgICAgICByb3dzcGxpdHRlZC5wdXNoKGN1cnJlbnRpdGVtKTtcbiAgICAgICAgICBjdXJyZW50aXRlbSA9ICcnO1xuICAgICAgICAgIHF1b3RlID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VycmVudGl0ZW0gKz0gcm93W2ldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjdXJyZW50aXRlbS5sZW5ndGggPiAwKSByb3dzcGxpdHRlZC5wdXNoKGN1cnJlbnRpdGVtKTtcbiAgICByZXR1cm4gcm93c3BsaXR0ZWQ7XG4gIH1cblxuICB0cmFuc2xhdGVTY2FsZShwcmV2aW91c3Jvdywgcm93c3BsaXR0ZWQpIHtcbiAgICBpZiAodGhpcy5zbG91cGNlICYmICEgdGhpcy5wYXJvdmFvdGF6a2EpIHsgLy9tYWtlcyB0d28gY29wcGllcyBvZiB0aGUgdGFzayBmb3IgZWFjaCBzdGltdWx1cyBpbiBwYWlyXG4gICAgICBsZXQgdHJhbnNsYXRlZCA9ICdcXG4nICsgdGhpcy50cmFuc2xhdGVTa2Fsb3ZhY2koKSArIHRoaXMudHJhbnNsYXRlU2thbG92YWNpSG9kbm90eShyb3dzcGxpdHRlZCwgJyAjMScpO1xuICAgICAgdGhpcy5xdWVzdGlvblBhZ2UrKztcbiAgICAgIHRyYW5zbGF0ZWQgKz0gJzwvZmllbGRzZXQ+PC9mb3JtPjwvdGQ+PHRkPicgKyB0aGlzLmdlbmVyYXRlSHRtbE90YXprYVJvdygnICMyJykgKyB0aGlzLnRyYW5zbGF0ZVNrYWxvdmFjaSgpICsgdGhpcy50cmFuc2xhdGVTa2Fsb3ZhY2lIb2Rub3R5KHJvd3NwbGl0dGVkLCAnICMyJykgKyAnPC9maWVsZHNldD48L2Zvcm0+PC90cj48L3RkPlxcbic7XG4gICAgICByZXR1cm4gdHJhbnNsYXRlZDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudHJhbnNsYXRlU2thbG92YWNpKHByZXZpb3Vzcm93KSArIHRoaXMudHJhbnNsYXRlU2thbG92YWNpSG9kbm90eShyb3dzcGxpdHRlZCk7XG4gIH1cblxuICB0cmFuc2xhdGVWQVNjYWxlKHByZXZpb3Vzcm93LCByb3dzcGxpdHRlZCkge1xuICAgIGlmICh0aGlzLnNsb3VwY2UgJiYgISB0aGlzLnBhcm92YW90YXprYSkgey8vbWFrZXMgdHdvIGNvcHBpZXMgb2YgdGhlIHRhc2sgZm9yIGVhY2ggc3RpbXVsdXMgaW4gcGFpclxuICAgICAgbGV0IHRyYW5zbGF0ZWQgPSAnXFxuJyArIHRoaXMudHJhbnNsYXRlU2thbG92YWNpKCkgKyB0aGlzLnRyYW5zbGF0ZVNrYWxvdmFjaVZBSG9kbm90eShyb3dzcGxpdHRlZCwgJyAjMScpO1xuICAgICAgdGhpcy5xdWVzdGlvblBhZ2UrKztcbiAgICAgIHRyYW5zbGF0ZWQgKz0gJzwvZmllbGRzZXQ+PC9mb3JtPjwvdGQ+PHRkPicgKyB0aGlzLmdlbmVyYXRlSHRtbE90YXprYVJvdygnICMyJykgKyB0aGlzLnRyYW5zbGF0ZVNrYWxvdmFjaSgpICsgdGhpcy50cmFuc2xhdGVTa2Fsb3ZhY2lWQUhvZG5vdHkocm93c3BsaXR0ZWQsICcgIzInKSArICc8L2ZpZWxkc2V0PjwvZm9ybT48L3RyPjwvdGQ+XFxuJztcbiAgICAgIHJldHVybiB0cmFuc2xhdGVkO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy50cmFuc2xhdGVTa2Fsb3ZhY2kocHJldmlvdXNyb3cpICsgdGhpcy50cmFuc2xhdGVTa2Fsb3ZhY2lWQUhvZG5vdHkocm93c3BsaXR0ZWQpO1xuICB9XG5cbiAgLyogIHRyYW5zbGF0ZVNrYWxvdmFjaUhvZG5vdHkocm93c3BsaXR0ZWQpIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2xhdGVTa2Fsb3ZhY2lIb2Rub3R5KHJvd3NwbGl0dGVkLFwiXCIpO1xuICB9O1xuKi9cbiAgdHJhbnNsYXRlU2thbG92YWNpSG9kbm90eShyb3dzcGxpdHRlZCwgdGFza2luZGV4ID0gJycpIHtcbiAgICAvL21vdmVkIHRvIHRyYW5zbGF0ZVNrYWxvdmFjaSBxdWVzdGlvblBhZ2UrKzsgLy9pbmNyZWFzZSBpbmRleCBvZiBhbnN3ZXJcbiAgICB0aGlzLnJlc3VsdC5zZXREZWZhdWx0QW5zd2VyKHRoaXMuY3VycmVudFBhZ2UsIHRoaXMucXVlc3Rpb25QYWdlLCB0YXNraW5kZXgpOyAvL2ZpeCBidWcgIyAxOThcbiAgICAvL3ZhciByb3dzcGxpdHRlZCA9IHNwbGl0VmFsdWVzKHJvdyk7XG4gICAgbGV0IHRyYW5zbGF0ZWRSb3cgPSAnJztcbiAgICB0aGlzLnNsaWRlclZhbHVlc1t0aGlzLnNsaWRlcklkXSA9IHJvd3NwbGl0dGVkLnNsaWNlKDEpO1xuICAgIHRyYW5zbGF0ZWRSb3cgKz0gJzxzY3JpcHQ+SW50ZXJwcmV0ZXIubWFrZVNsaWRlcigwLCAwLCcgKyAodGhpcy5zbGlkZXJWYWx1ZXNbdGhpcy5zbGlkZXJJZF0ubGVuZ3RoIC0gMSkgKyAnLCAxLCAnICsgdGhpcy5zbGlkZXJJZCArICcsJyArIHRoaXMucXVlc3Rpb25QYWdlICsgJyk7PC9zY3JpcHQ+JztcbiAgICAvLyAgICBpZiAodGhpcy5zbG91cGNlKVxuICAgIC8vICAgICAgICBpZiAodGhpcy5wYXJvdmFvdGF6a2EpIHtcbiAgICAvLyAgICAgICAgICAgIHRyYW5zbGF0ZWRSb3cgKz0gXCI8L3RkPjwvdHI+XCI7XG4gICAgLyogICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWVzdGlvblBhZ2UrKztcbiAgICAgICAgICAgICAgICB0aGlzLnNsaWRlcklkKys7XG4gICAgICAgICAgICAgICAgdGhpcy5zbGlkZXJWYWx1ZXNbdGhpcy5zbGlkZXJJZF0gPSByb3dzcGxpdHRlZC5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdC5zZXREZWZhdWx0QW5zd2VyKHRoaXMuY3VycmVudFBhZ2UsIHRoaXMucXVlc3Rpb25QYWdlKTsgLy9maXggYnVnICMgMTk4XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlZFJvdyArPSBcIjxzY3JpcHQ+bWFrZVNsaWRlcigwLCAwLFwiICsgKHRoaXMuc2xpZGVyVmFsdWVzW3RoaXMuc2xpZGVySWRdLmxlbmd0aC0xKSArIFwiLCAxLCBcIiArIHRoaXMuc2xpZGVySWQgKyBcIixcIiArIHRoaXMucXVlc3Rpb25QYWdlICsgXCIpOzwvc2NyaXB0PlwiO1xuICAgICAgICAgICAgfSovXG4gICAgLy99IGVsc2Uge1xuICAgIC8vICAgIHRoaXMucXVlc3Rpb25QYWdlKys7XG4gICAgLy8gICAgdGhpcy5zbGlkZXJJZCsrO1xuICAgIC8vICAgIHRoaXMucmVzdWx0LnNldERlZmF1bHRBbnN3ZXIodGhpcy5jdXJyZW50UGFnZSwgdGhpcy5xdWVzdGlvblBhZ2UpOyAvL2ZpeCBidWcgIyAxOThcbiAgICAvLyAgICAvL3ZhciByb3dzcGxpdHRlZCA9IHNwbGl0VmFsdWVzKHJvdyk7XG4gICAgLy8gICAgLy90cmFuc2xhdGVkUm93ID0gXCJcIjtcbiAgICAvLyAgICB0aGlzLnNsaWRlclZhbHVlc1t0aGlzLnNsaWRlcklkXSA9IHJvd3NwbGl0dGVkLnNsaWNlKDEpO1xuICAgIC8vICAgIHRyYW5zbGF0ZWRSb3cgKz0gXCI8dGQ+PHRyPjxzY3JpcHQ+bWFrZVNsaWRlcigwLCAwLFwiICsgKHRoaXMuc2xpZGVyVmFsdWVzW3RoaXMuc2xpZGVySWRdLmxlbmd0aC0xKSArIFwiLCAxLCBcIiArIHRoaXMuc2xpZGVySWQgKyBcIixcIiArIHRoaXMucXVlc3Rpb25QYWdlICsgXCIpOzwvc2NyaXB0PlwiO1xuICAgIC8vfVxuICAgIHJldHVybiB0cmFuc2xhdGVkUm93O1xuICB9XG5cbiAgLyogdHJhbnNsYXRlU2thbG92YWNpVkFIb2Rub3R5KHJvd3NwbGl0dGVkKSB7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNsYXRlU2thbG92YWNpVkFIb2Rub3R5KHJvd3NwbGl0dGVkLFwiXCIpO1xuICB9O1xuXG4gICovXG5cbiAgdHJhbnNsYXRlU2thbG92YWNpVkFIb2Rub3R5KHJvd3NwbGl0dGVkLCB0YXNraW5kZXggPSAnJykge1xuICAgIC8vbW92ZWQgdG8gdHJhbnNsYXRlU2thbG92YWNpIHF1ZXN0aW9uUGFnZSsrOyAvL2luY3JlYXNlIGluZGV4IG9mIGFuc3dlclxuICAgIHRoaXMucmVzdWx0LnNldERlZmF1bHRBbnN3ZXIodGhpcy5jdXJyZW50UGFnZSwgdGhpcy5xdWVzdGlvblBhZ2UsIHRhc2tpbmRleCk7IC8vZml4IGJ1ZyAjMTk4XG4gICAgbGV0IHRyYW5zbGF0ZWRSb3cgPSAnJztcbiAgICBsZXQgbXlTbGlkZXJWYWx1ZXMgPSBbXTtcbiAgICAvL2NvbnNvbGUubG9nKFwidHJhbnNsYXRlU2thbG9jYXZpIHJvd3NwbGl0dGVkOlwiKTtcbiAgICAvL2NvbnNvbGUubG9nKHJvd3NwbGl0dGVkKVxuICAgIC8qZm9yICh2YXIgaSA9IDM7IGkgPCByb3dzcGxpdHRlZC5sZW5ndGg7aT1pKzIgKSB7XG4gICAgIG15U2xpZGVyVmFsdWVzW3BhcnNlSW50KHJvd3NwbGl0dGVkW2ldKV09IHJvd3NwbGl0dGVkW2krMV07XG4gICAgIH1cbiAgICAgc2xpZGVyVmFsdWVzW3NsaWRlcklkXSA9IG15U2xpZGVyVmFsdWVzO1xuICAgICAqL1xuICAgIGlmIChyb3dzcGxpdHRlZFsyXS5pbmRleE9mKCcoJykgPiAwKSB7IC8vZml4IGJ1ZyAjMjY5IHNjYWxlIDAgMTAwKDAuNSkgd2lsbCBiZSB0cmFuc2xhdGVkIGFzIDAgMTAwIHdpdGggc3RlcCAwLjVcbiAgICAgIGxldCBtYXhzdGVwID0gcm93c3BsaXR0ZWRbMl0uc3BsaXQoL1tcXChcXCldLyk7XG4gICAgICAvL2NvbnNvbGUubG9nKFwibWF4c3RlcFwiKTtcbiAgICAgIC8vY29uc29sZS5sb2cobWF4c3RlcClcbiAgICAgIGZvciAodmFyIGkgPSAzOyBpIDwgcm93c3BsaXR0ZWQubGVuZ3RoOyBpID0gaSArIDIpIHtcbiAgICAgICAgLy9teVNsaWRlclZhbHVlc1tNYXRoLmZsb29yKHBhcnNlSW50KHJvd3NwbGl0dGVkW2ldKS9tYXhzdGVwWzFdIC0gcm93c3BsaXR0ZWRbMV0pXSA9IHJvd3NwbGl0dGVkW2kgKyAxXTsvL2ZpeCBidWcgIzI2OSBhZGQgY29ycmVjdCBpbmRpY2VzIHRvIHRpY2tzIC0xMDAgMTAwKDAuNSkgd2lsbCBtYWtlIC0yMDAgMjAwXG4gICAgICAgIG15U2xpZGVyVmFsdWVzW3BhcnNlRmxvYXQocm93c3BsaXR0ZWRbaV0pXSA9IHJvd3NwbGl0dGVkW2kgKyAxXTsgLy9maXggYnVnICMyNjkgbmV3IHZlcnNpb24gb2YgbGFiZWxlZCwgY2hhbmdlZCB0byBwYXJzZWZsb2F0XG4gICAgICAgIC8vbXlTbGlkZXJWYWx1ZXNbcm93c3BsaXR0ZWRbaV1dID0gcm93c3BsaXR0ZWRbaSArIDFdOyAvL2ZpeCBidWcgI21pbnVzIGZsb2F0IHZhbHVlcyBub3QgZGV0ZXJtaW5lZD8/XG4gICAgICB9XG4gICAgICB0aGlzLnNsaWRlclZhbHVlc1t0aGlzLnNsaWRlcklkXSA9IG15U2xpZGVyVmFsdWVzO1xuXG4gICAgICB0cmFuc2xhdGVkUm93ICs9ICc8c2NyaXB0PkludGVycHJldGVyLm1ha2VWQVNsaWRlcignICsgdGhpcy5zbGlkZXJJZCArICcsJyArIHJvd3NwbGl0dGVkWzFdICsgJywnICsgbWF4c3RlcFswXSArICcsICcgKyB0aGlzLnF1ZXN0aW9uUGFnZSArICcsJyArIG1heHN0ZXBbMV0gKyAnKTs8L3NjcmlwdD4nO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGkgPSAzOyBpIDwgcm93c3BsaXR0ZWQubGVuZ3RoOyBpID0gaSArIDIpIHtcbiAgICAgICAgbXlTbGlkZXJWYWx1ZXNbcGFyc2VJbnQocm93c3BsaXR0ZWRbaV0pXSA9IHJvd3NwbGl0dGVkW2kgKyAxXTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2xpZGVyVmFsdWVzW3RoaXMuc2xpZGVySWRdID0gbXlTbGlkZXJWYWx1ZXM7XG4gICAgICB0cmFuc2xhdGVkUm93ICs9ICc8c2NyaXB0PkludGVycHJldGVyLm1ha2VWQVNsaWRlcignICsgdGhpcy5zbGlkZXJJZCArICcsJyArIHJvd3NwbGl0dGVkWzFdICsgJywnICsgcm93c3BsaXR0ZWRbMl0gKyAnLCAnICsgdGhpcy5xdWVzdGlvblBhZ2UgKyAnKTs8L3NjcmlwdD4nO1xuICAgIH1cbiAgICAvL2NvbnNvbGUubG9nKFwidmEgaG9kbm90eSBqczpcIiArIHRyYW5zbGF0ZWRSb3cpO1xuXG4gICAgcmV0dXJuIHRyYW5zbGF0ZWRSb3c7XG4gIH1cblxuXG4gIHRyYW5zbGF0ZVNrYWxvdmFjaShyb3cpIHtcbiAgICBsZXQgdHJhbnNsYXRlZFJvdyA9ICcnOy8vXCI8YnIgLz5cIjtcbiAgICB0aGlzLnNsaWRlcklkKys7XG4gICAgaWYgKHJvdykgdGhpcy5yZXN1bHQubGFzdG90YXprYSA9IEludGVycHJldGVyLmV4dHJhY3Qocm93LCAndGFzayAnKTsgIC8vZml4IGJ1ZyAjMTk4XG4gICAgLy9tb3ZlIHRvIHRhc2sgcXVlc3Rpb25QYWdlKys7IC8vbW92ZWQgZnJvbSBza2Fsb3ZhY2k/P2hvZG5vdHlcbiAgICAvL2ZpeCAjMjEyICAgIHRyYW5zbGF0ZWRSb3cgKz0gXCI8cCBpZD0ncVwiICsgY3VycmVudFBhZ2UgKyBcIi5cIiArIHF1ZXN0aW9uUGFnZSArIFwiJyBjbGFzcz0nbGFiZWwnPjxpbnB1dCBjbGFzcz0nc2xpZGVybGFiZWwnIHJlYWRvbmx5PSd0cnVlJyB0eXBlPSd0ZXh0JyBpZD0nc2xpZGVyXCIgKyBzbGlkZXJJZCArIFwiVmFsdWUnPjwvcD5cIjtcbiAgICB0cmFuc2xhdGVkUm93ICs9IFwiPHAgY2xhc3M9J2xhYmVsJz48aW5wdXQgY2xhc3M9J3NsaWRlcmxhYmVsJyByZWFkb25seT0ndHJ1ZScgdHlwZT0ndGV4dCcgaWQ9J3NsaWRlclwiICsgdGhpcy5zbGlkZXJJZCArIFwiVmFsdWUnPjwvcD5cIjtcbiAgICB0cmFuc2xhdGVkUm93ICs9IFwiPGRpdiBpZD0nc2xpZGVyXCIgKyB0aGlzLnNsaWRlcklkICsgXCInPjwvZGl2PlwiO1xuICAgIC8vdHJhbnNsYXRlZFJvdyArPSBcIjxiciAvPjxiciAvPlwiO1xuICAgIC8vY29uc29sZS5sb2coXCJ0cmFuc2xhdGVTa2Fsb3ZhY2kgXCIgKyBzbGlkZXJJZCk7XG4gICAgLy9tb3ZlIGl0IHRvIHNrYWxvdmFjaWhvZG5vdHlcbiAgICByZXR1cm4gdHJhbnNsYXRlZFJvdztcbiAgfVxuXG5cbiAgdHJhbnNsYXRlUG9waXMocm93KSB7XG4gICAgbGV0IHRhc2tpbmRleCA9ICcnOyBpZiAodGhpcy5zbG91cGNlICYmICF0aGlzLnBhcm92YW90YXprYSkgdGFza2luZGV4ID0gJyAjMSc7XG4gICAgaWYgKEludGVycHJldGVyLmVuZHNXaXRoKHJvdywgJz8nKSkgdGhpcy5yZXN1bHQuc2V0RGVmYXVsdE9wdGlvbmFsQW5zd2VyKHRoaXMuY3VycmVudFBhZ2UsIHRoaXMucXVlc3Rpb25QYWdlLCB0YXNraW5kZXgpO1xuICAgIGVsc2UgdGhpcy5yZXN1bHQuc2V0RGVmYXVsdEFuc3dlcih0aGlzLmN1cnJlbnRQYWdlLCB0aGlzLnF1ZXN0aW9uUGFnZSwgdGFza2luZGV4KTtcbiAgICBsZXQgdHJhbnNsYXRlZHJvdyA9IFwiPHRleHRhcmVhIHJvd3M9JzEnIG9ua2V5dXA9J3NldEFuc3dlcihcIiArIHRoaXMuY3VycmVudFBhZ2UgKyAnLCcgKyB0aGlzLnF1ZXN0aW9uUGFnZSArIFwiLHRoaXMpJz48L3RleHRhcmVhPlwiO1xuICAgIGlmICh0aGlzLnNsb3VwY2UpIHtcbiAgICAgIGlmICh0aGlzLnBhcm92YW90YXprYSkge1xuICAgICAgICB0cmFuc2xhdGVkcm93ICs9ICc8L2ZpZWxkc2V0PjwvZm9ybT48L3RkPjwvdHI+JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucXVlc3Rpb25QYWdlKys7XG4gICAgICAgIHRhc2tpbmRleCA9ICcgIzInO1xuICAgICAgICB0cmFuc2xhdGVkcm93ICs9ICc8L2ZpZWxkc2V0PjwvZm9ybT48L3RkPjx0ZD4nICsgdGhpcy5nZW5lcmF0ZUh0bWxPdGF6a2FSb3codGFza2luZGV4KTsgLy9maXggYnVnIzI0OSBhZGRlZCBjbG9zaW5nIGZvcm0gdGFnXG4gICAgICAgIGlmIChJbnRlcnByZXRlci5lbmRzV2l0aChyb3csICc/JykpIHRoaXMucmVzdWx0LnNldERlZmF1bHRPcHRpb25hbEFuc3dlcih0aGlzLmN1cnJlbnRQYWdlLCB0aGlzLnF1ZXN0aW9uUGFnZSwgJyAjMicpO1xuICAgICAgICBlbHNlIHRoaXMucmVzdWx0LnNldERlZmF1bHRBbnN3ZXIodGhpcy5jdXJyZW50UGFnZSwgdGhpcy5xdWVzdGlvblBhZ2UsIHRhc2tpbmRleCk7XG4gICAgICAgIHRyYW5zbGF0ZWRyb3cgKz0gXCI8dGV4dGFyZWEgcm93cz0nMScgb25rZXl1cD0nc2V0QW5zd2VyKFwiICsgdGhpcy5jdXJyZW50UGFnZSArICcsJyArIHRoaXMucXVlc3Rpb25QYWdlICsgXCIsdGhpcyknPjwvdGV4dGFyZWE+XCI7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2xhdGVkcm93O1xuICB9XG5cbiAgLy9pZiB0aGUgcXVlc3Rpb24gaXMgbm90IGNsb3NlZCBwdXQgdmFsdWVzIGZyb20gcHJldmlvdXNseSBkZWZpbmVkIHF1ZXN0aW9uIHdpdGggdmFsdWVzXG4gIGNsb3NlT3RhemthKCkge1xuICAgIGlmICghdGhpcy5ob2Rub3R5U2V0dGVkKSB7XG4gICAgICAvL2NvbnNvbGUubG9nKFwiY2xvc2VPdGF6a2EoKSBsYXN0IHZhbHVlcyBub3Qgc2V0XCIpO1xuICAgICAgLy9jb25zb2xlLmxvZyhob2Rub3R5KTtcbiAgICAgIC8vY29uc29sZS5sb2cobGFzdG90YXprYSk7XFxcbiAgICAgIHRoaXMuaG9kbm90eVNldHRlZCA9IHRydWU7XG4gICAgICBpZiAodGhpcy5ob2Rub3R5W3RoaXMucmVzdWx0Lmxhc3RvdGF6a2FdKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJzZXR0aW5nIGZyb20gbGFzdCB2YWx1ZXNcIik7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0ZUhvZG5vdHkodGhpcy5ob2Rub3R5W3RoaXMucmVzdWx0Lmxhc3RvdGF6a2FdKTtcbiAgICAgIH0gcmV0dXJuICc8L2ZpZWxkc2V0PjwvZm9ybT5cXG4nO1xuICAgIH0gcmV0dXJuICcnO1xuICB9XG4gIC8qXG4gICAqXHRcInNsb3VwY2VcIiBjb21tYW5kIGluaXRpYXRlIHRoZSBIVE1MIG91dHB1dCB0byBiZSBnZW5lcmF0ZSBpbnRvIHRoZSBIVE1MIHRhYmxlIHdpdGggMiBjb2xsdW1uc1xuICAgKi9cbiAgdHJhbnNsYXRlU2xvdXBjZSgpIHtcbiAgICBpZiAoIXRoaXMuc2xvdXBjZSkge1xuICAgICAgdGhpcy5zbG91cGNlID0gdHJ1ZTtcbiAgICAgIC8vcmV0dXJuIFwiPHRhYmxlPjx0aGVhZD48dHI+PHRoIGNsYXNzPSd0YWJsZWZpcnN0Jy8+PHRoIGNsYXNzPSd0YWJsZXNlY29uZCcvPjwvdGhlYWQ+PHRib2R5Pjx0cj5cIjtcbiAgICAgIHJldHVybiAnPHRhYmxlPjx0cj4nO1xuICAgIH0gcmV0dXJuICcnO1xuICB9XG5cbiAgY2xvc2VTbG91cGNlKCkge1xuICAgIGlmICh0aGlzLnNsb3VwY2UpIHtcbiAgICAgIHRoaXMuc2xvdXBjZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuICc8L3RyPjwvdGJvZHk+PC90YWJsZT4nO1xuICAgIH0gcmV0dXJuICcnO1xuICB9XG5cbiAgLy9zZWxlY3QgZ2VuZXJhdGVzIHNlbGVjdCBtZW51XG4gIHRyYW5zbGF0ZVNlbGVjdChyb3dzcGxpdHRlZCkge1xuICAgIC8vZml4IGJ1ZyAuLi4gaW5kaWNhdGUgdGhhdCB0aGUgZWxlbWVudCB3YXMgYW5zd2VyZWQgYnkgY2hhbmdpbmcgdGhlIGJhY2tncm91bmRcbiAgICBsZXQgcm93ID0gXCI8c2VsZWN0IG9uY2xpY2s9J3RoaXMuc3R5bGUuYmFja2dyb3VuZD1cXFwibGlnaHRibHVlXFxcIjsgc2V0QW5zd2VyKFwiICsgdGhpcy5jdXJyZW50UGFnZSArICcsJyArIHRoaXMucXVlc3Rpb25QYWdlICsgXCIsdGhpcyk7JyBvbmNoYW5nZT0nc2V0QW5zd2VyKFwiICsgdGhpcy5jdXJyZW50UGFnZSArICcsJyArIHRoaXMucXVlc3Rpb25QYWdlICsgXCIsdGhpcyk7Jz5cIjtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHJvd3NwbGl0dGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICByb3cgKz0gXCI8b3B0aW9uIHZhbHVlPSdcIiArIHJvd3NwbGl0dGVkW2ldICsgXCInPlwiICsgcm93c3BsaXR0ZWRbaV0gKyAnPC9vcHRpb24+JztcbiAgICB9XG4gICAgcm93ICs9ICc8L3NlbGVjdD4nO1xuICAgIHRoaXMucmVzdWx0LnNldERlZmF1bHRBbnN3ZXIodGhpcy5jdXJyZW50UGFnZSwgdGhpcy5xdWVzdGlvblBhZ2UpOyAvL2ZpeCBidWcgIyAxOThcbiAgICByZXR1cm4gcm93O1xuICB9XG5cbiAgdHJhbnNsYXRlU3R5bGUocHJldmlvdXN0b2tlbiwgcm93KSB7XG4gICAgbGV0IGZpcnN0dG9rZW4gPSByb3cudHJpbSgpLnNwbGl0KCcgJywgMilbMF07IC8vZ2V0cyAjc3R5bGUgb3IgI3N0eWxlYnV0dG9uIG9yICNzdHlsZWZvcm1cbiAgICBsZXQgc3R5bGVkZWZpbml0aW9uID0gSW50ZXJwcmV0ZXIuZXh0cmFjdChyb3csIGZpcnN0dG9rZW4pOyAvL2V4dHJhY3QgdGhlIHByZXZpb3VzbHkgb2J0YWluZWQgdG9rZW5cbiAgICBpZiAoRHNsLmlzT2JyYXpvdmthKHByZXZpb3VzdG9rZW4pKSAvL3N0eWxlIG9mIGJvZHkgZS5nLjptYXgtd2lkdGg6NDBlbVxuICAgIHtyZXR1cm4gXCJcXG48c2NyaXB0PmRvY3VtZW50LmJvZHkuc3R5bGU9J1wiICsgc3R5bGVkZWZpbml0aW9uICsgXCInPC9zY3JpcHQ+XFxuXCI7fVxuICAgIGlmIChEc2wuaXNadnVrKHByZXZpb3VzdG9rZW4pKSAvL3N0eWxlIG9mIGFsbCBzdGltdWx1cyBhdHRyaWJ1dGUgZS5nLjogd2lkdGg6MTAlO1xuICAgIHtyZXR1cm4gXCJcXG48c2NyaXB0PiQoJy5zdGltdWx1cycpLmF0dHIoJ3N0eWxlJywnXCIgKyBzdHlsZWRlZmluaXRpb24gKyBcIicpOzwvc2NyaXB0PlxcblwiO31cbiAgICBpZiAocHJldmlvdXN0b2tlbiA9PT0gJ2J1dHRvbicpIHtyZXR1cm4gXCJcXG48c2NyaXB0PiQoJy5zb3VuZC1idXR0b24nKS5hdHRyKCdzdHlsZScsJ1wiICsgc3R5bGVkZWZpbml0aW9uICsgXCInKTs8L3NjcmlwdD5cXG5cIjt9XG4gICAgaWYgKERzbC5pc090YXprYShwcmV2aW91c3Rva2VuKSkge3JldHVybiBcIlxcbjxzY3JpcHQ+JCgnLnRhc2snKS5hdHRyKCdzdHlsZScsJ1wiICsgc3R5bGVkZWZpbml0aW9uICsgXCInKTs8L3NjcmlwdD5cXG5cIjt9XG4gICAgaWYgKHByZXZpb3VzdG9rZW4gPT09ICdmb3JtJykge1xuICAgICAgcmV0dXJuICdcXG48c2NyaXB0PicgK1xuICAgICAgICAvL1wiY29uc29sZS5sb2coJ1wiICtsYXN0Zm9ybWlkZXNjYXBlZCtcIicpO1wiKyAvL2xvZ3NcbiAgICAgICAgXCIkKCcjXCIgKyB0aGlzLmxhc3Rmb3JtaWRlc2NhcGVkICsgXCInKS5hdHRyKCdzdHlsZScsJ1wiICsgc3R5bGVkZWZpbml0aW9uICsgXCInKTtcIiArIC8vc2V0cyBzdHlsZSBmb3IgdGhlIGZvcm0gZWxlbWVudCB3aXRoIGxhc3QgZm9ybWlkXG4gICAgICAgIFwiJCgnI1wiICsgdGhpcy5sYXN0Zm9ybWlkZXNjYXBlZCArIFwiIH4gZm9ybScpLmF0dHIoJ3N0eWxlJywnXCIgKyBzdHlsZWRlZmluaXRpb24gKyBcIicpO1wiICsgLy9hbmQgc2V0cyBzdHlsZSBmb3IgYWxsIG90aGVyIHNpYmxpbmcgZm9ybXNcbiAgICAgICAgJzwvc2NyaXB0Plxcbic7XG4gICAgfVxuICAgIC8vZml4ICMyMTIsIDI0OFxuICAgIC8vcmV0dXJuIFwiXFxuPHNjcmlwdD4kKCcudGFzaycpLmNoaWxkcmVuKCdmb3JtJykuYXR0cignc3R5bGUnLCdcIiArIHN0eWxlZGVmaW5pdGlvbiArIFwiJyk7PC9zY3JpcHQ+XFxuXCI7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cblxuICB0cmFuc2xhdGVUeXBlKHJvdykge1xuICAgIC8vdHJhbnNsYXRlcyB0eXBlIC0gZWR1Y2F0aW9uYWwgbW9kZSwgcHJldmlvdXMgYnV0dG9uIGFsbG93ZWQvbm90YWxsb3dlZCBldGMuXG4gICAgaWYgKHJvdy5jb250YWlucygnbm9wcmV2aW91c2J1dHRvbicpKSB0aGlzLmFsbG93cHJldiA9IGZhbHNlO1xuICAgIGlmIChyb3cuY29udGFpbnMoJ3llc3ByZXZpb3VzYnV0dG9uJykpIHRoaXMuYWxsb3dwcmV2ID0gdHJ1ZTtcbiAgICBpZiAocm93LmNvbnRhaW5zKCdlZHVjYXRpb25hbCcpKSB0aGlzLmVkdWNhdGlvbmFsID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5lZHVjYXRpb25hbCkge1xuICAgICAgdGhpcy5lZHVpZCA9IHJvdy5tYXRjaCgvZWR1Y2F0aW9uYWxcXCgoW1xcZF0rKVxcKS8pWzFdO1xuICAgICAgaWYgKHRoaXMuZWR1aWQgIT09ICcnKSB0aGlzLmdldEVkdVJlc3VsdHMoKTtcbiAgICB9IC8vaW5kZXhPZihcImVkdWNhdGlvbmFsXCIpKzFcbiAgfVxuXG4gIGdldEVkdVJlc3VsdHMoKSB7XG4gICAgJC5nZXRKU09OKFBzeWNob1Jlc3VsdElkVXJsICsgdGhpcy5lZHVpZCwgbnVsbCwgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgLy9jb25zb2xlLmxvZyhcInJldHJpZXZlZCBlZHVjYXRpb25hbCByYXcgcmVzdWx0c1wiKTtcbiAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7XG4gICAgICB0aGlzLmVkdXJlc3VsdHMgPSB7fTtcbiAgICAgIGRhdGFbMF0ucmVzdWx0SXRlbXMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJwYXJzaW5nIGl0ZW06XCIpO1xuICAgICAgICAvL2NvbnNvbGUubG9nKGl0ZW0pO1xuICAgICAgICBsZXQgaXRlbW9iaiA9IFJlcGFpckpTT05SZXN1bHRJdGVtKGl0ZW0pO1xuICAgICAgICBpZiAoIXRoaXMuZWR1cmVzdWx0c1tpdGVtb2JqLmNhc2VdKSB0aGlzLmVkdXJlc3VsdHNbaXRlbW9iai5jYXNlXSA9IHt9O1xuICAgICAgICBpZiAoIXRoaXMuZWR1cmVzdWx0c1tpdGVtb2JqLmNhc2VdLmFuc3dlcikgdGhpcy5lZHVyZXN1bHRzW2l0ZW1vYmouY2FzZV0uYW5zd2VyID0gW107XG4gICAgICAgIHRoaXMuZWR1cmVzdWx0c1tpdGVtb2JqLmNhc2VdLmFuc3dlcltpdGVtb2JqLnF1ZXN0aW9uLnRyaW0oKV0gPSBpdGVtb2JqLmFuc3dlcjtcbiAgICAgICAgaWYgKCF0aGlzLmVkdXJlc3VsdHNbaXRlbW9iai5jYXNlXS5ub3RlKSB0aGlzLmVkdXJlc3VsdHNbaXRlbW9iai5jYXNlXS5ub3RlID0gW107XG4gICAgICAgIGlmICghaXRlbW9iai5ub3RlKSB0aGlzLmVkdXJlc3VsdHNbaXRlbW9iai5jYXNlXS5ub3RlW2l0ZW1vYmoucXVlc3Rpb24udHJpbSgpXSA9IGl0ZW1vYmouZGF0ZTsgLy9UT0RPIG5ldyBjb2xsdW1uIGZvciBub3RlLCBjdXJyZW50IHdvcmthcm91bmQsIG5vdGUgaW50byBkYXRlIGNvbGx1bW5cbiAgICAgICAgZWxzZSB0aGlzLmVkdXJlc3VsdHNbaXRlbW9iai5jYXNlXS5ub3RlW2l0ZW1vYmoucXVlc3Rpb24udHJpbSgpXSA9IGl0ZW1vYmoubm90ZTtcbiAgICAgIH0pO1xuICAgICAgLy9jb25zb2xlLmxvZyhcInJldHJpZXZlZCBlZHVjYXRpb25hbCByZXN1bHRzXCIpO1xuICAgICAgLy9jb25zb2xlLmxvZyhlZHVyZXN1bHRzKTtcbiAgICB9KTtcbiAgfVxuICAvL3RyYW5zbGF0ZSBvbmUgcm93XG4gIHRyYW5zbGF0ZVRlc3RJdGVtcyhyb3cpIHtcbiAgICBsZXQgdHJhbnNsYXRlZFJvdyA9ICcnO1xuICAgIHJvdyA9IHJvdy50cmltKCk7XG4gICAgLy9jb25zb2xlLmxvZygndGVzdCBpdGVtOicpO1xuICAgIC8vY29uc29sZS5sb2cocm93KTtcbiAgICAvKnZhciByZTEgPSAvWyA7LF0rLzsgLy8gZml4IGZlYXR1cmUgYnVnICMyNDAsIGNvbWEgJywnIGlzIHVzZWQgdG8gc2VwYXJhdGUgaW50ZXJ2YWwgbnVtYmVyc1xuICAgICB2YXIgcm93c3BsaXR0ZWQgPSByb3cuc3BsaXQocmUxKTsqL1xuICAgIGxldCByb3dzcGxpdHRlZCA9IHRoaXMuc3BsaXRWYWx1ZXMocm93KTsgLy9maXggYnVnLCBjb21hcyBhbmQgc3BhY2VzIGluIHF1b3Rlc1xuICAgIGlmIChyb3dzcGxpdHRlZC5sZW5ndGggPT09IDApIHJldHVybiB0cmFuc2xhdGVkUm93O1xuXG4gICAgaWYgKERzbC5pc1p2dWsocm93c3BsaXR0ZWRbMF0pKSB0cmFuc2xhdGVkUm93ICs9IHRoaXMuc3RpbXVsLnRyYW5zbGF0ZVp2dWsocm93c3BsaXR0ZWQsIHRoaXMudHN0YXRlLnBvcmFkaXZudGljaW5haG9kbmUsIHRoaXMucmVzdWx0LCB0aGlzLnNsb3VwY2UpO1xuICAgIGVsc2UgaWYgKCFEc2wuc3RhcnRzV2l0aENvbW1lbnQocm93c3BsaXR0ZWRbMF0pKSB0cmFuc2xhdGVkUm93ICs9IHRoaXMuc3RpbXVsLnRyYW5zbGF0ZU5vblp2dWsocm93KTsgLy9kbyBzZXBhcmF0aW9uIGJldHdlZW4gc3RpbXVsaSBhbmQgb3RoZXIgZWxlbWVudHNcblxuICAgIGlmIChEc2wuaXNadnVrKHJvd3NwbGl0dGVkWzBdKSkgeyAvKiBhbHJlYWR5IGRvbmUgaW4gcHJldmlvdXMgY2FsbCwgbm8gYWN0aW9uKi8gfVxuICAgIC8vZWxzZSBpZiAoRHNsLmlzVmlkZW8ocm93c3BsaXR0ZWRbMF0pKSB0cmFuc2xhdGVkUm93ICs9IHRoaXMuc3RpbXVsLnRyYW5zbGF0ZVZpZGVvKHJvd3NwbGl0dGVkKTsgLy9kZXByZWNhdGVkXG4gICAgZWxzZSBpZiAoRHNsLmlzVGV4dChyb3dzcGxpdHRlZFswXSkpIHRyYW5zbGF0ZWRSb3cgKz0gdGhpcy50cmFuc2xhdGVUZXh0KHJvdyk7XG4gICAgZWxzZSBpZiAoRHNsLmlzU2xvdXBjZShyb3dzcGxpdHRlZFswXSkpIHRyYW5zbGF0ZWRSb3cgKz0gdGhpcy50cmFuc2xhdGVTbG91cGNlKCk7XG4gICAgLyplbHNlIGlmIChEc2wuaXNQYXJvdmFPdGF6a2Eocm93c3BsaXR0ZWRbMF0pKSB7IC8vcHJpb3JpdHkgb3ZlciBEc2wuaXNPdGF6a2FcbiAgICAgICAgdHJhbnNsYXRlZFJvdyArPSB0aGlzLmNsb3NlT3RhemthKCk7XG4gICAgICAgIHRyYW5zbGF0ZWRSb3cgKz0gdGhpcy50cmFuc2xhdGVQYXJvdmFPdGF6a2Eocm93KTtcbiAgICB9IC8vZWxzZSBpZiAoRHNsLmlzU2thbG92YWNpKHJvd3NwbGl0dGVkWzBdKSkgdHJhbnNsYXRlZFJvdyArPSB0cmFuc2xhdGVTa2Fsb3ZhY2kocm93KTsgLy9wcmlvcml0eSBvdmVyIERzbC5pc090YXprYVxuICAgICovXG4gICAgZWxzZSBpZiAoRHNsLmlzVGFza0ZvclN0aW11bGkocm93c3BsaXR0ZWRbMF0pKSB7XG4gICAgICB0cmFuc2xhdGVkUm93ICs9IHRoaXMuY2xvc2VPdGF6a2EoKTtcbiAgICAgIGlmICh0aGlzLnNsb3VwY2UpIHRyYW5zbGF0ZWRSb3cgKz0gdGhpcy50cmFuc2xhdGVUYXNrRm9yU3RpbXVsaShyb3cpO1xuICAgICAgZWxzZSBDb25zb2xlLmxvZyhcIldhcm5pbmc6IHVuZXhwZWN0ZWQgdG9rZW4gJ3Rhc2tmb3JzdGltdWxpJyBub3QgaW4gcGFpciBcIik7XG4gICAgfSBlbHNlIGlmIChEc2wuaXNPdGF6a2Eocm93c3BsaXR0ZWRbMF0pKSB7XG4gICAgICB0cmFuc2xhdGVkUm93ICs9IHRoaXMuY2xvc2VPdGF6a2EoKTtcbiAgICAgIGlmICh0aGlzLnNsb3VwY2UpIHRyYW5zbGF0ZWRSb3cgKz0gdGhpcy50cmFuc2xhdGVQYXJvdmFPdGF6a2Eocm93KTtcbiAgICAgIGVsc2UgdHJhbnNsYXRlZFJvdyArPSB0aGlzLnRyYW5zbGF0ZU90YXprYShyb3cpO1xuICAgIH0gZWxzZSBpZiAoRHNsLmlzUGFuZWwocm93c3BsaXR0ZWRbMF0pKSB7XG4gICAgICB0cmFuc2xhdGVkUm93ICs9IHRoaXMuY2xvc2VPdGF6a2EoKTtcbiAgICB9IGVsc2UgaWYgKERzbC5pc0hvZG5vdHkocm93c3BsaXR0ZWRbMF0pIHx8IERzbC5pc0NoZWNrYm94dmFsdWVzKHJvd3NwbGl0dGVkWzBdKSkgdHJhbnNsYXRlZFJvdyArPSB0aGlzLnRyYW5zbGF0ZUhvZG5vdHkocm93c3BsaXR0ZWQpOyAvL3dpbGwgbWF0Y2ggYWxzbyB2YWx1ZXNvbnJvdyBhbmQgY2hlY2tib3h2YWx1ZXNvbnJvd1xuICAgIC8vIG1vdmUgZGVjRHNsLmlzaW9uIG9uIHR5cGUgb2YgaG9kbm90eSBvbiBmdW5jdGlvbiB0cmFuc2xhdGVWYWx1ZXMgZWxzZSBpZiAoRHNsLmlzSG9kbm90eShyb3dzcGxpdHRlZFswXSkpIHRyYW5zbGF0ZWRSb3cgKz0gdHJhbnNsYXRlSG9kbm90eShyb3dzcGxpdHRlZCx0cnVlKTtcbiAgICAvL2Vsc2UgaWYgKERzbC5pc0NoZWNrYm94dmFsdWVzKHJvd3NwbGl0dGVkWzBdKSkgdHJhbnNsYXRlZFJvdyArPSB0cmFuc2xhdGVIb2Rub3R5KHJvd3NwbGl0dGVkLCBmYWxzZSk7XG5cbiAgICBlbHNlIGlmIChEc2wuaXNTa2Fsb3ZhY2lIb2Rub3R5KHJvd3NwbGl0dGVkWzBdKSkgdHJhbnNsYXRlZFJvdyArPSB0aGlzLnRyYW5zbGF0ZVNjYWxlKHRoaXMucHJldmlvdXNyb3csIHJvd3NwbGl0dGVkKTtcbiAgICBlbHNlIGlmIChEc2wuaXNTa2FsYShyb3dzcGxpdHRlZFswXSkpIHRyYW5zbGF0ZWRSb3cgKz0gdGhpcy50cmFuc2xhdGVWQVNjYWxlKHRoaXMucHJldmlvdXNyb3csIHJvd3NwbGl0dGVkKTtcbiAgICBlbHNlIGlmIChEc2wuaXNQb3Bpcyhyb3dzcGxpdHRlZFswXSkpIHRyYW5zbGF0ZWRSb3cgKz0gdGhpcy50cmFuc2xhdGVQb3Bpcyhyb3cpO1xuICAgIGVsc2UgaWYgKERzbC5pc1NlcmFkMmQocm93c3BsaXR0ZWRbMF0pKSB0cmFuc2xhdGVkUm93ICs9IHRoaXMucmFua2luZzJkLnRyYW5zbGF0ZVNlcmFkMmQocm93LnNsaWNlKCdyYW5raW5nMmQnLmxlbmd0aCksIHRoaXMuc3RpbXVsLmF1ZGlvaWQsIHRoaXMuY3VycmVudFBhZ2UsIHRoaXMucXVlc3Rpb25QYWdlKyspO1xuICAgIGVsc2UgaWYgKERzbC5pc1NlbGVjdChyb3dzcGxpdHRlZFswXSkpIHRyYW5zbGF0ZWRSb3cgKz0gdGhpcy50cmFuc2xhdGVTZWxlY3Qocm93c3BsaXR0ZWQpO1xuICAgIGVsc2UgaWYgKERzbC5pc1N0eWxlQnV0dG9uKHJvd3NwbGl0dGVkWzBdKSkgdHJhbnNsYXRlZFJvdyArPSB0aGlzLnRyYW5zbGF0ZVN0eWxlKCdidXR0b24nLCByb3cpO1xuICAgIGVsc2UgaWYgKERzbC5pc1N0eWxlRm9ybShyb3dzcGxpdHRlZFswXSkpIHRyYW5zbGF0ZWRSb3cgKz0gdGhpcy50cmFuc2xhdGVTdHlsZSgnZm9ybScsIHJvdyk7XG4gICAgZWxzZSBpZiAoRHNsLmlzU3R5bGUocm93c3BsaXR0ZWRbMF0pKSB0cmFuc2xhdGVkUm93ICs9IHRoaXMudHJhbnNsYXRlU3R5bGUodGhpcy5wcmV2aW91c3Rva2VuLCByb3cpO1xuICAgIGVsc2UgaWYgKERzbC5pc1R5cGUocm93c3BsaXR0ZWRbMF0pKSB0aGlzLnRyYW5zbGF0ZVR5cGUocm93KTtcbiAgICB0aGlzLnByZXZpb3VzdG9rZW4gPSByb3dzcGxpdHRlZFswXTtcbiAgICBpZiAoIURzbC5zdGFydHNXaXRoQ29tbWVudChyb3dzcGxpdHRlZFswXSkpIHRoaXMucHJldmlvdXNyb3cgPSByb3c7XG4gICAgcmV0dXJuIHRyYW5zbGF0ZWRSb3c7XG4gIH1cblxuICBmb290ZXJQYWdlTnVtYmVyKCkge1xuICAgIHJldHVybiBcIjxwIGFsaWduPSdjZW50ZXInIGNsYXNzPSdmb290ZXInPk9icmF6b3ZrYSBcIiArIHRoaXMuY3VycmVudFBhZ2UgKyAnIHogY2Vsa2VtICcgKyB0aGlzLm1heFBhZ2VzICsgJy48L3A+JztcbiAgfVxuXG4gIC8vc2h1ZmZsZSByYW5kb21seSB0aGUgYXJyYXlcbiAgc2h1ZmZsZSgpIHtcbiAgICBsZXQgaSA9IHRoaXMubGVuZ3RoOyBsZXQgajsgbGV0IHRlbXA7XG4gICAgaWYgKGkgPT0gMCkgcmV0dXJuIHRoaXM7XG4gICAgd2hpbGUgKC0taSkge1xuICAgICAgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xuICAgICAgdGVtcCA9IHRoaXNbaV07XG4gICAgICB0aGlzW2ldID0gdGhpc1tqXTtcbiAgICAgIHRoaXNbal0gPSB0ZW1wO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG5cbiAgLypcbiAgICpcdHRoaXMgc2NyaXB0IHdpbGwgcHJlcHJvY2VzcyB0aGUgdGVzdCAtIG1ha2UgY29tYmluYXRpb24gb2Ygc2NyZWVucyBldGMuIGJlZm9yZSBpdCBpcyBpbnRlcnByZXR0ZWRcbiAgICogZS5nLiBcInBhcm92eXRlc3RcIiwgdGhlcmUgYXJlIG1hZGUgcGFpcnMgZnJvbSB0aGUgc291bmRzIHdpdGhpbiB0aGlzIHRlc3QgYW5kIGdlbmVyYXRlZCBzY3JlZW5zLFxuICAgKiAgICAgIGZvciAyIHNvdW5kIHRoZXJlIGlzIDEgcGFpciwgZm9yIDMgc291bmRzIHRoZXJlIGFyZSAzIHBhaXIgY29tYmluYXRpb24gWzEsMl1bMSwzXVsyLDNdLCAuLi5cbiAgICovXG4gIC8vICAgIHRoaXMucHJlcCA9IG5ldyBQcmVwcm9jZXNvcih0aGlzKTsgLy9iYWNrd2FyZCByZWZlcmVuY2VcbiAgaXNadnVrO1xuXG4gIC8vcmVzZXQgYWxsIHZhbHVlc1xuICBpbml0VGVzdChjdXJyZW50UmF3VGVzdCkge1xuICAgIC8qdGhpcy50c3RhdGUucG9yYWRpdm50aWNpbmFob2RuZSA9IGZhbHNlO1xuICAgIHRoaXMudHN0YXRlLnBvcmFkaXp2dWt1bmFob2RuZSA9IGZhbHNlO1xuICAgIHRoaXMudHN0YXRlLnBvcmFkaWNhc2VuYWhvZG5lID0gZmFsc2U7Ki9cbiAgICB0aGlzLmVkdWNhdGlvbmFsID0gZmFsc2U7XG4gICAgdGhpcy5oaWdobGlnaHRlZCA9IGZhbHNlO1xuICAgIHRoaXMucHJlcCA9IG5ldyBQcmVwcm9jZXNvcih0aGlzKTtcblxuICAgIHRoaXMuY3VycmVudFRlc3QgPSB0aGlzLnByZXAucHJlcHJvY2Vzc1Rlc3QoY3VycmVudFJhd1Rlc3QpOyAvL3ByZXByb2Nlc3MgZnJvbSBjdXJyZW50UmF3VGVzdCB0byBjdXJyZW50VGVzdFxuICAgIHRoaXMudHN0YXRlID0gdGhpcy5wcmVwLnRzdGF0ZTtcbiAgICAvL2NvbnNvbGUubG9nKGN1cnJlbnRUZXN0KTtcbiAgICB0aGlzLm1heFBhZ2VzID0gdGhpcy5jdXJyZW50VGVzdC5tYXRjaCgvXFxuW1xcc10qc2NyZWVuL2lnKS5sZW5ndGg7XG4gICAgdGhpcy50ZXN0TmFtZSA9IEludGVycHJldGVyLmV4dHJhY3QodGhpcy5jdXJyZW50VGVzdC5tYXRjaCgvdGVzdCAuKi9pKS50b1N0cmluZygpLCAndGVzdCAnKTtcblxuICAgIHRoaXMuY3VycmVudEN1cnNvciA9IDA7XG4gICAgdGhpcy5jdXJyZW50UGFnZSA9IDA7XG4gICAgdGhpcy5yZXN1bWVpZCA9IDA7XG5cbiAgICB0aGlzLnJlc3VsdC5hbnN3ZXJzID0gW107Ly9yZXNldCBhbnN3ZXJzIFRPRE8gY2hlY2tcbiAgICB0aGlzLnNsaWRlclZhbHVlcyA9IFtdOy8vcmVzZXQgc2xpZGVyIHZhbHVlc1xuICB9XG5cbiAgcmVzdW1lVGVzdChjdXJyZW50UmF3VGVzdCwgcGFnZSwgYW5zd2VycywgcmVzdW1laWQpIHtcbiAgICB0aGlzLmVkdWNhdGlvbmFsID0gZmFsc2U7IC8vVE9ETyBwZXJzaXN0XG4gICAgdGhpcy5oaWdobGlnaHRlZCA9IGZhbHNlOyAvL1RPRE8gcGVyc2lzdFxuICAgIHRoaXMuc2xpZGVyVmFsdWVzID0gW107Ly9UT0RPIHBlcnNpc3Q/XG4gICAgdGhpcy5yZXN1bWVpZCA9IHJlc3VtZWlkO1xuICAgIHRoaXMucHJlcCA9IG5ldyBQcmVwcm9jZXNvcih0aGlzKTtcblxuICAgIHRoaXMuY3VycmVudFRlc3QgPSBjdXJyZW50UmF3VGVzdDsgLy9hO3JlYWR5IHByZXByb2Nlc3NlZFxuICAgIHRoaXMudHN0YXRlID0gdGhpcy5wcmVwLnRzdGF0ZTtcbiAgICAvL2NvbnNvbGUubG9nKGN1cnJlbnRUZXN0KTtcbiAgICB0aGlzLm1heFBhZ2VzID0gdGhpcy5jdXJyZW50VGVzdC5tYXRjaCgvXFxuW1xcc10qc2NyZWVuL2lnKS5sZW5ndGg7XG4gICAgdGhpcy50ZXN0TmFtZSA9IEludGVycHJldGVyLmV4dHJhY3QodGhpcy5jdXJyZW50VGVzdC5tYXRjaCgvdGVzdCAuKi9pKS50b1N0cmluZygpLCAndGVzdCAnKTtcblxuICAgIHRoaXMuY3VycmVudEN1cnNvciA9IDA7XG4gICAgdGhpcy5jdXJyZW50UGFnZSA9IDA7XG4gICAgLy8gICAgdGhpcy5jdXJyZW50UGFnZSA9IHBhZ2U7IC8vcGVyc2lzdGVudFxuICAgIGlmIChwYWdlID4gMCkge1xuICAgICAgcGFnZS0tO1xuICAgICAgd2hpbGUgKHRoaXMuY3VycmVudFBhZ2UgPCBwYWdlKSB0aGlzLm5leHRwYWdlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCd3ZWlyZCBwYXVzZWQgYXQgcGFnZSAwOyBvciAxOycpO1xuICAgIH1cblxuICAgIHRoaXMucmVzdWx0LmFuc3dlcnMgPSBhbnN3ZXJzOy8vcmVzZXQgYW5zd2Vyc1xuICB9XG5cbiAgZmluZFByZXZpb3VzT2JyYXpvdmthKHRlc3REU0wpIHtcbiAgICBsZXQgc3BsaXR0ZWQgPSB0ZXN0RFNMLnNwbGl0KCdcXG4nKTtcbiAgICB0aGlzLmN1cnJlbnRDdXJzb3ItLTtcbiAgICB0aGlzLmN1cnJlbnRQYWdlIC09IDI7XG4gICAgd2hpbGUgKCh0aGlzLmN1cnJlbnRDdXJzb3IgPiAwKSAmJiAoIXNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcl0uc3RhcnRzV2l0aCgnc2NyZWVuJykpKSB0aGlzLmN1cnJlbnRDdXJzb3ItLTtcbiAgICBpZiAodGhpcy5jdXJyZW50Q3Vyc29yID4gMCkgdGhpcy5jdXJyZW50Q3Vyc29yLS07IC8vc3RlcCBvdmVyIHRoZSBjdXJlbnQgaXRlbVxuICAgIHdoaWxlICgodGhpcy5jdXJyZW50Q3Vyc29yID4gMCkgJiYgKCFzcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3JdLnN0YXJ0c1dpdGgoJ3NjcmVlbicpKSkgdGhpcy5jdXJyZW50Q3Vyc29yLS07XG4gIH1cblxuICAvKm5leHRwYWdlKCl7XG4gICAgcmV0dXJuIFwiPHA+c29tZSBkZW1vIHRlc3Q8L3A+XCI7XG4gIH0qL1xuXG4gIHN0YXRpYyBtYWtlU2xpZGVyKHNsaWRlclZhbCwgc2xpZGVyTWluLCBzbGlkZXJNYXgsIHNsaWRlclN0ZXAsIHNsaWRlcklkLCBteVF1ZXN0aW9uUGFnZSkge1xuICAgIC8vY29uc29sZS5sb2coXCJzbGlkZXJcIik7XG4gICAgdGhpcy5yZXN1bHQuc2V0RGVmYXVsdEFuc3dlcigvKnBhcnNlciovdGhpcy5jdXJyZW50UGFnZSwgbXlRdWVzdGlvblBhZ2UpO1xuICAgIGxldCBteXNsaWRlciA9ICQoJyNzbGlkZXInICsgc2xpZGVySWQpO1xuICAgIG15c2xpZGVyLmxhYmVsZWRzbGlkZXIoe1xuICAgICAgdmFsdWU6IHNsaWRlclZhbCwgbWluOiBzbGlkZXJNaW4sIG1heDogc2xpZGVyTWF4LCBzdGVwOiBzbGlkZXJTdGVwLCBzbGlkZTogZnVuY3Rpb24oZXZlbnQsIHVpKSB7XG4gICAgICAgICQoJyNzbGlkZXInICsgc2xpZGVySWQgKyAnVmFsdWUnKS52YWwoLypwYXJzZXIqL3RoaXMuc2xpZGVyVmFsdWVzW3NsaWRlcklkXVt1aS52YWx1ZV0pO1xuICAgICAgICAvL3VpLmhhbmRsZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImxpZ2h0Ymx1ZVwiOy8vY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLFwibGlnaHRibHVlXCIpOyBqcXVlcnkgdWlcbiAgICAgICAgdGhpcy5zdHlsZS5iYWNrZ3JvdW5kID0gJ2xpZ2h0Ymx1ZSc7XG4gICAgICAgIHNldEFuc3dlcigvKnBhcnNlciovdGhpcy5jdXJyZW50UGFnZSwgbXlRdWVzdGlvblBhZ2UsIC8qcGFyc2VyKi90aGlzLnNsaWRlclZhbHVlc1tzbGlkZXJJZF1bdWkudmFsdWVdKTtcbiAgICAgIH0sXG4gICAgICBzdGFydDogZnVuY3Rpb24oZXZlbnQsIHVpKSB7XG4gICAgICAgICQoJyNzbGlkZXInICsgc2xpZGVySWQgKyAnVmFsdWUnKS52YWwoLypwYXJzZXIqL3RoaXMuc2xpZGVyVmFsdWVzWy8qcGFyc2VyKi90aGlzLnNsaWRlcklkXVt1aS52YWx1ZV0pO1xuICAgICAgICAvL3VpLmhhbmRsZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImxpZ2h0Ymx1ZVwiO1xuICAgICAgICB0aGlzLnN0eWxlLmJhY2tncm91bmQgPSAnbGlnaHRibHVlJztcbiAgICAgICAgc2V0QW5zd2VyKC8qcGFyc2VyKi90aGlzLmN1cnJlbnRQYWdlLCBteVF1ZXN0aW9uUGFnZSwgLypwYXJzZXIqL3RoaXMuc2xpZGVyVmFsdWVzWy8qcGFyc2VyKi90aGlzLnNsaWRlcklkXVt1aS52YWx1ZV0pO1xuICAgICAgfSxcbiAgICAgIHRpY2tMYWJlbHM6IC8qcGFyc2VyKi90aGlzLnNsaWRlclZhbHVlc1tzbGlkZXJJZF1cbiAgICB9KTtcbiAgICBsZXQgd2lkdGggPSBteXNsaWRlci53aWR0aCgpIC8gKC8qcGFyc2VyKi90aGlzLnNsaWRlclZhbHVlc1svKnBhcnNlciovdGhpcy5zbGlkZXJJZF0ubGVuZ3RoIC0gMSk7XG4gIH1cblxuICBzdGF0aWMgbWFrZVZBU2xpZGVyKHNsaWRlcklkLCBzbGlkZXJNaW4sIHNsaWRlck1heCwgbXlRdWVzdGlvblBhZ2UsIHNsaWRlclN0ZXAgPSAxKSB7XG4gICAgLy9jb25zb2xlLmxvZyhcIlZBc2xpZGVyXCIpO1xuICAgIHRoaXMucmVzdWx0LnNldERlZmF1bHRBbnN3ZXIoLypwYXJzZXIqL3RoaXMuY3VycmVudFBhZ2UsIG15UXVlc3Rpb25QYWdlKTtcbiAgICBsZXQgc2xpZGVyS2V5c3N0ciA9IE9iamVjdC5rZXlzKC8qcGFyc2VyKi90aGlzLnNsaWRlclZhbHVlc1tzbGlkZXJJZF0pO1xuICAgIGxldCBzbGlkZXJLZXlzID0gc2xpZGVyS2V5c3N0ci5tYXAoTnVtYmVyKTsgLy9maXggYnVnICMyNjkgbmV3IHZlcnNpb24gb2YgbGFiZWxlZHNsaWRlciByZXF1aXJlcyBudW1iZXJzXG5cbiAgICAkKCcjc2xpZGVyJyArIHNsaWRlcklkKS5sYWJlbGVkc2xpZGVyKHtcbiAgICAgIHZhbHVlOiBzbGlkZXJNaW4sIG1pbjogc2xpZGVyTWluLCBtYXg6IHNsaWRlck1heCwgc3RlcDogc2xpZGVyU3RlcCwgc2xpZGU6IGZ1bmN0aW9uKGV2ZW50LCB1aSkge1xuICAgICAgICAkKCcjc2xpZGVyJyArIHNsaWRlcklkICsgJ1ZhbHVlJykudmFsKHVpLnZhbHVlKTtcbiAgICAgICAgdGhpcy5zdHlsZS5iYWNrZ3JvdW5kID0gJ2xpZ2h0Ymx1ZSc7XG4gICAgICAgIHNldEFuc3dlcigvKnBhcnNlciovdGhpcy5jdXJyZW50UGFnZSwgbXlRdWVzdGlvblBhZ2UsIHVpLnZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBzdGFydDogZnVuY3Rpb24oZXZlbnQsIHVpKSB7XG4gICAgICAgICQoJyNzbGlkZXInICsgc2xpZGVySWQgKyAnVmFsdWUnKS52YWwodWkudmFsdWUpO1xuICAgICAgICB0aGlzLnN0eWxlLmJhY2tncm91bmQgPSAnbGlnaHRibHVlJztcbiAgICAgICAgLy8kKFwiI3NsaWRlclwiICsgc2xpZGVySWQpLmNzcyhcImJhY2tncm91bmRcIixcImxpZ2h0Ymx1ZVwiKTtcbiAgICAgICAgc2V0QW5zd2VyKC8qcGFyc2VyKi90aGlzLmN1cnJlbnRQYWdlLCBteVF1ZXN0aW9uUGFnZSwgdWkudmFsdWUpO1xuICAgICAgfSxcbiAgICAgIC8vdGlja0ludGVydmFsOnNsaWRlclN0ZXAsXG4gICAgICB0aWNrQXJyYXk6IHNsaWRlcktleXMsXG4gICAgICB0aWNrTGFiZWxzOiAvKnBhcnNlciovdGhpcy5zbGlkZXJWYWx1ZXNbc2xpZGVySWRdXG4gICAgfSk7XG4gIH1cblxuICBzdGFydHRlc3QoKSB7XG4gICAgJCgnI3RhYjJoZWxwJykuaGlkZSgpOy8vLmZhZGVPdXQoNTAwKTsgVE9ETyBodG1sIHNwZWNpZmljXG4gICAgbGV0IGN1cnJlbnRSYXdUZXN0ID0gdGhpcy5zZWxlY3RlZFRlc3REZWZpbml0aW9uO1xuICAgIGlmICh0eXBlb2YgdGhpcy5lZGl0b3IgIT09ICd1bmRlZmluZWQnKSBjdXJyZW50UmF3VGVzdCA9IHRoaXMuZWRpdG9yLmdldFZhbHVlKCk7XG4gICAgLy8gICAgcGFyc2VyID0gbmV3IEludGVycHJldGVyKCk7XG4gICAgdGhpcy5pbml0VGVzdChjdXJyZW50UmF3VGVzdCk7XG4gICAgdGhpcy5oaWRlTm9uQW5zd2VyZWQoKTtcbiAgICB0aGlzLmNvbnRyb2xsZXIucHJldmlldy5pbm5lckhUTUwgPSB0aGlzLm5leHRwYWdlKCk7Ly8vKnBhcnNlciovdGhpcy5jdXJyZW50VGVzdCk7XG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLmNvbnRyb2xsZXIucHJldmlldy5pbm5lckhUTUwpO1xuICAgIHRoaXMuZXZhbHVhdGVTY3JpcHRzKCk7XG4gIH1cblxuICByZXN1bWV0ZXN0KCkge1xuICAgICQoJyN0YWIyaGVscCcpLmhpZGUoKTsvLy5mYWRlT3V0KDUwMCk7IFRPRE8gaHRtbCBzcGVjaWZpY1xuICAgIC8vdmFyIGN1cnJlbnRSYXdUZXN0ID0gc2VsZWN0ZWRUZXN0RGVmaW5pdGlvbjtcbiAgICAvL2lmICh0eXBlb2YgZWRpdG9yICE9PSBcInVuZGVmaW5lZFwiKSBjdXJyZW50UmF3VGVzdCA9IGVkaXRvci5nZXRWYWx1ZSgpO1xuICAgIC8vcGFyc2VyID0gbmV3IEludGVycHJldGVyKCk7XG4gICAgdGhpcy5yZXN1bWVUZXN0KHRoaXMuc2VsZWN0ZWRUZXN0RGVmaW5pdGlvbiwgdGhpcy5zZWxlY3RlZFRlc3RTY3JlZW5udW1iZXIsIHRoaXMuc2VsZWN0ZWRUZXN0QW5zd2VycywgdGhpcy5zZWxlY3RlZFRlc3RJZCk7XG4gICAgdGhpcy5oaWRlTm9uQW5zd2VyZWQoKTtcbiAgICB0aGlzLmNvbnRyb2xsZXIucHJldmlldy5pbm5lckhUTUwgPSB0aGlzLm5leHRwYWdlKCk7Ly8vKnBhcnNlciovdGhpcy5jdXJyZW50VGVzdCk7XG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLmNvbnRyb2xsZXIucHJldmlldy5pbm5lckhUTUwpO1xuICAgIHRoaXMuZXZhbHVhdGVTY3JpcHRzKCk7XG4gIH1cblxuXG4gIG5leHRwYWdlKCkge1xuICAgIGxldCB0ZXN0RFNMID0gdGhpcy5jdXJyZW50VGVzdDtcbiAgICB0aGlzLmN1cnJlbnRQYWdlKys7XG4gICAgdGhpcy5xdWVzdGlvblBhZ2UgPSAwO1xuICAgIHRoaXMuc3RpbXVsLmF1ZGlvaWQgPSAwOyAvL3Jlc2V0IGF1ZGlvaWRcbiAgICBjb25zb2xlLmxvZygnbmV4dCBwYWdlJyx0aGlzLmN1cnJlbnRQYWdlKTtcbiAgICBpZiAodGhpcy5jdXJyZW50UGFnZSA+PSB0aGlzLm1heFBhZ2VzKSB7aWYgKHRoaXMuY3VycmVudFBhZ2U9PT0xKSB0aGlzLmNvbnRyb2xsZXIubGFzdE5vUHJldlBhZ2UoKTsgZWxzZSB0aGlzLmNvbnRyb2xsZXIubGFzdFBhZ2UoKTt9XG4gICAgZWxzZSBpZiAodGhpcy5jdXJyZW50UGFnZSA9PT0gMSkgdGhpcy5jb250cm9sbGVyLmZpcnN0UGFnZSgpO1xuICAgIGVsc2UgdGhpcy5jb250cm9sbGVyLm1pZGRsZVBhZ2UoKTtcbiAgICBsZXQgdHJhbnNsYXRlZGhlYWRlciA9ICcnO1xuXG4gICAgbGV0IHNwbGl0dGVkID0gdGVzdERTTC5zcGxpdCgnXFxuJyk7XG4gICAgLy9nbyBmcm9tIGN1cnNvciB0byB0aGUgZmlyc3QgXCJzY3JlZW5cIiB3aGljaCB3aWxsIGJlIHN0YXJ0IG9mIGludGVycHJldGF0aW9uXG4gICAgd2hpbGUgKCgvKnBhcnNlciovdGhpcy5jdXJyZW50Q3Vyc29yIDwgc3BsaXR0ZWQubGVuZ3RoKSAmJiAoIURzbC5pc09icmF6b3ZrYShzcGxpdHRlZFsvKnBhcnNlciovdGhpcy5jdXJyZW50Q3Vyc29yXSkpKSAvKnBhcnNlciovdGhpcy5jdXJyZW50Q3Vyc29yKys7XG5cbiAgICAvL3RyYW5zbGF0ZSBvYnJhem92a2Egcm93XG4gICAgaWYgKC8qcGFyc2VyKi90aGlzLmN1cnJlbnRDdXJzb3IgPCBzcGxpdHRlZC5sZW5ndGgpIHtcbiAgICAgIHRyYW5zbGF0ZWRoZWFkZXIgKz0gLypwYXJzZXIqL3RoaXMudHJhbnNsYXRlT2JyYXpvdmthKHNwbGl0dGVkWy8qcGFyc2VyKi90aGlzLmN1cnJlbnRDdXJzb3JdKTtcbiAgICAgIC8qcGFyc2VyKi90aGlzLmN1cnJlbnRDdXJzb3IrKztcbiAgICB9XG5cbiAgICAvL2ludGVycHJldCBldmVyeXRoaW5nIHVudGlsIG5leHQgJ29icmF6b3ZrYSBvciBlbmQnXG4gICAgd2hpbGUgKCgvKnBhcnNlciovdGhpcy5jdXJyZW50Q3Vyc29yIDwgc3BsaXR0ZWQubGVuZ3RoKSAmJiAoIURzbC5pc09icmF6b3ZrYShzcGxpdHRlZFsvKnBhcnNlciovdGhpcy5jdXJyZW50Q3Vyc29yXSkpKSB7XG4gICAgICB0cmFuc2xhdGVkaGVhZGVyICs9IC8qcGFyc2VyKi90aGlzLnRyYW5zbGF0ZVRlc3RJdGVtcyhzcGxpdHRlZFsvKnBhcnNlciovdGhpcy5jdXJyZW50Q3Vyc29yXSk7XG4gICAgICAvKnBhcnNlciovdGhpcy5jdXJyZW50Q3Vyc29yKys7XG4gICAgfVxuICAgIC8vY29uc29sZS5sb2coXCJ0cmFuc2xhdGVkIDA6XCIgKyB0cmFuc2xhdGVkaGVhZGVyKTtcbiAgICB0cmFuc2xhdGVkaGVhZGVyICs9IC8qcGFyc2VyKi90aGlzLmNsb3NlT3RhemthKCk7IC8vY2xvc2Ugb3BlbiBxdWVzdGlvbnMgd2l0aG91dCB2YWx1ZXNcbiAgICB0cmFuc2xhdGVkaGVhZGVyICs9IC8qcGFyc2VyKi90aGlzLmNsb3NlU2xvdXBjZSgpO1xuXG4gICAgdHJhbnNsYXRlZGhlYWRlciArPSAvKnBhcnNlciovdGhpcy5zdGltdWwuY2xvc2VRdWVzdGlvbkRpdigpO1xuICAgIHRyYW5zbGF0ZWRoZWFkZXIgKz0gLypwYXJzZXIqL3RoaXMuZm9vdGVyUGFnZU51bWJlcigpO1xuICAgIGNvbnNvbGUubG9nKFwidHJhbnNsYXRlZCBoZWFkZXI6XCIsIHRyYW5zbGF0ZWRoZWFkZXIpO1xuICAgIHJldHVybiB0cmFuc2xhdGVkaGVhZGVyO1xuICB9XG5cbiAgdHJhdmVyc2V0ZXN0KGRlZmluaXRpb24sIGNhbGxiYWNrLCBlcnJvcmNhbGxiYWNrKSB7XG4gICAgLypwYXJzZXIqL3RoaXMuaW5pdFRlc3QoZGVmaW5pdGlvbik7XG4gICAgd2hpbGUgKC8qcGFyc2VyKi90aGlzLmN1cnJlbnRQYWdlIDwgLypwYXJzZXIqL3RoaXMubWF4UGFnZXMpIHRoaXMubmV4dHBhZ2UoKTtcbiAgICAvL2V2YWx1YXRlU2NyaXB0cygpOyAvL3RoZXJlIGFyZSBubyBzY3JpcHRzLCBvbmx5IGlubmVyaHRtbFxuICAgIHRoaXMucG9zdEFuc3dlcnMoY2FsbGJhY2ssIGVycm9yY2FsbGJhY2spO1xuICB9XG5cbiAgLy9UT0RPIGNoZWNrIGlmIG5lZWRlZCAtIHJlbW92ZVxuICBjbGVhcnRlc3QoKSB7XG4gICAgdGhpcy5jb250cm9sbGVyLnByZXZpZXcuaW5uZXJIVE1MID0gJyc7XG4gICAgdGhpcy5zaG93QnV0dG9uc1N0YXJ0KCk7XG4gIH1cblxuICAvL1RPRE8gY2hlY2sgaWYgbmVlZGVkIC0gcmVtb3ZlXG4gIHByZXZpb3VzdGVzdGl0ZW0oKSB7XG4gICAgLypwYXJzZXIqL3RoaXMuZmluZFByZXZpb3VzT2JyYXpvdmthKC8qcGFyc2VyKi90aGlzLmN1cnJlbnRUZXN0KTtcbiAgICB0aGlzLmNvbnRyb2xsZXIucHJldmlldy5pbm5lckhUTUwgPSB0aGlzLm5leHRwYWdlKCk7XG4gICAgdGhpcy5ldmFsdWF0ZVNjcmlwdHMoKTtcbiAgfVxuXG4gIC8vVE9ETyB2aW9sYXRpb24gb2Ygc2VwYXJhdGlvbiwgbWl4ZWQgcGFyc2VyLWludGVycHJldGVyIGFuZCBjb250ZW50XG4gIGNoZWNrQW5zd2Vyc0luU2NyZWVuKCkge1xuICAgIGxldCBmb3VuZE5BID0gZmFsc2U7XG4gICAgbGV0IGl0ZW07XG4gICAgaWYgKC8qcGFyc2VyKi90aGlzLnJlc3VsdC5hbnN3ZXJzWy8qcGFyc2VyKi90aGlzLmN1cnJlbnRQYWdlIC0gMV0pIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwvKnBhcnNlciovdGhpcy5yZXN1bHQuYW5zd2Vyc1svKnBhcnNlciovdGhpcy5jdXJyZW50UGFnZSAtIDFdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICgvKnBhcnNlciovdGhpcy5yZXN1bHQuYW5zd2Vyc1svKnBhcnNlciovdGhpcy5jdXJyZW50UGFnZSAtIDFdW2ldICYmIC8qcGFyc2VyKi90aGlzLnJlc3VsdC5hbnN3ZXJzWy8qcGFyc2VyKi90aGlzLmN1cnJlbnRQYWdlIC0gMV1baV0uYW5zd2VyKSB7XG4gICAgICAgICAgaWYgKC8qcGFyc2VyKi90aGlzLnJlc3VsdC5hbnN3ZXJzWy8qcGFyc2VyKi90aGlzLmN1cnJlbnRQYWdlIC0gMV1baV0uYW5zd2VyID09PSAnTi9BJykge1xuICAgICAgICAgIC8vaGlnaGxpZ2h0IC0gLypwYXJzZXIqL3RoaXMucmVzdWx0XG5cbiAgICAgICAgICAgIGl0ZW0gPSAkKCcjcScgKyAvKnBhcnNlciovdGhpcy5jdXJyZW50UGFnZSArICdcXFxcLicgKyAoaSArIDEpICsgJz5maWVsZHNldCcpOy8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3EnICsgLypwYXJzZXIqL3RoaXMuY3VycmVudFBhZ2UgKyAnLicgKyAoaSArIDEpKTtcbiAgICAgICAgICAgIGlmICghaXRlbS5sZW5ndGgpIGl0ZW0gPSAkKCcjcScgKyAvKnBhcnNlciovdGhpcy5jdXJyZW50UGFnZSArICdcXFxcLicgKyAoaSArIDEpKTtcbiAgICAgICAgICAgIC8vaWYgKGl0ZW0ubGVuZ3RoKVxuICAgICAgICAgICAgaXRlbS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAnI2ZmZGRkZCcpO1xuICAgICAgICAgICAgZm91bmROQSA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGl0ZW0gPSAkKCcjcScgKyAvKnBhcnNlciovdGhpcy5jdXJyZW50UGFnZSArICdcXFxcLicgKyAoaSArIDEpICsgJz5maWVsZHNldCcpOy8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3EnICsgLypwYXJzZXIqL3RoaXMuY3VycmVudFBhZ2UgKyAnLicgKyAoaSArIDEpKTtcbiAgICAgICAgICAgIGlmICghaXRlbS5sZW5ndGgpIGl0ZW0gPSAkKCcjcScgKyAvKnBhcnNlciovdGhpcy5jdXJyZW50UGFnZSArICdcXFxcLicgKyAoaSArIDEpKTtcbiAgICAgICAgICAgIGlmIChpdGVtLmxlbmd0aCkgaXRlbS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAnI2ZmZmZmZicpO1xuICAgICAgICAgIC8vaWYgKGl0ZW0pIGl0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjZmZmZmZmXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmb3VuZE5BO1xuICB9XG5cblxuICAvKiByZXR1cm5zIHRydWUgaWYgYWxsIHF1ZXN0aW9ucyBhcmUgYW5zd2VyZWQsIGZhbHNlIGlmIGF0IGxlYXN0IG9uZSBhbnN3ZXIgaXMgbm90Ki9cbiAgY2hlY2tBbnN3ZXJzKCkge1xuICAgIC8vZm9yIGVhY2ggYW5zd2Vyc1twYWdlbnVtLTFdIGFuc3dlciE9IE4vQVxuICAgIC8vdmFyIGZvdW5kTkEgPSBmYWxzZTtcbiAgICBsZXQgZG9udGNoZWNrYW5zd2VycyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkb250Y2hlY2thbnN3ZXJzJyk7XG4gICAgaWYgKGRvbnRjaGVja2Fuc3dlcnMgJiYgZG9udGNoZWNrYW5zd2Vycy5wcm9wKCdjaGVja2VkJykpIHJldHVybiB0cnVlOyAvL2Rvbid0IGNoZWNrIGluIGVkaXRvciBtb2RlXG4gICAgbGV0IGZvdW5kTkEgPSB0aGlzLmNoZWNrQW5zd2Vyc0luU2NyZWVuKCk7XG4gICAgcmV0dXJuICFmb3VuZE5BO1xuICB9XG5cbiAgaGlnaGxpZ2h0Tm9uQW5zd2VyZWQoKSB7XG4gICAgbGV0IGl0ZW0gPSAkKCcjbm90aWZpY2F0aW9uJyk7XG4gICAgaXRlbS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAnI2ZkZCcpO1xuICAgIGl0ZW0uaHRtbCgnIFBybyBwb2tyYcSNb3bDoW7DrSwgcHJvc8OtbSwgdnlwbMWIdGUgdnl6bmHEjWVuw6kgb3TDoXpreSEnKTtcbiAgfVxuXG4gIGhpZGVOb25BbnN3ZXJlZCgpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm90aWZpY2F0aW9uJykuaW5uZXJIVE1MID0gJyc7XG4gIH1cblxuICBuZXh0dGVzdGl0ZW0oKSB7XG4gICAgaWYgKHRoaXMuY2hlY2tBbnN3ZXJzKCkpIHsgLy9jaGVjayB3aGV0aGVyIGFsbCBtYW5kYXRvcnkgcXVlc3Rpb25zIGFyZSBhbnN3ZXJlZCAtIHNldCB0byBub24tZGVmYXVsdCB2YWx1ZVxuICAgICAgaWYgKHRoaXMuaGlnaGxpZ2h0RWR1Y2F0aW9uKCkpIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnByZXZpZXcuaW5uZXJIVE1MID0gdGhpcy5uZXh0cGFnZSgpO1xuICAgICAgICAvKnBhcnNlciovdGhpcy5oaWdobGlnaHRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmV2YWx1YXRlU2NyaXB0cygpO1xuICAgICAgICB0aGlzLmhpZGVOb25BbnN3ZXJlZCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9ub3QgaGlnaGxpZ2h0ZWRcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oaWdobGlnaHROb25BbnN3ZXJlZCgpO1xuICAgIH1cbiAgfVxuXG4gIGhpZ2hsaWdodEVkdWNhdGlvbigpIHtcbiAgICBsZXQgYXRsZWFzdG9uZWVkdWFuc3dlciA9IGZhbHNlO1xuICAgIGlmICgvKnBhcnNlciovdGhpcy5lZHVjYXRpb25hbCkge1xuICAgICAgaWYgKCEgLypwYXJzZXIqL3RoaXMucmVzdWx0LmFuc3dlcnNbLypwYXJzZXIqL3RoaXMuY3VycmVudFBhZ2UgLSAxXSkgcmV0dXJuIHRydWU7XG4gICAgICBpZiAoLypwYXJzZXIqL3RoaXMuaGlnaGxpZ2h0ZWQpIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vdGlmaWNhdGlvbicpLmlubmVySFRNTCA9ICcnO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIC8qcGFyc2VyKi90aGlzLmhpZ2hsaWdodGVkID0gdHJ1ZTtcbiAgICAgIGlmICgvKnBhcnNlciovdGhpcy5yZXN1bHQuYW5zd2Vyc1svKnBhcnNlciovdGhpcy5jdXJyZW50UGFnZSAtIDFdKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgLypwYXJzZXIqL3RoaXMucmVzdWx0LmFuc3dlcnNbLypwYXJzZXIqL3RoaXMuY3VycmVudFBhZ2UgLSAxXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICgvKnBhcnNlciovdGhpcy5yZXN1bHQuYW5zd2Vyc1svKnBhcnNlciovdGhpcy5jdXJyZW50UGFnZSAtIDFdW2ldICYmICgnYW5zd2VyJyBpbiAvKnBhcnNlciovdGhpcy5yZXN1bHQuYW5zd2Vyc1svKnBhcnNlciovdGhpcy5jdXJyZW50UGFnZSAtIDFdW2ldKSkgey8vZml4IGJ1ZyAyNjhcbiAgICAgICAgICAgIHZhciBpdGVtID0gJCgnI3EnICsgLypwYXJzZXIqL3RoaXMuY3VycmVudFBhZ2UgKyAnXFxcXC4nICsgKGkgKyAxKSk7IC8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3EnICsgY3VycmVudFBhZ2UgKyAnLicgKyAoaSArIDEpKTtcbiAgICAgICAgICAgIC8vZGlzYWJsZSBlZGl0aW5nIHRoZSBzdWJlbGVtZW50IHdpdGhpbiB0aGlzIGZvcm1cbiAgICAgICAgICAgIGl0ZW0uZmluZCgnaW5wdXQnKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICAgICAgaXRlbS5maW5kKCdvcHRpb24nKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICAgICAgaXRlbS5maW5kKCcudWktc2xpZGVyJykubGFiZWxlZHNsaWRlcignZGlzYWJsZScpO1xuXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiI3FcIiArIGN1cnJlbnRQYWdlICsgXCJcXFxcLlwiICsgKGkgKyAxKSk7XG4gICAgICAgICAgICAvL2lmIChpdGVtKSBpdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2VlZmZlZVwiO1xuICAgICAgICAgICAgbGV0IGFxdWVzdGlvbiA9IC8qcGFyc2VyKi90aGlzLnJlc3VsdC5hbnN3ZXJzWy8qcGFyc2VyKi90aGlzLmN1cnJlbnRQYWdlIC0gMV1baV0ucXVlc3Rpb24udHJpbSgpO1xuICAgICAgICAgICAgbGV0IGFjYXNlID0gLypwYXJzZXIqL3RoaXMucmVzdWx0LmFuc3dlcnNbLypwYXJzZXIqL3RoaXMuY3VycmVudFBhZ2UgLSAxXVtpXS5jYXNlO1xuICAgICAgICAgICAgbGV0IGFuc3dlciA9IC8qcGFyc2VyKi90aGlzLnJlc3VsdC5hbnN3ZXJzWy8qcGFyc2VyKi90aGlzLmN1cnJlbnRQYWdlIC0gMV1baV0uYW5zd2VyO1xuICAgICAgICAgICAgLy92YXIgbXllZHVhbnN3ZXI7XG4gICAgICAgICAgICBpZiAoLypwYXJzZXIqL3RoaXMuZWR1cmVzdWx0c1thY2FzZV0pIHtcbiAgICAgICAgICAgICAgbGV0IG15ZWR1YW5zd2VyID0gLypwYXJzZXIqL3RoaXMuZWR1cmVzdWx0c1thY2FzZV0uYW5zd2VyW2FxdWVzdGlvbl07XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlZHVhbnN3ZXInKTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coLypwYXJzZXIqL3RoaXMuZWR1cmVzdWx0c1thY2FzZV0pO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIidcIiArIGFxdWVzdGlvbiArIFwiJ1wiKTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coT2JqZWN0LmtleXMoLypwYXJzZXIqL3RoaXMuZWR1cmVzdWx0c1thY2FzZV0uYW5zd2VyKSk7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKG15ZWR1YW5zd2VyKTtcbiAgICAgICAgICAgICAgaWYgKG15ZWR1YW5zd2VyKSB7XG4gICAgICAgICAgICAgICAgYXRsZWFzdG9uZWVkdWFuc3dlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy9jcmVhdGluZyB0b29sdGlwIGRpdlxuICAgICAgICAgICAgICAgICQoXCI8ZGl2IGNsYXNzPSd0b29sdGlwQ29udGVudCc+XCIgKyAvKnBhcnNlciovdGhpcy5lZHVyZXN1bHRzW2FjYXNlXS5ub3RlW2FxdWVzdGlvbl0gKyAnPC9kaXY+JykuYXBwZW5kVG8oaXRlbSk7XG4gICAgICAgICAgICAgICAgLy9hZGRpbmcgdG9vbHRpcCBjbGFzcyB0byB0aGUgZm9ybVxuICAgICAgICAgICAgICAgIGl0ZW0uYWRkQ2xhc3MoJ3Rvb2x0aXAnKTtcbiAgICAgICAgICAgICAgICAvL3Byb2Nlc3MgYWxsIGVkdWFuc3dlcnM7XG4gICAgICAgICAgICAgICAgbGV0IGVkdWFuc3dlcm11bHRpID0gbXllZHVhbnN3ZXIuc3BsaXQoJzsnKTsgLy9zaG93IG11bHRpcGxlIHZhbHVlcyBkZWxpbWl0ZWQgYnkgO1xuICAgICAgICAgICAgICAgIGVkdWFuc3dlcm11bHRpLmZvckVhY2goZnVuY3Rpb24oZWR1YW5zd2VyKSB7XG4gICAgICAgICAgICAgICAgICBsZXQgaGl0ZW0gPSBpdGVtLmZpbmQoXCJbdmFsdWV8PSdcIiArIGVkdWFuc3dlciArIFwiJ11cIik7IC8vc2VsZWN0cyA8aW5wdXQ+XG4gICAgICAgICAgICAgICAgICBpZiAoaGl0ZW0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dGhpdGVtID0gaGl0ZW0ubmV4dCgpOyAvL3NlbGVjdHMgcmVsYXRlZCA8bGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJpdGVtOlwiICsgaXRlbS5wcm9wKCdub2RlTmFtZScpICsgXCIgaGl0ZW06XCIgKyBoaXRlbS5wcm9wKCdub2RlTmFtZScpICsgXCIgbmV4dGhpdGVtOlwiICsgbmV4dGhpdGVtLnByb3AoJ25vZGVOYW1lJykpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0aGl0ZW0uaXMoJ2xhYmVsJykpIHtuZXh0aGl0ZW0uYXR0cignc3R5bGUnLCAnYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmVlbicpO30gZWxzZSBpZiAoaGl0ZW0uaXMoJ29wdGlvbicpKSB7aGl0ZW0uYXR0cignc3R5bGUnLCAnYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmVlbjtib3JkZXI6c29saWQgMnB4IGdyZWVuJyk7fVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gc2hvdyBpbiBzbGlkZXIgaGFuZGxlXG4gICAgICAgICAgICAgICAgICAgIGhpdGVtID0gaXRlbS5maW5kKCcudWktc2xpZGVyJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoaXRlbS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy92YXIgaWRoaXRlbSA9IGhpdGVtLnByb3AoXCJpZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudHZhbHVlID0gaGl0ZW0ubGFiZWxlZHNsaWRlcigndmFsdWUnKTsgLy9rZWVwIGN1cnJlbnQgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgc2xpZGVyaWQgPSBoaXRlbS5wcm9wKCdpZCcpO1xuICAgICAgICAgICAgICAgICAgICAgIGxldCBzbGlkZXJudW0gPSBwYXJzZUludChJbnRlcnByZXRlci5leHRyYWN0KHNsaWRlcmlkLCAnc2xpZGVyJyksIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgZWR1YW5zd2VyaW50ID0gcGFyc2VJbnQoZWR1YW5zd2VyLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgICAgbGV0IGVkdWFuc3dlcmluZGV4ID0gLypwYXJzZXIqL3RoaXMuc2xpZGVyVmFsdWVzW3NsaWRlcm51bV0uaW5kZXhPZihlZHVhbnN3ZXJpbnQpO1xuICAgICAgICAgICAgICAgICAgICAgIC8vbW92ZXMgc2xpZGVyIGhhbmRsZSB0byBlZHVjYXRpb25hbCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChlZHVhbnN3ZXJpbmRleCA+IC0xKSAvL21vdmUgdG8gZWR1IHZhbHVlIGZyb20gc2VxdWVuY2VcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwic2xpZGVydmFsdWU6XCIgKyBzbGlkZXJWYWx1ZXNbc2xpZGVybnVtXVtlZHVhbnN3ZXJpbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0ZW0ubGFiZWxlZHNsaWRlcigndmFsdWUnLCAvKnBhcnNlciovdGhpcy5zbGlkZXJWYWx1ZXNbc2xpZGVybnVtXVtlZHVhbnN3ZXJpbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSAvL21vdmUgdG8gZWR1IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIm5vcm1hbCB2YWx1ZTpcIiArIGVkdWFuc3dlcmludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXRlbS5sYWJlbGVkc2xpZGVyKCd2YWx1ZScsIGVkdWFuc3dlcmludCk7IC8vbW92ZSB0byBlZHUgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgLy92YXIgaGFuZGxlID0gaXRlbS5maW5kKFwiLnVpLXNsaWRlci1oYW5kbGVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgbGV0IG9sZGhhbmRsZSA9IGhpdGVtLmZpbmQoJy51aS1zbGlkZXItaGFuZGxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld2hhbmRsZSA9IGhpdGVtLmZpbmQoJy51aS1zbGlkZXItaGFuZGxlJykuY2xvbmUoKTsgLy8uYXBwZW5kVG8oaGl0ZW0pOyAvL2Nsb25lIHRoZSBoYW5kbGVcbiAgICAgICAgICAgICAgICAgICAgICAvL3NsaWRlciBhbHJlYWR5IGhhcyBzb21lIHN0eWxlIC0gcG9zaXRpb24sIHdoaWhjIG11c3QgYmUgcHJlc2VydmVkXG4gICAgICAgICAgICAgICAgICAgICAgaGl0ZW0ubGFiZWxlZHNsaWRlcigndmFsdWUnLCBjdXJyZW50dmFsdWUpOyAvL3JldHVybiB0byBjdXJyZW50IHZhbHVlIC0gdGhlIGNsb25lIHdpbGwgcmVtYWluIG9uIHRoZSBlZHUgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgb2xkc3R5bGUgPSBvbGRoYW5kbGUuYXR0cignc3R5bGUnKSArICdib3JkZXI6c29saWQgMnB4IGJsdWU7JztcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3c3R5bGUgPSBuZXdoYW5kbGUuYXR0cignc3R5bGUnKSArICdiYWNrZ3JvdW5kOmxpZ2h0Z3JlZW47JztcbiAgICAgICAgICAgICAgICAgICAgICBuZXdoYW5kbGUuYXR0cignc3R5bGUnLCBuZXdzdHlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgb2xkaGFuZGxlLmF0dHIoJ3N0eWxlJywgb2xkc3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICAgIGhpdGVtLmxhYmVsZWRzbGlkZXIoJ2Rpc2FibGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICBuZXdoYW5kbGUuYXBwZW5kVG8oaGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICAgIC8vaGl0ZW0uZmluZChcIi51aS1zbGlkZXItaGFuZGxlXCIpLmxhc3QoKS5hdHRyKFwic3R5bGVcIiwgXCJiYWNrZ3JvdW5kOmdyZWVuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIC8vc2VsZWN0XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vYWxsYW5zd2VycyBoaWdobGlnaHRlZCwgZW5hYmxlIHRvb2x0aXBcbiAgICAgICAgJCgnLnRvb2x0aXAnKS5ob3ZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICBsZXQgdG9vbHRpcCA9ICQoJz4gZGl2JywgdGhpcykuc2hvdygpO1xuICAgICAgICAgIGxldCBwb3MgPSB0b29sdGlwLm9mZnNldCgpO1xuICAgICAgICAgIHRvb2x0aXAuaGlkZSgpO1xuICAgICAgICAgIGxldCByaWdodCA9IHBvcy5sZWZ0ICsgdG9vbHRpcC53aWR0aCgpO1xuICAgICAgICAgIGxldCBwYWdlV2lkdGggPSAkKGRvY3VtZW50KS53aWR0aCgpO1xuICAgICAgICAgIGlmIChwb3MubGVmdCA8IDApIHtcbiAgICAgICAgICAgIHRvb2x0aXAuY3NzKCdtYXJnaW5MZWZ0JywgJys9JyArICgtcG9zLmxlZnQpICsgJ3B4Jyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChyaWdodCA+IHBhZ2VXaWR0aCkge1xuICAgICAgICAgICAgdG9vbHRpcC5jc3MoJ21hcmdpbkxlZnQnLCAnLT0nICsgKHJpZ2h0IC0gcGFnZVdpZHRoKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRvb2x0aXAuZmFkZUluKCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICQoJz4gZGl2JywgdGhpcykuZmFkZU91dChmdW5jdGlvbigpIHsgJCh0aGlzKS5jc3MoJ21hcmdpbkxlZnQnLCAnJyk7IH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChhdGxlYXN0b25lZWR1YW5zd2VyKSB7XG4gICAgICAgIGxldCBpdGVtMiA9ICQoJyNub3RpZmljYXRpb24nKTtcbiAgICAgICAgaXRlbTIuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJ2xpZ2h0Z3JlZW4nKTtcbiAgICAgICAgaXRlbTIuaHRtbCgnVnl6bmHEjWVueSBqc291IHByxa9txJtybsOpLCBuZWp2w61jZSB2eWLDrXJhbsOpIGhvZG5vdHkgbmEgdXZlZGVuw6kgb3TDoXpreS4nKTtcbiAgICAgIH0gZWxzZSAvKnBhcnNlciovdGhpcy5oaWdobGlnaHRlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuICghYXRsZWFzdG9uZWVkdWFuc3dlcik7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cblxuICAvL1RPRE8gYWRkIFBzeWNob1Rlc3RQYXVzZVVybCwgY29uc3RydWN0IHBhdXNlZHRlc3RyZXN1bHQsIGltcGxlbWVudCByZXN1bWV0ZXN0KCksIGFkZCBhIHNlbGVjdCBib3ggd2l0aCB0ZXN0cyB0byByZXN1bWUgaW50byBIVE1MLCBhZnRlciBzZWxlY3Rpb24gbG9hZCByYXcgdGVzdCwgbG9hZCByZXN1bHRzIGFuZCBnbyBpbnRvIHRoZSBsYXN0IHNjcmVlbixcbiAgcGF1c2V0ZXN0KCkge1xuICAgIGlmICghY29uZmlybSgnRG8geW91IHdhbnQgdG8gcG9zdHBvbmUgdGhlIHRlc3QgZXhlY3V0aW9uPyBQb3N0cG9uZWQgdGVzdCBjYW4gYmUgcmVzdW1lZCBsYXRlciBmcm9tIHRoZSBjdXJyZW50IHNjcmVlbi4nKSkgcmV0dXJuO1xuICAgIC8vc3RvcmUgcmVzdWx0cywgcmF3IHRlc3QgYW5kIHNjcmVlbiBudW1iZXIgaW50byBzZXJ2ZXJcbiAgICBsZXQgcGF1c2VkdGVzdFJlc3VsdCA9IHt9O1xuICAgIHBhdXNlZHRlc3RSZXN1bHQudGVzdG5hbWUgPSAvKnBhcnNlciovdGhpcy50ZXN0TmFtZTsvL3sgZ2V0OyBzZXQ7IH1cbiAgICBwYXVzZWR0ZXN0UmVzdWx0LnNjcmVlbm51bWJlciA9IC8qcGFyc2VyKi90aGlzLmN1cnJlbnRQYWdlOy8veyBnZXQ7IHNldDsgfVxuICAgIHBhdXNlZHRlc3RSZXN1bHQucmF3dGVzdGRlZmluaXRpb24gPSAvKnBhcnNlciovdGhpcy5jdXJyZW50VGVzdDsvL3sgZ2V0OyBzZXQ7IH1cblxuICAgIC8vcGF1c2VkdGVzdFJlc3VsdC5sb2dpbm5hbWUgPSBwcm9tcHQoXCJFbnRlciB5b3VyIHVuaXF1ZSBJRCwgZS5nLiBlbWFpbCBhZGRyZXNzXCIpO1xuICAgIHBhdXNlZHRlc3RSZXN1bHQudGVtcG9yYWxyZXN1bHRzID0gSlNPTi5zdHJpbmdpZnkoLypwYXJzZXIqL3RoaXMucmVzdWx0LmFuc3dlcnMpO1xuICAgIGxldCBNRVRIT0QgPSAnUFVUJztcbiAgICBpZiAoLypwYXJzZXIqL3RoaXMucmVzdW1laWQgPiAwKSB7cGF1c2VkdGVzdFJlc3VsdC5pZCA9IC8qcGFyc2VyKi90aGlzLnJlc3VtZWlkOyBNRVRIT0QgPSAnUE9TVCc7fVxuICAgICQuYWpheCh7XG4gICAgICB0eXBlOiBNRVRIT0QsXG4gICAgICB1cmw6IFBzeWNob1Rlc3RQYXVzZVVybCxcbiAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkocGF1c2VkdGVzdFJlc3VsdCksXG4gICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXG4gICAgICBzdWNjZXNzOiB0aGlzLnBhdXNldGVzdGNhbGxiYWNrLFxuICAgICAgZXJyb3I6IHRoaXMucG9zdEFuc3dlckVycm9yQ2FsbGJhY2tcbiAgICB9KTtcbiAgICAvL2NvbnNvbGUubG9nKFwiVE9ETywgbm90IHlldCBpbXBsZW1lbnRlZCBwYXVzZXRlc3QoKVwiKTtcbiAgfVxuXG4gIHBhdXNldGVzdGNhbGxiYWNrKGRhdGEpIHtcbiAgICBjb25zb2xlLmxvZygnc2F2ZWQgcGF1c2VkIHRlc3QuIFJlc3BvbnNlOicpO1xuICAgIC8vY29uc29sZS5sb2coZGF0YSlcbiAgICBwYXVzZWR0ZXN0aWQgPSBkYXRhLmlkO1xuICAgIHRoaXMuZm9jdXNQYXVzZWQoKTsgLy9jYWxsaW5nIGJhY2sgdG8gZm9jdXMgdGhlIHBhdXNlZCBUYWJcbiAgfVxuXG4gIGV2YWx1YXRlU2NyaXB0cygpIHtcbiAgICAvL2V2YWx1YXRlIGdyYXBoc1xuICAgIGxldCBjb2RlcyA9IHRoaXMuY29udHJvbGxlci5wcmV2aWV3LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcbiAgICAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmV2aWV3JykuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpO1xuICAgIC8vY29uc29sZS5sb2coXCJjb2Rlc1wiK2NvZGVzKTtcbiAgICAvL2NvbnNvbGUubG9nKGNvZGVzKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBldmFsKGNvZGVzW2ldLnRleHQpO1xuICAgIH1cbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5DQTtBQXFDQTtBQUNBO0FBQ0E7QUF2Q0E7QUF5Q0E7QUFDQTtBQUNBO0FBM0NBO0FBQ0E7QUFEQTtBQTZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5EQTtBQXFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUExREE7QUFDQTtBQURBO0FBNkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbkVBO0FBcUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF6RUE7QUEyRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7OztBQXZGQTtBQUNBO0FBREE7QUEyRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7OztBQXBHQTtBQUNBO0FBREE7QUF3R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFHQTs7OztBQXBIQTtBQUNBO0FBREE7QUEwSEE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBNUhBO0FBOEhBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUF6SUE7QUEySUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxLQTtBQW9LQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBaE1BO0FBa01BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUExTUE7QUE0TUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTs7OztBQXJOQTtBQUNBO0FBREE7QUF5TkE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7Ozs7QUF0UEE7QUFDQTtBQURBO0FBNFBBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTs7Ozs7O0FBS0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQS9SQTtBQWtTQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUE5U0E7QUFpVEE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQWxVQTtBQUNBO0FBREE7QUFzVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTs7O0FBalZBO0FBQ0E7QUFEQTtBQXFWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUEzVkE7QUE2VkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFqV0E7QUFDQTtBQURBO0FBcVdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBOVdBO0FBZ1hBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBbllBO0FBc1lBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQS9ZQTtBQWlaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFuYUE7QUFDQTtBQURBO0FBc2FBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7OztBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFEQTtBQUlBOzs7OztBQURBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXRkQTtBQXdkQTtBQUNBO0FBemRBO0FBQ0E7QUFEQTtBQTZkQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7Ozs7O0FBS0E7QUE5ZUE7QUFDQTtBQWdmQTtBQWpmQTtBQW1mQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQXZnQkE7QUF5Z0JBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWppQkE7QUFtaUJBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTs7O0FBM2lCQTtBQUNBO0FBREE7QUFnakJBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFiQTtBQWVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBcGtCQTtBQXFrQkE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQWRBO0FBZ0JBO0FBQ0E7QUE1bEJBO0FBOGxCQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQXhtQkE7QUEwbUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBcG5CQTtBQXVuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXpwQkE7QUEycEJBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUEvcEJBO0FBQ0E7QUFEQTtBQW1xQkE7QUFDQTtBQUNBO0FBcnFCQTtBQUNBO0FBREE7QUF5cUJBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBNXFCQTtBQUNBO0FBREE7QUFnckJBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUdBO0FBMXNCQTtBQUNBO0FBREE7QUE0c0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQW50QkE7QUFxdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF6dEJBO0FBMnRCQTtBQUNBO0FBQ0E7QUE3dEJBO0FBK3RCQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTV1QkE7QUE4dUJBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUE3MUJBO0FBQ0E7QUFEQTtBQWsyQkE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFXQTtBQUNBO0FBejNCQTtBQTIzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaDRCQTtBQWs0QkE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEzNEJBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/interpreter.js\n");

/***/ }),

/***/ "./src/components/preprocesor.js":
/*!***************************************!*\
  !*** ./src/components/preprocesor.js ***!
  \***************************************/
/*! exports provided: Preprocesor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Preprocesor\", function() { return Preprocesor; });\n/* harmony import */ var _dsl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dsl */ \"./src/components/dsl.js\");\n //splice array into array\n\nArray.prototype.spliceArray = function (index, n, array) {\n  return Array.prototype.splice.apply(this, [index, n].concat(array));\n};\n\nvar TestState = {\n  UND: 0,\n  OBR: 1,\n  PAR: 2,\n  KAT: 3,\n  END: 4,\n  START: 5,\n  EXT: 6,\n  STIMGR: 7,\n  REPSTIM: 8,\n  REPGRP: 9\n};\nvar Preprocesor =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Created by tomaton on 10/22/2015.\n   */\n  function Preprocesor(parent) {\n    this.currentCursor = 0;\n    this.state = TestState.UND; // getState(this.splitted, currentCursor++);\n\n    this.tstate = {};\n    this.myTest = '';\n    this.expandedTest = [];\n    this.expandedGroup = [];\n    this.replaceableStimuli = [];\n    this.tempTest = '';\n    this.parent = parent; //expects parser\n  } //console.log(this.splitted);\n\n\n  var _proto = Preprocesor.prototype;\n\n  _proto.getState = function getState() {\n    //console.log(\"getState() \"+currentCursor);\n    //console.log(this.splitted[currentCursor]);\n    if (this.currentCursor >= this.splitted.length) return TestState.END;\n    if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isParovy(this.splitted[this.currentCursor])) return TestState.PAR;\n    if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isKategorie(this.splitted[this.currentCursor])) return TestState.KAT;\n    if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isObrazovka(this.splitted[this.currentCursor])) return TestState.OBR;\n    if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isExtends(this.splitted[this.currentCursor])) return TestState.EXT;\n    if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isStimuliGroup(this.splitted[this.currentCursor])) return TestState.STIMGR; //        if (Dsl.isReplaceStimuli(this.splitted[this.currentCursor])) return TestState.REPSTIM;\n    //        if (Dsl.isReplaceGroup(this.splitted[this.currentCursor])) return TestState.REPGRP;\n\n    if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isRandomPairs(this.splitted[this.currentCursor])) {\n      this.tstate.randompairs = true;\n      return TestState.UND;\n    }\n\n    if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isPoradiVNtici(this.splitted[this.currentCursor])) {\n      this.tstate.poradivnticinahodne = true;\n      return TestState.UND;\n    }\n\n    if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isPoradiZvuku(this.splitted[this.currentCursor])) {\n      this.tstate.poradizvukunahodne = true;\n      return TestState.UND;\n    }\n\n    if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isPoradiCase(this.splitted[this.currentCursor])) {\n      this.tstate.poradicasenahodne = true;\n      return TestState.UND;\n    }\n\n    if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isType(this.splitted[this.currentCursor])) this.parent.translateType(this.splitted[this.currentCursor]); // feature #208, type in the beginning of test definition\n\n    return TestState.UND;\n  };\n\n  _proto.copyTest = function copyTest() {\n    this.currentCursor++;\n    this.myTest += this.splitted[this.currentCursor - 1] + '\\n'; //copy of row with obrazovka or test ...\n\n    while (this.getState() === TestState.UND) {\n      this.myTest += this.splitted[this.currentCursor++] + '\\n';\n    } //copy of rows\n\n  } //all after the cursor will be shuffled per screens\n  ;\n\n  _proto.shuffleTest = function shuffleTest() {\n    //readalltestToArray\n    var tempcursor = this.currentCursor++;\n    var testArray = [];\n\n    while (this.getState() !== TestState.END) {\n      this.tempTest = this.splitted[this.currentCursor - 1] + '\\n';\n\n      while (this.getState() === TestState.UND) {\n        this.tempTest += this.splitted[this.currentCursor++] + '\\n';\n      } //copy of rows\n\n\n      testArray.push(this.tempTest); //each item is a screen\n\n      this.currentCursor++;\n    } //shuffle screens\n\n\n    testArray.shuffle(); //expandArrayToText\n\n    this.currentCursor = tempcursor;\n    var testCase = [];\n\n    for (var i = 0; i < testArray.length; i++) {\n      testCase = testArray[i].split('\\n');\n\n      for (var j = 0; j < testCase.length; j++) {\n        this.splitted[this.currentCursor++] = testCase[j];\n      }\n    } //console.log(\"test after shuffle\", this.splitted);    //this.splitted[this.currentCursor]\n\n\n    this.currentCursor = tempcursor;\n  };\n\n  _proto.collectSounds = function collectSounds() {\n    var zvuks = [];\n\n    while (startsWithZvuk(this.splitted[this.currentCursor])) {\n      zvuks.push(this.splitted[this.currentCursor++]);\n    }\n\n    if (this.tstate.poradizvukunahodne) {\n      zvuks.shuffle(); //console.log(\"zvuks after random shuffling:\", zvuks);\n    }\n\n    return zvuks;\n  };\n\n  _proto.foreachSoundGenerateObrazovka = function foreachSoundGenerateObrazovka(zvuks, title) {\n    var obrazovkacontent = [];\n\n    while (this.getState() === TestState.UND) {\n      obrazovkacontent.push(this.splitted[this.currentCursor++]);\n    }\n\n    for (var i = 0; i < zvuks.length; i++) {\n      this.myTest += 'screen ' + Interpreter.extract('screen per 1') + '\\n' + zvuks[i] + '\\n';\n\n      for (var j = 0; j < obrazovkacontent.length; j++) {\n        this.myTest += obrazovkacontent[j] + '\\n';\n      }\n    }\n  };\n\n  _proto.expandKategorie = function expandKategorie() {\n    var title = this.splitted[this.currentCursor++]; //skip over the row defining the kategory test\n\n    while (startsWithComment(this.splitted[this.currentCursor])) {\n      //skip over comments - there might be some styling\n      title += '\\n' + this.splitted[this.currentCursor++];\n    }\n\n    var zvuks = this.collectSounds();\n    this.foreachSoundGenerateObrazovka(zvuks, title);\n  };\n\n  _proto.makePairs = function makePairs(zvuks) {\n    var combinations = []; //recursive generation of all possible pairs\n\n    var getpairs = function getpairs(active, rest) {\n      //console.log(\"iteration\");\n      //console.log(active);\n      //console.log(rest)\n      if (rest.length === 0) {\n        if (active.length === 2) {\n          combinations.push(active); //console.log(\"found:\");\n          //console.log(active);\n        }\n      } else {\n        var active1 = active.slice();\n        active.push(rest[0]);\n        getpairs(active, rest.slice(1));\n        getpairs(active1, rest.slice(1));\n      }\n    };\n\n    this.getpairs([], zvuks);\n    return combinations;\n  };\n\n  _proto.foreachPairofSoundsGenerateObrazovka = function foreachPairofSoundsGenerateObrazovka(pairs, title) {\n    var obrazovkacontent = [];\n\n    while (this.getState() === TestState.UND) {\n      obrazovkacontent.push(this.splitted[this.currentCursor++]);\n    }\n\n    for (var i = 0; i < pairs.length; i++) {\n      this.myTest += 'screen ' + Interpreter.extract('screen per 2') + '\\n' + 'column\\n' + pairs[i][0] + '\\n' + pairs[i][1] + '\\n';\n\n      for (var j = 0; j < obrazovkacontent.length; j++) {\n        this.myTest += obrazovkacontent[j] + '\\n';\n      }\n      /*myTest += \"sloupec\\n\" + pairs[i][1] + \"\\n\";\n       for (var j = 0; j < obrazovkacontent.length; j++) {\n       myTest += obrazovkacontent[j] + \"\\n\";\n       }*/\n\n    } //fix bug ranodm in tuple\n\n  };\n\n  _proto.expandParovy = function expandParovy() {\n    var title = this.splitted[this.currentCursor++]; //skip row defining par test\n\n    var zvuks = this.collectSounds();\n    var pairs = this.makePairs(zvuks);\n    if (this.tstate.poradicasenahodne || this.tstate.randompairs) pairs.shuffle();\n    if (pairs.length === 0) console.log('Expected more rows with stimulus to generate pairs, but no pairs generated.');\n    this.foreachPairofSoundsGenerateObrazovka(pairs, title);\n  } //expands inherited test - read definition into separated array.\n  ;\n\n  _proto.expandInheritance = function expandInheritance() {\n    var parentrow = this.splitted[this.currentCursor].split(/[ ;,]+/); //each inherited test is separated\n    //for (var i=indexofnames;i<parentrow.lengt h;i++){ //\n    //extends [0] test [1] withstimuli [2] a,b,c,d [3,4,5,6]\n\n    var parent = parentrow[1]; //gets from url test definition\n\n    var myurl = PsychoTest2Url + parent;\n    $.ajax({\n      dataType: 'json',\n      url: myurl,\n      data: null,\n      success: function success(testdto) {\n        if (parser.prep.expandedTest[parent]) console.log('expandInheritance, Warning: test definition already exists for ' + parent);\n        parser.prep.expandedTest[parent] = testdto[0].definition;\n      },\n      error: function error(jq, status, _error) {\n        console.log('expandInheritance, Error: When loading data for the test definition ' + myurl + ' ' + _error);\n      },\n      async: false\n    });\n\n    if (parentrow.length > 3) {\n      //extends with replacement of stimuli\n      if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isWithStimuli(parentrow[2])) {\n        var stimuli = parentrow.slice(3); //stimuli names without previous -- TODO parse with apostrophes\n        //this.replaceStimuli(parent,stimuli);//replace stimuli with new one from array\n        //inserts a extended test with replaced stimuli\n\n        this.splitted.spliceArray(this.currentCursor, 1, this.replaceStimuli(this.expandedTest[parent], stimuli));\n      } else if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isWithStimuligroup(parentrow[2])) {\n        var parent2 = parentrow[3];\n        myurl = PsychoTest2Url + parent2;\n        $.ajax({\n          dataType: 'json',\n          url: myurl,\n          data: null,\n          success: function success(testdto) {\n            if (parser.prep.expandedGroup[parent2]) console.log('expandGroup, Warning: test definition already loaded for ' + parent2);\n            parser.prep.expandedGroup[parent2] = testdto[0].definition;\n          },\n          error: function error(jq, status, _error2) {\n            console.log('expandGroup, Error: When loading data for the test definition ' + myurl + ' ' + _error2);\n          },\n          async: false\n        });\n\n        if (this.expandedTest[parent]) {\n          if (this.expandedGroup[parent2]) this.splitted.spliceArray(this.currentCursor, 1, this.replaceStimuliGroup(this.expandedTest[parent], this.expandedGroup[parent2]));else {\n            console.log('expandinheritance: Info, nothing to replace from group');\n            this.splitted.spliceArray(this.currentCursor, 1, this.expandedTest[parent]);\n          }\n        } else console.log('expandinheritance: Info, nothing to expand');\n      } else console.log('expandinheritance: Warning unrecognized extend attribute:' + parentrow[2]);\n    } else {\n      //extends without replacement\n      if (this.expandedTest[parent]) {\n        console.log('expandinheritance: Info, nothing to replace from group');\n        this.splitted.spliceArray(this.currentCursor, 1, this.splitExtendTestDefinition(this.expandedTest[parent]));\n      } else console.log('expandinheritance: Info, nothing to expand');\n    }\n\n    this.currentCursor++;\n  } //expands stimuligroup into the current test - reads all stimulus in a group into separate array\n  ;\n\n  _proto.expandStimuliGroup = function expandStimuliGroup() {\n    var parentrow = this.splitted[this.currentCursor].split(/[ ;,]+/); //each expanded group is split\n    //for (var i=indexofnames;i<parentrow.lengt h;i++){ //\n    //stimuligroup [0] [groupname] [1...]\n\n    var parent = parentrow[1]; //gets from url test definition\n\n    var myurl = PsychoTest2Url + parent; //TODO move ajax call to shared class\n\n    $.ajax({\n      dataType: 'json',\n      url: myurl,\n      data: null,\n      success: function success(testdto) {\n        if (this.expandedGroup[parent]) console.log('expandGroup, Warning: test definition already loaded for ' + parent);\n        this.expandedGroup[parent] = testdto[0].definition;\n      },\n      error: function error(jq, status, _error3) {\n        console.log('expandGroup, Error: When loading data for the test definition ' + myurl + ' ' + _error3);\n      },\n      async: false\n    });\n\n    if (this.expandedGroup[parent]) {\n      this.splitted.spliceArray(this.currentCursor, 1, this.splitStimuliDefinition(this.expandedGroup[parent]));\n    } else console.log('expandGroup: Info, nothing to expand from stimuligroup.'); //this.currentCursor++;\n\n  } //splits only stimulus from group definition into array\n  ;\n\n  _proto.splitExtendTestDefinition = function splitExtendTestDefinition(testdefinition) {\n    var rawtest = testdefinition.split('\\n'); //rawtest.shift(); //removes first row -- usually definition of test name\n\n    rawtest[0] = '# ' + rawtest[0]; //comments out the first row -- usually definition of test name\n\n    return rawtest;\n  } //splits only stimulus from group definition into array\n  ;\n\n  _proto.splitStimuliDefinition = function splitStimuliDefinition(groupdefinition) {\n    var rawstimuli = groupdefinition.split('\\n');\n    var stimuli = []; //    var newrows = [];\n\n    for (var i = 1; i < rawstimuli.length; i++) {\n      //step over first row\n      var mystimuli = rawstimuli[i].trim();\n\n      if (mystimuli.length > 0) {\n        stimuli.push('stimulus ' + rawstimuli[i]);\n      }\n    } //adds only rows with stimulus prefix\n\n\n    return stimuli;\n  } //replace each occurence of stimuli with a stimulus row from group definition,\n  // if some stimulus remains, it is inserted at the last position of stimulus in definition\n  ;\n\n  _proto.replaceStimuliGroup = function replaceStimuliGroup(definition, groupdefinition) {\n    var defrows = definition.split('\\n'); //splits per row\n\n    var stimuli = this.splitStimuliDefinition(groupdefinition);\n    var laststimulusindex = 0;\n\n    for (var i = 0; i < defrows.length; i++) {\n      //parse each row\n      if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isZvuk(defrows[i])) {\n        if (stimuli.length > 0) {\n          laststimulusindex = i;\n          defrows[i] = stimuli.shift();\n        } //stimulus keyword with new stimulus from array\n        else console.log('replaceStimuli: Warning not enough stimuli for replacement.');\n      }\n    }\n\n    if (stimuli.length > 0) {\n      console.log('replaceStimuli: Info adding remaining stimuli after last stimulus in extended test');\n      defrows.spliceArray(laststimulusindex, 0, stimuli);\n    }\n\n    return defrows;\n  } //replace each occurence of stimuli with a stimulus row from group definition,\n  // if some stimulus remains, it is inserted at the last position of stimulus in definition\n  ;\n\n  _proto.replaceStimuli = function replaceStimuli(definition, stimuli) {\n    var defrows = definition.split('\\n'); //splits per row\n\n    defrows[0] = '# ' + defrows[0]; //comment out first row of definition --usually testname\n    //    var newrows = [];\n\n    var laststimulusindex = 0;\n\n    for (var i = 0; i < stimuli.length; i++) {\n      stimuli[i] = 'stimulus ' + stimuli[i];\n    } //adds stimulus keyword as prefix\n\n\n    for (var _i = 0; _i < defrows.length; _i++) {\n      //parse each row\n      if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isZvuk(defrows[_i])) {\n        if (stimuli.length > 0) {\n          laststimulusindex = _i;\n          defrows[_i] = stimuli.shift();\n        } //stimulus keyword with new stimulus from array\n        else console.log('replaceStimuli: Warning not enough stimuli for replacement.');\n      }\n    }\n\n    if (stimuli.length > 0) {\n      console.log('replaceStimuli: Info adding remaining stimuli after last stimulus in extended test');\n      defrows.spliceArray(laststimulusindex + 1, 0, stimuli);\n    }\n\n    return defrows;\n  } //preprocessing\n  //copy everything before first state\n  //this.currentCursor++;\n  ;\n\n  _proto.preprocessTest = function preprocessTest(rawTest) {\n    this.currentCursor = 0;\n    this.splitted = rawTest.split('\\n'); //split to rows and parse rows\n\n    this.state = TestState.UND; // getState(this.splitted, currentCursor++);\n\n    this.tstate = {};\n    this.myTest = '';\n    this.tempTest = ''; //copy between test and first screen\n\n    this.copyTest();\n    if (this.tstate.poradicasenahodne) this.shuffleTest(); //console.log(\"cursor \" + this.currentCursor + \" row \" + this.splitted[this.currentCursor]);\n\n    this.state = this.getState();\n\n    while (this.state !== TestState.END) {\n      if (this.state === TestState.OBR) this.copyTest();else if (this.state === TestState.KAT) this.expandKategorie();else if (this.state === TestState.PAR) this.expandParovy();else if (this.state === TestState.EXT) this.expandInheritance();else if (this.state === TestState.STIMGR) this.expandStimuliGroup(); //        else if (this.state == TestState.REPSTIM) this.replaceStimuli();\n      //        else if (this.state == TestState.REPGRP) this.replaceStimuliGroup();\n      else {\n          //console.log(\"Parse error. \" + this.state + \". Not expected state. Line \" + this.currentCursor + \" row:\" + this.splitted[this.currentCursor++]);\n          this.myTest += this.splitted[this.currentCursor++] + '\\n'; //probably extension - copy test.\n        }\n      this.state = this.getState(); //if (this.currentCursor<this.splitted.length) console.log(\"cursor \" + this.currentCursor + \" row \" + this.splitted[this.currentCursor]);\n    } //return coppiedTest;\n\n\n    return this.myTest;\n  } //flatenize inheritance\n  //TODO continue with recursive - flatenize, remove statement from preprocess and add them to recursive call, or use ajax(async:false)\n  //flatenize -- collect artefacts\n  ;\n\n  _proto.flatenizeTest = function flatenizeTest(rawTest) {\n    this.splitted = rawTest.split('\\n');\n    var i = 0;\n    var j = 0;\n    var artefacts = [];\n\n    for (i = 0; i < this.splitted.length; i++) {\n      if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isExtends(this.splitted[i]) || isStimuliGroup(this.splitted[i])) {\n        var parentrow = this.splitted[i].split(/[ ;,]+/);\n\n        for (j = 1; j < parentrow.length; j++) {\n          artefacts.push(parentrow[j]); //add artefact names that will be recursively obtained from server\n        }\n      }\n    }\n  };\n\n  _proto.loadTestDefinition = function loadTestDefinition(row) {\n    var parentrow = this.splitted[this.currentCursor++].split(' ');\n\n    for (var i = 1; i < parentrow.length; i++) {\n      var parent = parentrow[i];\n      this.myTest += this.getTestDefinition(parent); //gets test definition by name, skip first row with test name and copy&paste to\n    }\n  };\n\n  return Preprocesor;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9wcmVwcm9jZXNvci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3ByZXByb2Nlc29yLmpzPzMyNjIiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQge0RzbH0gZnJvbSAnLi9kc2wnO1xuXG4vL3NwbGljZSBhcnJheSBpbnRvIGFycmF5XG5BcnJheS5wcm90b3R5cGUuc3BsaWNlQXJyYXkgPSBmdW5jdGlvbihpbmRleCwgbiwgYXJyYXkpIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkodGhpcywgW2luZGV4LCBuXS5jb25jYXQoYXJyYXkpKTtcbn07XG5cbmxldCBUZXN0U3RhdGUgPSB7IFVORDogMCwgT0JSOiAxLCBQQVI6IDIsIEtBVDogMywgIEVORDogNCwgU1RBUlQ6IDUsIEVYVDogNiwgU1RJTUdSOiA3LCBSRVBTVElNOiA4LCBSRVBHUlA6IDkgfTtcblxuZXhwb3J0IGNsYXNzIFByZXByb2Nlc29yIHtcbiAgLyoqXG4gICAqIENyZWF0ZWQgYnkgdG9tYXRvbiBvbiAxMC8yMi8yMDE1LlxuICAgKi9cbiAgY29uc3RydWN0b3IocGFyZW50KSB7XG4gICAgdGhpcy5jdXJyZW50Q3Vyc29yID0gMDtcbiAgICB0aGlzLnN0YXRlID0gVGVzdFN0YXRlLlVORDsvLyBnZXRTdGF0ZSh0aGlzLnNwbGl0dGVkLCBjdXJyZW50Q3Vyc29yKyspO1xuICAgIHRoaXMudHN0YXRlID0ge307XG4gICAgdGhpcy5teVRlc3QgPSAnJztcbiAgICB0aGlzLmV4cGFuZGVkVGVzdCA9IFtdO1xuICAgIHRoaXMuZXhwYW5kZWRHcm91cCA9IFtdO1xuICAgIHRoaXMucmVwbGFjZWFibGVTdGltdWxpID0gW107XG4gICAgdGhpcy50ZW1wVGVzdCA9ICcnO1xuICAgIHRoaXMucGFyZW50ID0gcGFyZW50OyAvL2V4cGVjdHMgcGFyc2VyXG4gIH1cbiAgLy9jb25zb2xlLmxvZyh0aGlzLnNwbGl0dGVkKTtcbiAgZ2V0U3RhdGUoKSB7XG4gICAgLy9jb25zb2xlLmxvZyhcImdldFN0YXRlKCkgXCIrY3VycmVudEN1cnNvcik7XG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLnNwbGl0dGVkW2N1cnJlbnRDdXJzb3JdKTtcbiAgICBpZiAodGhpcy5jdXJyZW50Q3Vyc29yID49IHRoaXMuc3BsaXR0ZWQubGVuZ3RoKSByZXR1cm4gVGVzdFN0YXRlLkVORDtcbiAgICBpZiAoRHNsLmlzUGFyb3Z5KHRoaXMuc3BsaXR0ZWRbdGhpcy5jdXJyZW50Q3Vyc29yXSkpIHJldHVybiBUZXN0U3RhdGUuUEFSO1xuICAgIGlmIChEc2wuaXNLYXRlZ29yaWUodGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3JdKSkgcmV0dXJuIFRlc3RTdGF0ZS5LQVQ7XG4gICAgaWYgKERzbC5pc09icmF6b3ZrYSh0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcl0pKSByZXR1cm4gVGVzdFN0YXRlLk9CUjtcbiAgICBpZiAoRHNsLmlzRXh0ZW5kcyh0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcl0pKSByZXR1cm4gVGVzdFN0YXRlLkVYVDtcbiAgICBpZiAoRHNsLmlzU3RpbXVsaUdyb3VwKHRoaXMuc3BsaXR0ZWRbdGhpcy5jdXJyZW50Q3Vyc29yXSkpIHJldHVybiBUZXN0U3RhdGUuU1RJTUdSO1xuICAgIC8vICAgICAgICBpZiAoRHNsLmlzUmVwbGFjZVN0aW11bGkodGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3JdKSkgcmV0dXJuIFRlc3RTdGF0ZS5SRVBTVElNO1xuICAgIC8vICAgICAgICBpZiAoRHNsLmlzUmVwbGFjZUdyb3VwKHRoaXMuc3BsaXR0ZWRbdGhpcy5jdXJyZW50Q3Vyc29yXSkpIHJldHVybiBUZXN0U3RhdGUuUkVQR1JQO1xuICAgIGlmIChEc2wuaXNSYW5kb21QYWlycyh0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcl0pKSB7IHRoaXMudHN0YXRlLnJhbmRvbXBhaXJzID0gdHJ1ZTsgcmV0dXJuIFRlc3RTdGF0ZS5VTkQ7fVxuICAgIGlmIChEc2wuaXNQb3JhZGlWTnRpY2kodGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3JdKSkgeyB0aGlzLnRzdGF0ZS5wb3JhZGl2bnRpY2luYWhvZG5lID0gdHJ1ZTsgcmV0dXJuIFRlc3RTdGF0ZS5VTkQ7fVxuICAgIGlmIChEc2wuaXNQb3JhZGladnVrdSh0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcl0pKSB7IHRoaXMudHN0YXRlLnBvcmFkaXp2dWt1bmFob2RuZSA9IHRydWU7IHJldHVybiBUZXN0U3RhdGUuVU5EO31cbiAgICBpZiAoRHNsLmlzUG9yYWRpQ2FzZSh0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcl0pKSB7IHRoaXMudHN0YXRlLnBvcmFkaWNhc2VuYWhvZG5lID0gdHJ1ZTsgcmV0dXJuIFRlc3RTdGF0ZS5VTkQ7fVxuICAgIGlmIChEc2wuaXNUeXBlKHRoaXMuc3BsaXR0ZWRbdGhpcy5jdXJyZW50Q3Vyc29yXSkpIHRoaXMucGFyZW50LnRyYW5zbGF0ZVR5cGUodGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3JdKTsgLy8gZmVhdHVyZSAjMjA4LCB0eXBlIGluIHRoZSBiZWdpbm5pbmcgb2YgdGVzdCBkZWZpbml0aW9uXG4gICAgcmV0dXJuIFRlc3RTdGF0ZS5VTkQ7XG4gIH1cblxuICBjb3B5VGVzdCgpIHtcbiAgICB0aGlzLmN1cnJlbnRDdXJzb3IrKztcbiAgICB0aGlzLm15VGVzdCArPSB0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvciAtIDFdICsgJ1xcbic7IC8vY29weSBvZiByb3cgd2l0aCBvYnJhem92a2Egb3IgdGVzdCAuLi5cbiAgICB3aGlsZSAodGhpcy5nZXRTdGF0ZSgpID09PSBUZXN0U3RhdGUuVU5EKSB0aGlzLm15VGVzdCArPSB0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcisrXSArICdcXG4nOyAvL2NvcHkgb2Ygcm93c1xuICB9XG5cbiAgLy9hbGwgYWZ0ZXIgdGhlIGN1cnNvciB3aWxsIGJlIHNodWZmbGVkIHBlciBzY3JlZW5zXG4gIHNodWZmbGVUZXN0KCkge1xuICAgIC8vcmVhZGFsbHRlc3RUb0FycmF5XG4gICAgbGV0IHRlbXBjdXJzb3IgPSB0aGlzLmN1cnJlbnRDdXJzb3IrKztcbiAgICBsZXQgdGVzdEFycmF5ID0gW107XG4gICAgd2hpbGUgKHRoaXMuZ2V0U3RhdGUoKSAhPT0gVGVzdFN0YXRlLkVORCkge1xuICAgICAgdGhpcy50ZW1wVGVzdCA9IHRoaXMuc3BsaXR0ZWRbdGhpcy5jdXJyZW50Q3Vyc29yIC0gMV0gKyAnXFxuJztcbiAgICAgIHdoaWxlICh0aGlzLmdldFN0YXRlKCkgPT09IFRlc3RTdGF0ZS5VTkQpIHRoaXMudGVtcFRlc3QgKz0gdGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3IrK10gKyAnXFxuJzsgLy9jb3B5IG9mIHJvd3NcbiAgICAgIHRlc3RBcnJheS5wdXNoKHRoaXMudGVtcFRlc3QpOyAvL2VhY2ggaXRlbSBpcyBhIHNjcmVlblxuICAgICAgdGhpcy5jdXJyZW50Q3Vyc29yKys7XG4gICAgfVxuICAgIC8vc2h1ZmZsZSBzY3JlZW5zXG4gICAgdGVzdEFycmF5LnNodWZmbGUoKTtcblxuICAgIC8vZXhwYW5kQXJyYXlUb1RleHRcbiAgICB0aGlzLmN1cnJlbnRDdXJzb3IgPSB0ZW1wY3Vyc29yO1xuICAgIGxldCB0ZXN0Q2FzZSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVzdEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB0ZXN0Q2FzZSA9IHRlc3RBcnJheVtpXS5zcGxpdCgnXFxuJyk7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRlc3RDYXNlLmxlbmd0aDsgaisrKSB0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcisrXSA9IHRlc3RDYXNlW2pdO1xuICAgIH1cbiAgICAvL2NvbnNvbGUubG9nKFwidGVzdCBhZnRlciBzaHVmZmxlXCIsIHRoaXMuc3BsaXR0ZWQpOyAgICAvL3RoaXMuc3BsaXR0ZWRbdGhpcy5jdXJyZW50Q3Vyc29yXVxuICAgIHRoaXMuY3VycmVudEN1cnNvciA9IHRlbXBjdXJzb3I7XG4gIH1cblxuICBjb2xsZWN0U291bmRzKCkge1xuICAgIGxldCB6dnVrcyA9IFtdO1xuICAgIHdoaWxlIChzdGFydHNXaXRoWnZ1ayh0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcl0pKSB7XG4gICAgICB6dnVrcy5wdXNoKHRoaXMuc3BsaXR0ZWRbdGhpcy5jdXJyZW50Q3Vyc29yKytdKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudHN0YXRlLnBvcmFkaXp2dWt1bmFob2RuZSkge1xuICAgICAgenZ1a3Muc2h1ZmZsZSgpO1xuICAgICAgLy9jb25zb2xlLmxvZyhcInp2dWtzIGFmdGVyIHJhbmRvbSBzaHVmZmxpbmc6XCIsIHp2dWtzKTtcbiAgICB9XG4gICAgcmV0dXJuIHp2dWtzO1xuICB9XG5cbiAgZm9yZWFjaFNvdW5kR2VuZXJhdGVPYnJhem92a2EoenZ1a3MsIHRpdGxlKSB7XG4gICAgbGV0IG9icmF6b3ZrYWNvbnRlbnQgPSBbXTtcbiAgICB3aGlsZSAodGhpcy5nZXRTdGF0ZSgpID09PSBUZXN0U3RhdGUuVU5EKSB7XG4gICAgICBvYnJhem92a2Fjb250ZW50LnB1c2godGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3IrK10pO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHp2dWtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLm15VGVzdCArPSAnc2NyZWVuICcgKyBJbnRlcnByZXRlci5leHRyYWN0KCdzY3JlZW4gcGVyIDEnKSArICdcXG4nICsgenZ1a3NbaV0gKyAnXFxuJztcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgb2JyYXpvdmthY29udGVudC5sZW5ndGg7IGorKykge1xuICAgICAgICB0aGlzLm15VGVzdCArPSBvYnJhem92a2Fjb250ZW50W2pdICsgJ1xcbic7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZXhwYW5kS2F0ZWdvcmllKCkge1xuICAgIGxldCB0aXRsZSA9IHRoaXMuc3BsaXR0ZWRbdGhpcy5jdXJyZW50Q3Vyc29yKytdOyAvL3NraXAgb3ZlciB0aGUgcm93IGRlZmluaW5nIHRoZSBrYXRlZ29yeSB0ZXN0XG4gICAgd2hpbGUgKHN0YXJ0c1dpdGhDb21tZW50KHRoaXMuc3BsaXR0ZWRbdGhpcy5jdXJyZW50Q3Vyc29yXSkpIHsvL3NraXAgb3ZlciBjb21tZW50cyAtIHRoZXJlIG1pZ2h0IGJlIHNvbWUgc3R5bGluZ1xuICAgICAgdGl0bGUgKz0gJ1xcbicgKyB0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcisrXTtcbiAgICB9XG4gICAgbGV0IHp2dWtzID0gdGhpcy5jb2xsZWN0U291bmRzKCk7XG4gICAgdGhpcy5mb3JlYWNoU291bmRHZW5lcmF0ZU9icmF6b3ZrYSh6dnVrcywgdGl0bGUpO1xuICB9XG5cbiAgbWFrZVBhaXJzKHp2dWtzKSB7XG4gICAgbGV0IGNvbWJpbmF0aW9ucyA9IFtdO1xuICAgIC8vcmVjdXJzaXZlIGdlbmVyYXRpb24gb2YgYWxsIHBvc3NpYmxlIHBhaXJzXG4gICAgdmFyIGdldHBhaXJzID0gZnVuY3Rpb24oYWN0aXZlLCByZXN0KSB7XG4gICAgICAvL2NvbnNvbGUubG9nKFwiaXRlcmF0aW9uXCIpO1xuICAgICAgLy9jb25zb2xlLmxvZyhhY3RpdmUpO1xuICAgICAgLy9jb25zb2xlLmxvZyhyZXN0KVxuICAgICAgaWYgKHJlc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGlmIChhY3RpdmUubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgY29tYmluYXRpb25zLnB1c2goYWN0aXZlKTtcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiZm91bmQ6XCIpO1xuICAgICAgICAgIC8vY29uc29sZS5sb2coYWN0aXZlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGFjdGl2ZTEgPSBhY3RpdmUuc2xpY2UoKTtcbiAgICAgICAgYWN0aXZlLnB1c2gocmVzdFswXSk7XG4gICAgICAgIGdldHBhaXJzKGFjdGl2ZSwgcmVzdC5zbGljZSgxKSk7XG4gICAgICAgIGdldHBhaXJzKGFjdGl2ZTEsIHJlc3Quc2xpY2UoMSkpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5nZXRwYWlycyhbXSwgenZ1a3MpO1xuICAgIHJldHVybiBjb21iaW5hdGlvbnM7XG4gIH1cblxuICBmb3JlYWNoUGFpcm9mU291bmRzR2VuZXJhdGVPYnJhem92a2EocGFpcnMsIHRpdGxlKSB7XG4gICAgbGV0IG9icmF6b3ZrYWNvbnRlbnQgPSBbXTtcbiAgICB3aGlsZSAodGhpcy5nZXRTdGF0ZSgpID09PSBUZXN0U3RhdGUuVU5EKSB7XG4gICAgICBvYnJhem92a2Fjb250ZW50LnB1c2godGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3IrK10pO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLm15VGVzdCArPSAnc2NyZWVuICcgKyBJbnRlcnByZXRlci5leHRyYWN0KCdzY3JlZW4gcGVyIDInKSArICdcXG4nICsgJ2NvbHVtblxcbicgKyBwYWlyc1tpXVswXSArICdcXG4nICsgcGFpcnNbaV1bMV0gKyAnXFxuJztcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgb2JyYXpvdmthY29udGVudC5sZW5ndGg7IGorKykge1xuICAgICAgICB0aGlzLm15VGVzdCArPSBvYnJhem92a2Fjb250ZW50W2pdICsgJ1xcbic7XG4gICAgICB9XG4gICAgICAvKm15VGVzdCArPSBcInNsb3VwZWNcXG5cIiArIHBhaXJzW2ldWzFdICsgXCJcXG5cIjtcbiAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9icmF6b3ZrYWNvbnRlbnQubGVuZ3RoOyBqKyspIHtcbiAgICAgICBteVRlc3QgKz0gb2JyYXpvdmthY29udGVudFtqXSArIFwiXFxuXCI7XG4gICAgICAgfSovXG4gICAgfVxuICAgIC8vZml4IGJ1ZyByYW5vZG0gaW4gdHVwbGVcbiAgfVxuXG4gIGV4cGFuZFBhcm92eSgpIHtcbiAgICBsZXQgdGl0bGUgPSB0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcisrXTsgLy9za2lwIHJvdyBkZWZpbmluZyBwYXIgdGVzdFxuICAgIGxldCB6dnVrcyA9IHRoaXMuY29sbGVjdFNvdW5kcygpO1xuICAgIGxldCBwYWlycyA9IHRoaXMubWFrZVBhaXJzKHp2dWtzKTtcbiAgICBpZiAodGhpcy50c3RhdGUucG9yYWRpY2FzZW5haG9kbmUgfHwgdGhpcy50c3RhdGUucmFuZG9tcGFpcnMpIHBhaXJzLnNodWZmbGUoKTtcbiAgICBpZiAocGFpcnMubGVuZ3RoID09PSAwKSBjb25zb2xlLmxvZygnRXhwZWN0ZWQgbW9yZSByb3dzIHdpdGggc3RpbXVsdXMgdG8gZ2VuZXJhdGUgcGFpcnMsIGJ1dCBubyBwYWlycyBnZW5lcmF0ZWQuJyk7XG4gICAgdGhpcy5mb3JlYWNoUGFpcm9mU291bmRzR2VuZXJhdGVPYnJhem92a2EocGFpcnMsIHRpdGxlKTtcbiAgfVxuXG5cbiAgLy9leHBhbmRzIGluaGVyaXRlZCB0ZXN0IC0gcmVhZCBkZWZpbml0aW9uIGludG8gc2VwYXJhdGVkIGFycmF5LlxuICBleHBhbmRJbmhlcml0YW5jZSgpIHtcbiAgICBsZXQgcGFyZW50cm93ID0gdGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3JdLnNwbGl0KC9bIDssXSsvKTsgLy9lYWNoIGluaGVyaXRlZCB0ZXN0IGlzIHNlcGFyYXRlZFxuICAgIC8vZm9yICh2YXIgaT1pbmRleG9mbmFtZXM7aTxwYXJlbnRyb3cubGVuZ3QgaDtpKyspeyAvL1xuICAgIC8vZXh0ZW5kcyBbMF0gdGVzdCBbMV0gd2l0aHN0aW11bGkgWzJdIGEsYixjLGQgWzMsNCw1LDZdXG4gICAgbGV0IHBhcmVudCA9IHBhcmVudHJvd1sxXTtcbiAgICAvL2dldHMgZnJvbSB1cmwgdGVzdCBkZWZpbml0aW9uXG4gICAgbGV0IG15dXJsID0gUHN5Y2hvVGVzdDJVcmwgKyBwYXJlbnQ7XG4gICAgJC5hamF4KHtcbiAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICB1cmw6IG15dXJsLFxuICAgICAgZGF0YTogbnVsbCxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHRlc3RkdG8pIHtcbiAgICAgICAgaWYgKHBhcnNlci5wcmVwLmV4cGFuZGVkVGVzdFtwYXJlbnRdKSBjb25zb2xlLmxvZygnZXhwYW5kSW5oZXJpdGFuY2UsIFdhcm5pbmc6IHRlc3QgZGVmaW5pdGlvbiBhbHJlYWR5IGV4aXN0cyBmb3IgJyArIHBhcmVudCk7XG4gICAgICAgIHBhcnNlci5wcmVwLmV4cGFuZGVkVGVzdFtwYXJlbnRdID0gdGVzdGR0b1swXS5kZWZpbml0aW9uO1xuICAgICAgfSxcbiAgICAgIGVycm9yOiBmdW5jdGlvbihqcSwgc3RhdHVzLCBlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZygnZXhwYW5kSW5oZXJpdGFuY2UsIEVycm9yOiBXaGVuIGxvYWRpbmcgZGF0YSBmb3IgdGhlIHRlc3QgZGVmaW5pdGlvbiAnICsgbXl1cmwgKyAnICcgKyBlcnJvcik7XG4gICAgICB9LFxuICAgICAgYXN5bmM6IGZhbHNlXG4gICAgfSk7XG4gICAgaWYgKHBhcmVudHJvdy5sZW5ndGggPiAzKSB7IC8vZXh0ZW5kcyB3aXRoIHJlcGxhY2VtZW50IG9mIHN0aW11bGlcbiAgICAgIGlmIChEc2wuaXNXaXRoU3RpbXVsaShwYXJlbnRyb3dbMl0pKSB7XG4gICAgICAgIGxldCBzdGltdWxpID0gcGFyZW50cm93LnNsaWNlKDMpOyAvL3N0aW11bGkgbmFtZXMgd2l0aG91dCBwcmV2aW91cyAtLSBUT0RPIHBhcnNlIHdpdGggYXBvc3Ryb3BoZXNcbiAgICAgICAgLy90aGlzLnJlcGxhY2VTdGltdWxpKHBhcmVudCxzdGltdWxpKTsvL3JlcGxhY2Ugc3RpbXVsaSB3aXRoIG5ldyBvbmUgZnJvbSBhcnJheVxuICAgICAgICAvL2luc2VydHMgYSBleHRlbmRlZCB0ZXN0IHdpdGggcmVwbGFjZWQgc3RpbXVsaVxuICAgICAgICB0aGlzLnNwbGl0dGVkLnNwbGljZUFycmF5KHRoaXMuY3VycmVudEN1cnNvciwgMSwgdGhpcy5yZXBsYWNlU3RpbXVsaSh0aGlzLmV4cGFuZGVkVGVzdFtwYXJlbnRdLCBzdGltdWxpKSk7XG4gICAgICB9IGVsc2UgaWYgKERzbC5pc1dpdGhTdGltdWxpZ3JvdXAocGFyZW50cm93WzJdKSkge1xuICAgICAgICBsZXQgcGFyZW50MiA9IHBhcmVudHJvd1szXTtcbiAgICAgICAgbXl1cmwgPSBQc3ljaG9UZXN0MlVybCArIHBhcmVudDI7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICB1cmw6IG15dXJsLFxuICAgICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24odGVzdGR0bykge1xuICAgICAgICAgICAgaWYgKHBhcnNlci5wcmVwLmV4cGFuZGVkR3JvdXBbcGFyZW50Ml0pIGNvbnNvbGUubG9nKCdleHBhbmRHcm91cCwgV2FybmluZzogdGVzdCBkZWZpbml0aW9uIGFscmVhZHkgbG9hZGVkIGZvciAnICsgcGFyZW50Mik7XG4gICAgICAgICAgICBwYXJzZXIucHJlcC5leHBhbmRlZEdyb3VwW3BhcmVudDJdID0gdGVzdGR0b1swXS5kZWZpbml0aW9uO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGpxLCBzdGF0dXMsIGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZXhwYW5kR3JvdXAsIEVycm9yOiBXaGVuIGxvYWRpbmcgZGF0YSBmb3IgdGhlIHRlc3QgZGVmaW5pdGlvbiAnICsgbXl1cmwgKyAnICcgKyBlcnJvcik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBhc3luYzogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLmV4cGFuZGVkVGVzdFtwYXJlbnRdKSB7XG4gICAgICAgICAgaWYgKHRoaXMuZXhwYW5kZWRHcm91cFtwYXJlbnQyXSkgdGhpcy5zcGxpdHRlZC5zcGxpY2VBcnJheSh0aGlzLmN1cnJlbnRDdXJzb3IsIDEsIHRoaXMucmVwbGFjZVN0aW11bGlHcm91cCh0aGlzLmV4cGFuZGVkVGVzdFtwYXJlbnRdLCB0aGlzLmV4cGFuZGVkR3JvdXBbcGFyZW50Ml0pKTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdleHBhbmRpbmhlcml0YW5jZTogSW5mbywgbm90aGluZyB0byByZXBsYWNlIGZyb20gZ3JvdXAnKTtcbiAgICAgICAgICAgIHRoaXMuc3BsaXR0ZWQuc3BsaWNlQXJyYXkodGhpcy5jdXJyZW50Q3Vyc29yLCAxLCB0aGlzLmV4cGFuZGVkVGVzdFtwYXJlbnRdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBjb25zb2xlLmxvZygnZXhwYW5kaW5oZXJpdGFuY2U6IEluZm8sIG5vdGhpbmcgdG8gZXhwYW5kJyk7XG4gICAgICB9IGVsc2UgY29uc29sZS5sb2coJ2V4cGFuZGluaGVyaXRhbmNlOiBXYXJuaW5nIHVucmVjb2duaXplZCBleHRlbmQgYXR0cmlidXRlOicgKyBwYXJlbnRyb3dbMl0pO1xuICAgIH0gZWxzZSB7IC8vZXh0ZW5kcyB3aXRob3V0IHJlcGxhY2VtZW50XG4gICAgICBpZiAodGhpcy5leHBhbmRlZFRlc3RbcGFyZW50XSkge1xuICAgICAgICBjb25zb2xlLmxvZygnZXhwYW5kaW5oZXJpdGFuY2U6IEluZm8sIG5vdGhpbmcgdG8gcmVwbGFjZSBmcm9tIGdyb3VwJyk7XG4gICAgICAgIHRoaXMuc3BsaXR0ZWQuc3BsaWNlQXJyYXkodGhpcy5jdXJyZW50Q3Vyc29yLCAxLCB0aGlzLnNwbGl0RXh0ZW5kVGVzdERlZmluaXRpb24odGhpcy5leHBhbmRlZFRlc3RbcGFyZW50XSkpO1xuICAgICAgfSBlbHNlIGNvbnNvbGUubG9nKCdleHBhbmRpbmhlcml0YW5jZTogSW5mbywgbm90aGluZyB0byBleHBhbmQnKTtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50Q3Vyc29yKys7XG4gIH1cblxuICAvL2V4cGFuZHMgc3RpbXVsaWdyb3VwIGludG8gdGhlIGN1cnJlbnQgdGVzdCAtIHJlYWRzIGFsbCBzdGltdWx1cyBpbiBhIGdyb3VwIGludG8gc2VwYXJhdGUgYXJyYXlcbiAgZXhwYW5kU3RpbXVsaUdyb3VwKCkge1xuICAgIGxldCBwYXJlbnRyb3cgPSB0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcl0uc3BsaXQoL1sgOyxdKy8pOyAvL2VhY2ggZXhwYW5kZWQgZ3JvdXAgaXMgc3BsaXRcbiAgICAvL2ZvciAodmFyIGk9aW5kZXhvZm5hbWVzO2k8cGFyZW50cm93Lmxlbmd0IGg7aSsrKXsgLy9cbiAgICAvL3N0aW11bGlncm91cCBbMF0gW2dyb3VwbmFtZV0gWzEuLi5dXG4gICAgbGV0IHBhcmVudCA9IHBhcmVudHJvd1sxXTtcbiAgICAvL2dldHMgZnJvbSB1cmwgdGVzdCBkZWZpbml0aW9uXG4gICAgbGV0IG15dXJsID0gUHN5Y2hvVGVzdDJVcmwgKyBwYXJlbnQ7XG4gICAgLy9UT0RPIG1vdmUgYWpheCBjYWxsIHRvIHNoYXJlZCBjbGFzc1xuICAgICQuYWpheCh7XG4gICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgdXJsOiBteXVybCxcbiAgICAgIGRhdGE6IG51bGwsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbih0ZXN0ZHRvKSB7XG4gICAgICAgIGlmICh0aGlzLmV4cGFuZGVkR3JvdXBbcGFyZW50XSkgY29uc29sZS5sb2coJ2V4cGFuZEdyb3VwLCBXYXJuaW5nOiB0ZXN0IGRlZmluaXRpb24gYWxyZWFkeSBsb2FkZWQgZm9yICcgKyBwYXJlbnQpO1xuICAgICAgICB0aGlzLmV4cGFuZGVkR3JvdXBbcGFyZW50XSA9IHRlc3RkdG9bMF0uZGVmaW5pdGlvbjtcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oanEsIHN0YXR1cywgZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2V4cGFuZEdyb3VwLCBFcnJvcjogV2hlbiBsb2FkaW5nIGRhdGEgZm9yIHRoZSB0ZXN0IGRlZmluaXRpb24gJyArIG15dXJsICsgJyAnICsgZXJyb3IpO1xuICAgICAgfSxcbiAgICAgIGFzeW5jOiBmYWxzZVxuICAgIH0pO1xuICAgIGlmICh0aGlzLmV4cGFuZGVkR3JvdXBbcGFyZW50XSkge1xuICAgICAgdGhpcy5zcGxpdHRlZC5zcGxpY2VBcnJheSh0aGlzLmN1cnJlbnRDdXJzb3IsIDEsIHRoaXMuc3BsaXRTdGltdWxpRGVmaW5pdGlvbih0aGlzLmV4cGFuZGVkR3JvdXBbcGFyZW50XSkpO1xuICAgIH0gZWxzZSBjb25zb2xlLmxvZygnZXhwYW5kR3JvdXA6IEluZm8sIG5vdGhpbmcgdG8gZXhwYW5kIGZyb20gc3RpbXVsaWdyb3VwLicpO1xuICAgIC8vdGhpcy5jdXJyZW50Q3Vyc29yKys7XG4gIH1cblxuICAvL3NwbGl0cyBvbmx5IHN0aW11bHVzIGZyb20gZ3JvdXAgZGVmaW5pdGlvbiBpbnRvIGFycmF5XG4gIHNwbGl0RXh0ZW5kVGVzdERlZmluaXRpb24odGVzdGRlZmluaXRpb24pIHtcbiAgICBsZXQgcmF3dGVzdCA9IHRlc3RkZWZpbml0aW9uLnNwbGl0KCdcXG4nKTtcbiAgICAvL3Jhd3Rlc3Quc2hpZnQoKTsgLy9yZW1vdmVzIGZpcnN0IHJvdyAtLSB1c3VhbGx5IGRlZmluaXRpb24gb2YgdGVzdCBuYW1lXG4gICAgcmF3dGVzdFswXSA9ICcjICcgKyByYXd0ZXN0WzBdOyAvL2NvbW1lbnRzIG91dCB0aGUgZmlyc3Qgcm93IC0tIHVzdWFsbHkgZGVmaW5pdGlvbiBvZiB0ZXN0IG5hbWVcbiAgICByZXR1cm4gcmF3dGVzdDtcbiAgfVxuXG4gIC8vc3BsaXRzIG9ubHkgc3RpbXVsdXMgZnJvbSBncm91cCBkZWZpbml0aW9uIGludG8gYXJyYXlcbiAgc3BsaXRTdGltdWxpRGVmaW5pdGlvbihncm91cGRlZmluaXRpb24pIHtcbiAgICBsZXQgcmF3c3RpbXVsaSA9IGdyb3VwZGVmaW5pdGlvbi5zcGxpdCgnXFxuJyk7XG4gICAgbGV0IHN0aW11bGkgPSBbXTtcbiAgICAvLyAgICB2YXIgbmV3cm93cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcmF3c3RpbXVsaS5sZW5ndGg7IGkrKykgeyAvL3N0ZXAgb3ZlciBmaXJzdCByb3dcbiAgICAgIGxldCBteXN0aW11bGkgPSByYXdzdGltdWxpW2ldLnRyaW0oKTtcbiAgICAgIGlmIChteXN0aW11bGkubGVuZ3RoID4gMCkge3N0aW11bGkucHVzaCgnc3RpbXVsdXMgJyArIHJhd3N0aW11bGlbaV0pO31cbiAgICB9IC8vYWRkcyBvbmx5IHJvd3Mgd2l0aCBzdGltdWx1cyBwcmVmaXhcbiAgICByZXR1cm4gc3RpbXVsaTtcbiAgfVxuXG4gIC8vcmVwbGFjZSBlYWNoIG9jY3VyZW5jZSBvZiBzdGltdWxpIHdpdGggYSBzdGltdWx1cyByb3cgZnJvbSBncm91cCBkZWZpbml0aW9uLFxuICAvLyBpZiBzb21lIHN0aW11bHVzIHJlbWFpbnMsIGl0IGlzIGluc2VydGVkIGF0IHRoZSBsYXN0IHBvc2l0aW9uIG9mIHN0aW11bHVzIGluIGRlZmluaXRpb25cbiAgcmVwbGFjZVN0aW11bGlHcm91cChkZWZpbml0aW9uLCBncm91cGRlZmluaXRpb24pIHtcbiAgICBsZXQgZGVmcm93cyA9IGRlZmluaXRpb24uc3BsaXQoJ1xcbicpOyAvL3NwbGl0cyBwZXIgcm93XG4gICAgbGV0IHN0aW11bGkgPSB0aGlzLnNwbGl0U3RpbXVsaURlZmluaXRpb24oZ3JvdXBkZWZpbml0aW9uKTtcbiAgICBsZXQgbGFzdHN0aW11bHVzaW5kZXggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVmcm93cy5sZW5ndGg7IGkrKykgeyAvL3BhcnNlIGVhY2ggcm93XG4gICAgICBpZiAoRHNsLmlzWnZ1ayhkZWZyb3dzW2ldKSkge1xuICAgICAgICBpZiAoc3RpbXVsaS5sZW5ndGggPiAwKSB7bGFzdHN0aW11bHVzaW5kZXggPSBpOyBkZWZyb3dzW2ldID0gc3RpbXVsaS5zaGlmdCgpO30gLy9zdGltdWx1cyBrZXl3b3JkIHdpdGggbmV3IHN0aW11bHVzIGZyb20gYXJyYXlcbiAgICAgICAgZWxzZSBjb25zb2xlLmxvZygncmVwbGFjZVN0aW11bGk6IFdhcm5pbmcgbm90IGVub3VnaCBzdGltdWxpIGZvciByZXBsYWNlbWVudC4nKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHN0aW11bGkubGVuZ3RoID4gMCkge1xuICAgICAgY29uc29sZS5sb2coJ3JlcGxhY2VTdGltdWxpOiBJbmZvIGFkZGluZyByZW1haW5pbmcgc3RpbXVsaSBhZnRlciBsYXN0IHN0aW11bHVzIGluIGV4dGVuZGVkIHRlc3QnKTtcbiAgICAgIGRlZnJvd3Muc3BsaWNlQXJyYXkobGFzdHN0aW11bHVzaW5kZXgsIDAsIHN0aW11bGkpO1xuICAgIH1cbiAgICByZXR1cm4gZGVmcm93cztcbiAgfVxuXG4gIC8vcmVwbGFjZSBlYWNoIG9jY3VyZW5jZSBvZiBzdGltdWxpIHdpdGggYSBzdGltdWx1cyByb3cgZnJvbSBncm91cCBkZWZpbml0aW9uLFxuICAvLyBpZiBzb21lIHN0aW11bHVzIHJlbWFpbnMsIGl0IGlzIGluc2VydGVkIGF0IHRoZSBsYXN0IHBvc2l0aW9uIG9mIHN0aW11bHVzIGluIGRlZmluaXRpb25cbiAgcmVwbGFjZVN0aW11bGkoZGVmaW5pdGlvbiwgc3RpbXVsaSkge1xuICAgIGxldCBkZWZyb3dzID0gZGVmaW5pdGlvbi5zcGxpdCgnXFxuJyk7IC8vc3BsaXRzIHBlciByb3dcbiAgICBkZWZyb3dzWzBdID0gJyMgJyArIGRlZnJvd3NbMF07IC8vY29tbWVudCBvdXQgZmlyc3Qgcm93IG9mIGRlZmluaXRpb24gLS11c3VhbGx5IHRlc3RuYW1lXG4gICAgLy8gICAgdmFyIG5ld3Jvd3MgPSBbXTtcbiAgICBsZXQgbGFzdHN0aW11bHVzaW5kZXggPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RpbXVsaS5sZW5ndGg7IGkrKykge3N0aW11bGlbaV0gPSAnc3RpbXVsdXMgJyArIHN0aW11bGlbaV07fSAvL2FkZHMgc3RpbXVsdXMga2V5d29yZCBhcyBwcmVmaXhcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlZnJvd3MubGVuZ3RoOyBpKyspIHsgLy9wYXJzZSBlYWNoIHJvd1xuICAgICAgaWYgKERzbC5pc1p2dWsoZGVmcm93c1tpXSkpIHtcbiAgICAgICAgaWYgKHN0aW11bGkubGVuZ3RoID4gMCkge2xhc3RzdGltdWx1c2luZGV4ID0gaTsgZGVmcm93c1tpXSA9IHN0aW11bGkuc2hpZnQoKTt9IC8vc3RpbXVsdXMga2V5d29yZCB3aXRoIG5ldyBzdGltdWx1cyBmcm9tIGFycmF5XG4gICAgICAgIGVsc2UgY29uc29sZS5sb2coJ3JlcGxhY2VTdGltdWxpOiBXYXJuaW5nIG5vdCBlbm91Z2ggc3RpbXVsaSBmb3IgcmVwbGFjZW1lbnQuJyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzdGltdWxpLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKCdyZXBsYWNlU3RpbXVsaTogSW5mbyBhZGRpbmcgcmVtYWluaW5nIHN0aW11bGkgYWZ0ZXIgbGFzdCBzdGltdWx1cyBpbiBleHRlbmRlZCB0ZXN0Jyk7XG4gICAgICBkZWZyb3dzLnNwbGljZUFycmF5KGxhc3RzdGltdWx1c2luZGV4ICsgMSwgMCwgc3RpbXVsaSk7XG4gICAgfVxuICAgIHJldHVybiBkZWZyb3dzO1xuICB9XG5cblxuICAvL3ByZXByb2Nlc3NpbmdcbiAgLy9jb3B5IGV2ZXJ5dGhpbmcgYmVmb3JlIGZpcnN0IHN0YXRlXG4gIC8vdGhpcy5jdXJyZW50Q3Vyc29yKys7XG4gIHByZXByb2Nlc3NUZXN0KHJhd1Rlc3QpIHtcbiAgICB0aGlzLmN1cnJlbnRDdXJzb3IgPSAwO1xuICAgIHRoaXMuc3BsaXR0ZWQgPSByYXdUZXN0LnNwbGl0KCdcXG4nKTsgLy9zcGxpdCB0byByb3dzIGFuZCBwYXJzZSByb3dzXG4gICAgdGhpcy5zdGF0ZSA9IFRlc3RTdGF0ZS5VTkQ7Ly8gZ2V0U3RhdGUodGhpcy5zcGxpdHRlZCwgY3VycmVudEN1cnNvcisrKTtcbiAgICB0aGlzLnRzdGF0ZSA9IHt9O1xuICAgIHRoaXMubXlUZXN0ID0gJyc7XG4gICAgdGhpcy50ZW1wVGVzdCA9ICcnO1xuXG4gICAgLy9jb3B5IGJldHdlZW4gdGVzdCBhbmQgZmlyc3Qgc2NyZWVuXG4gICAgdGhpcy5jb3B5VGVzdCgpO1xuXG4gICAgaWYgKHRoaXMudHN0YXRlLnBvcmFkaWNhc2VuYWhvZG5lKSB0aGlzLnNodWZmbGVUZXN0KCk7XG5cbiAgICAvL2NvbnNvbGUubG9nKFwiY3Vyc29yIFwiICsgdGhpcy5jdXJyZW50Q3Vyc29yICsgXCIgcm93IFwiICsgdGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3JdKTtcbiAgICB0aGlzLnN0YXRlID0gdGhpcy5nZXRTdGF0ZSgpO1xuICAgIHdoaWxlICh0aGlzLnN0YXRlICE9PSBUZXN0U3RhdGUuRU5EKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gVGVzdFN0YXRlLk9CUikgdGhpcy5jb3B5VGVzdCgpO1xuICAgICAgZWxzZSBpZiAodGhpcy5zdGF0ZSA9PT0gVGVzdFN0YXRlLktBVCkgdGhpcy5leHBhbmRLYXRlZ29yaWUoKTtcbiAgICAgIGVsc2UgaWYgKHRoaXMuc3RhdGUgPT09IFRlc3RTdGF0ZS5QQVIpIHRoaXMuZXhwYW5kUGFyb3Z5KCk7XG4gICAgICBlbHNlIGlmICh0aGlzLnN0YXRlID09PSBUZXN0U3RhdGUuRVhUKSAgdGhpcy5leHBhbmRJbmhlcml0YW5jZSgpO1xuICAgICAgZWxzZSBpZiAodGhpcy5zdGF0ZSA9PT0gVGVzdFN0YXRlLlNUSU1HUikgdGhpcy5leHBhbmRTdGltdWxpR3JvdXAoKTtcbiAgICAgIC8vICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXRlID09IFRlc3RTdGF0ZS5SRVBTVElNKSB0aGlzLnJlcGxhY2VTdGltdWxpKCk7XG4gICAgICAvLyAgICAgICAgZWxzZSBpZiAodGhpcy5zdGF0ZSA9PSBUZXN0U3RhdGUuUkVQR1JQKSB0aGlzLnJlcGxhY2VTdGltdWxpR3JvdXAoKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiUGFyc2UgZXJyb3IuIFwiICsgdGhpcy5zdGF0ZSArIFwiLiBOb3QgZXhwZWN0ZWQgc3RhdGUuIExpbmUgXCIgKyB0aGlzLmN1cnJlbnRDdXJzb3IgKyBcIiByb3c6XCIgKyB0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcisrXSk7XG4gICAgICAgIHRoaXMubXlUZXN0ICs9IHRoaXMuc3BsaXR0ZWRbdGhpcy5jdXJyZW50Q3Vyc29yKytdICsgJ1xcbic7IC8vcHJvYmFibHkgZXh0ZW5zaW9uIC0gY29weSB0ZXN0LlxuICAgICAgfVxuICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcbiAgICAgIC8vaWYgKHRoaXMuY3VycmVudEN1cnNvcjx0aGlzLnNwbGl0dGVkLmxlbmd0aCkgY29uc29sZS5sb2coXCJjdXJzb3IgXCIgKyB0aGlzLmN1cnJlbnRDdXJzb3IgKyBcIiByb3cgXCIgKyB0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcl0pO1xuICAgIH1cbiAgICAvL3JldHVybiBjb3BwaWVkVGVzdDtcbiAgICByZXR1cm4gdGhpcy5teVRlc3Q7XG4gIH1cbiAgLy9mbGF0ZW5pemUgaW5oZXJpdGFuY2VcbiAgLy9UT0RPIGNvbnRpbnVlIHdpdGggcmVjdXJzaXZlIC0gZmxhdGVuaXplLCByZW1vdmUgc3RhdGVtZW50IGZyb20gcHJlcHJvY2VzcyBhbmQgYWRkIHRoZW0gdG8gcmVjdXJzaXZlIGNhbGwsIG9yIHVzZSBhamF4KGFzeW5jOmZhbHNlKVxuXG4gIC8vZmxhdGVuaXplIC0tIGNvbGxlY3QgYXJ0ZWZhY3RzXG4gIGZsYXRlbml6ZVRlc3QocmF3VGVzdCkge1xuICAgIHRoaXMuc3BsaXR0ZWQgPSByYXdUZXN0LnNwbGl0KCdcXG4nKTtcbiAgICBsZXQgaSA9IDA7IGxldCBqID0gMDtcbiAgICBsZXQgYXJ0ZWZhY3RzID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMuc3BsaXR0ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChEc2wuaXNFeHRlbmRzKHRoaXMuc3BsaXR0ZWRbaV0pIHx8IGlzU3RpbXVsaUdyb3VwKHRoaXMuc3BsaXR0ZWRbaV0pKSB7XG4gICAgICAgIGxldCBwYXJlbnRyb3cgPSB0aGlzLnNwbGl0dGVkW2ldLnNwbGl0KC9bIDssXSsvKTtcbiAgICAgICAgZm9yIChqID0gMTsgaiA8IHBhcmVudHJvdy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGFydGVmYWN0cy5wdXNoKHBhcmVudHJvd1tqXSk7IC8vYWRkIGFydGVmYWN0IG5hbWVzIHRoYXQgd2lsbCBiZSByZWN1cnNpdmVseSBvYnRhaW5lZCBmcm9tIHNlcnZlclxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbG9hZFRlc3REZWZpbml0aW9uKHJvdykge1xuICAgIGxldCBwYXJlbnRyb3cgPSB0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcisrXS5zcGxpdCgnICcpO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcGFyZW50cm93Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcGFyZW50ID0gcGFyZW50cm93W2ldO1xuICAgICAgdGhpcy5teVRlc3QgKz0gdGhpcy5nZXRUZXN0RGVmaW5pdGlvbihwYXJlbnQpOyAvL2dldHMgdGVzdCBkZWZpbml0aW9uIGJ5IG5hbWUsIHNraXAgZmlyc3Qgcm93IHdpdGggdGVzdCBuYW1lIGFuZCBjb3B5JnBhc3RlIHRvXG4gICAgfVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaEJBO0FBQ0E7QUFEQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBbENBO0FBb0NBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUF2Q0E7QUFDQTtBQURBO0FBMkNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFqRUE7QUFtRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUE3RUE7QUErRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMUZBO0FBNEZBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFuR0E7QUFxR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQTNIQTtBQTZIQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQTdJQTtBQStJQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBckpBO0FBQ0E7QUFEQTtBQTBKQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVhBO0FBQ0E7QUFZQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFDQTtBQVlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFsTkE7QUFDQTtBQURBO0FBc05BO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTlPQTtBQUNBO0FBREE7QUFrUEE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBdFBBO0FBQ0E7QUFEQTtBQTBQQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFHQTtBQXJRQTtBQUNBO0FBREE7QUF1UUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUdBO0FBeFJBO0FBQ0E7QUFEQTtBQTBSQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBL1NBO0FBQ0E7QUFEQTtBQWlUQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQU1BO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBcFZBO0FBQ0E7QUFEQTtBQXNWQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxXQTtBQW9XQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMVdBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/preprocesor.js\n");

/***/ }),

/***/ "./src/components/psychoapi.js":
/*!*************************************!*\
  !*** ./src/components/psychoapi.js ***!
  \*************************************/
/*! exports provided: PsychoApi */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PsychoApi\", function() { return PsychoApi; });\n/* harmony import */ var aurelia_fetch_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aurelia-fetch-client */ \"./node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js\");\n //import {Csrfheaderinterceptor} from '../components/csrfheaderinterceptor';\n\n/* Provides methods to return promise of data from REST Project api*/\n\nvar PsychoApi =\n/*#__PURE__*/\nfunction () {\n  function PsychoApi(httpclient) {\n    this.httpclient = httpclient;\n    this.httpclient.configure(function (config) {\n      config.rejectErrorResponses().withBaseUrl('').withDefaults({\n        credentials: 'same-origin',\n        headers: {\n          'Accept': 'application/json',\n          'X-Requested-With': 'Fetch'\n        }\n      });\n    });\n  }\n\n  var _proto = PsychoApi.prototype;\n\n  _proto.getMetadatas = function getMetadatas(id) {\n    var metadataurl = this.dataurl + \"/\" + id + \"/metadata\";\n    return this.httpclient.fetch(metadataurl).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      return data;\n    });\n  };\n\n  _proto.getSelectedTestDefinition = function getSelectedTestDefinition() {\n    return 'test demotest\\n' + '  screen first screen\\n' + '    text tohlebude na prvni obrazovce\\n' + '    stimulus 1.wav 2.wav\\n' + '    stimulus 3.wav \\n' + '    stimulus 1.wav [1000,3000]\\n' + '    task Hodnotte ostrost\\n' + '    values 1,2,3,4\\n';\n  };\n\n  return PsychoApi;\n}();\nPsychoApi.inject = [aurelia_fetch_client__WEBPACK_IMPORTED_MODULE_0__[\"HttpClient\"]];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9wc3ljaG9hcGkuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9wc3ljaG9hcGkuanM/MzhlNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0h0dHBDbGllbnQsanNvbn0gZnJvbSAnYXVyZWxpYS1mZXRjaC1jbGllbnQnO1xuLy9pbXBvcnQge0NzcmZoZWFkZXJpbnRlcmNlcHRvcn0gZnJvbSAnLi4vY29tcG9uZW50cy9jc3JmaGVhZGVyaW50ZXJjZXB0b3InO1xuLyogUHJvdmlkZXMgbWV0aG9kcyB0byByZXR1cm4gcHJvbWlzZSBvZiBkYXRhIGZyb20gUkVTVCBQcm9qZWN0IGFwaSovXG5cbmV4cG9ydCBjbGFzcyBQc3ljaG9BcGkge1xuICBzdGF0aWMgaW5qZWN0ID0gW0h0dHBDbGllbnRdO1xuXG4gIGNvbnN0cnVjdG9yKGh0dHBjbGllbnQpIHtcbiAgICB0aGlzLmh0dHBjbGllbnQ9aHR0cGNsaWVudDtcbiAgICB0aGlzLmh0dHBjbGllbnQuY29uZmlndXJlKGNvbmZpZyA9PiB7XG4gICAgICBjb25maWdcbiAgICAgICAgLnJlamVjdEVycm9yUmVzcG9uc2VzKClcbiAgICAgICAgLndpdGhCYXNlVXJsKCcnKVxuICAgICAgICAud2l0aERlZmF1bHRzKHtcbiAgICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnOiAnRmV0Y2gnXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0pO1xuICB9XG5cbiAgZ2V0TWV0YWRhdGFzKGlkKXtcbiAgICBsZXQgbWV0YWRhdGF1cmwgPSB0aGlzLmRhdGF1cmwrXCIvXCIraWQrXCIvbWV0YWRhdGFcIjtcbiAgICByZXR1cm4gdGhpcy5odHRwY2xpZW50LmZldGNoKG1ldGFkYXRhdXJsKVxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT5yZXNwb25zZS5qc29uKCkpXG4gICAgICAudGhlbihkYXRhPT4ge3JldHVybiBkYXRhO30pO1xuICB9XG5cbiAgZ2V0U2VsZWN0ZWRUZXN0RGVmaW5pdGlvbigpe1xuICAgIHJldHVybiAndGVzdCBkZW1vdGVzdFxcbicgK1xuICAgICAgJyAgc2NyZWVuIGZpcnN0IHNjcmVlblxcbicgK1xuICAgICAgJyAgICB0ZXh0IHRvaGxlYnVkZSBuYSBwcnZuaSBvYnJhem92Y2VcXG4nICtcbiAgICAgICcgICAgc3RpbXVsdXMgMS53YXYgMi53YXZcXG4nICtcbiAgICAgICcgICAgc3RpbXVsdXMgMy53YXYgXFxuJyArXG4gICAgICAnICAgIHN0aW11bHVzIDEud2F2IFsxMDAwLDMwMDBdXFxuJyArXG4gICAgICAnICAgIHRhc2sgSG9kbm90dGUgb3N0cm9zdFxcbicgK1xuICAgICAgJyAgICB2YWx1ZXMgMSwyLDMsNFxcbic7XG4gIH1cblxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUZBO0FBT0E7QUFDQTtBQUNBO0FBbEJBO0FBQ0E7QUFEQTtBQW9CQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBekJBO0FBMkJBO0FBUUE7QUFDQTtBQXBDQTtBQUFBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/psychoapi.js\n");

/***/ }),

/***/ "./src/components/ranking2dinterpreter.js":
/*!************************************************!*\
  !*** ./src/components/ranking2dinterpreter.js ***!
  \************************************************/
/*! exports provided: Ranking2dinterpreter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Ranking2dinterpreter\", function() { return Ranking2dinterpreter; });\nvar Ranking2dinterpreter =\n/*#__PURE__*/\nfunction () {\n  //max of y in \"serad\" svg graph\n  function Ranking2dinterpreter(parent) {\n    this.defaultSVG1 = \"<svg width=\\\"100%\\\" height=\\\"100%\\\" version=\\\"1.1\\\" viewBox=\\\"-10 0 800 200\\\" style=\\\"border-style:solid;border-width:1px;\\\"\\nxmlns=\\\"http://www.w3.org/2000/svg\\\" \\nxmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\\nonload=\\\"init('ball',1)\\\"\";\n    this.defaultSVG11 = \"\\nonmouseup=\\\"mouseUp(evt,1,1)\\\"\\nonmousemove=\\\"mouseMove(evt)\\\">\";\n    this.defaultSVGball1 = \"\\n<g id=\\\"ball0\\\" dragy=\\\"0\\\"\\ndragx=\\\"0\\\"\";\n    this.defaulSVGball11 = \"\\ntransform=\\\"translate(0,0)\\\">\\n<rect style=\\\"opacity:0.50000000000000000;fill:#acd8e6;stroke:#000000;stroke-width:5;fill-opacity:1;stroke-opacity:1\\\"\\nheight=\\\"36\\\"\\nwidth=\\\"80\\\"\\nry=\\\"18\\\"\\nrx=\\\"18\\\"\\nid=\\\"ball\\\"\\nx=\\\"0\\\"\\ny=\\\"0\\\" />\";\n    this.defaultSVGball2 = \"\\n<path style=\\\"fill:#c026f3;fill-opacity:1;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1\\\"\\nd=\\\"m 43.718257,11.24556 c 0.50507,17.67767 0.50507,18.18275 0.50507,18.18275 l 21.21321,-9.09137 z\\\"\\nid=\\\"path3792\\\"\\nonclick=\\\"document.getElementById('audio0').play();\\\"\\n/>\\n<path style=\\\"fill:#26f36d;fill-opacity:1;stroke:#000000;stroke-width:1.46451628px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1\\\"\\nd=\\\"m 22,8 9.715929,5.5782 -8.741942,0.24254 0,5.33566 10.151933,0 0,-3.88049 6.203959,5.57821 -6.767956,5.09313 0,-3.88049 -9.587936,0.24254 0,7.27591 5.921961,0 -7.613951,5.09314 -6.203958,-5.09314 4.793968,0 0,-6.79085 -9.305939,-0.24254 0,3.63796 -6.485958,-5.09313 5.639962,-5.33567 0.563997,4.12301 8.459945,-0.48506 -0.281998,-5.82073 -5.357965,-0.24253 z\\\"\\nid=\\\"path5399\\\"\\n/>   \\n</g>  \";\n    this.defaultSVG2 = \"\\n<text id=\\\"descx\\\" x=\\\"0\\\" y=\\\"149\\\" font-size=\\\"8\\\" fill=\\\"black\\\">descX &#8594;</text>\\n<text id=\\\"descy\\\" x=\\\"-4\\\" y=\\\"141\\\" font-size=\\\"8\\\" fill=\\\"black\\\" transform=\\\"rotate(270,-4,141)\\\">descY &#8594;</text>\\n</svg>\";\n    this.ymax = 400;\n    this.draggingElement = null;\n    this.nMouseOffsetX = 0;\n    this.nMouseOffsetY = 0;\n    this.parent = parent;\n  } //create inner SVG element, where each sound is presented as an draggable icon, recounts size in contrast to default svg\n\n\n  var _proto = Ranking2dinterpreter.prototype;\n\n  _proto.translateSerad2d = function translateSerad2d(row, maxaudioid, pagenum, questionnum) {\n    var rowsplitted = row.split(/[;]+/);\n    ymax = maxaudioid * 50 + 50;\n    parent.result.setDefaultAnswer(pagenum, questionnum); //fix bug 198\n\n    var svgsuffix = rowsplitted.length > 1 ? defaultSVG2.replace('descX', rowsplitted[0]).replace('descY', rowsplitted[1]) : defaultSVG2;\n    var svgsuffix2 = svgsuffix.replace('y=\"149\"', 'y=\"' + (ymax - 2) + '\"').replace(/141/g, ymax - 9);\n    return defaultSVG1.replace('init(\\'ball\\',1)', 'init(\\'ball\\',' + maxaudioid + ')').replace('viewBox=\"-10 0 800 200\"', 'viewBox=\"-10 0 800 ' + ymax + '\"') + defaultSVG11.replace('mouseUp(evt,1,1)', 'mouseUp(evt,' + pagenum + ',' + questionnum + ')') + this.generateSoundBall(maxaudioid) + svgsuffix2; //rowsplitted.length>1 ? defaultSVG2.replace(\"descX\",rowsplitted[1]).replace(\"descY\",rowsplitted[2]) : defaultSVG2;\n  } //for each sound generates an interactive SVG element\n  ;\n\n  _proto.generateSoundBall = function generateSoundBall(maxaudioid) {\n    console.log('maxaudioid:' + maxaudioid);\n    var soundBall = '';\n\n    for (var i = 0; i < maxaudioid; i++) {\n      soundBall += defaultSVGball1.replace('id=\"ball0\" dragy=\"0\"', 'id=\"ball' + i + '\" dragy=\"' + i * 50 + '\"');\n      soundBall += defaulSVGball11.replace('translate(0,0)', 'translate(0,' + i * 50 + ')');\n      soundBall += defaultSVGball2.replace(/audio0/, 'audio' + i);\n    }\n\n    return soundBall;\n  } //draggable part inspired by http://www.codedread.com/dragtest2.svg\n  ;\n\n  _proto.inspect = function inspect(obj) {\n    var str = new Array();\n    var element = null;\n\n    for (element in obj) {\n      str[str.length] = element;\n    }\n\n    str.sort();\n    alert(obj + ':' + str.join(' '));\n  };\n\n  _proto.mouseDown = function mouseDown(evt) {\n    var target = evt.currentTarget;\n    draggingElement = target;\n\n    if (target) {\n      var p = document.getElementsByTagName('svg')[0].createSVGPoint();\n      p.x = evt.clientX;\n      p.y = evt.clientY;\n      var m = getScreenCTM(document.getElementsByTagName('svg')[0]);\n      p = p.matrixTransform(m.inverse());\n      nMouseOffsetX = p.x - parseInt(target.getAttribute('dragx'), 10);\n      nMouseOffsetY = p.y - parseInt(target.getAttribute('dragy'), 10);\n      if (nMouseOffsetX > 61 && nMouseOffsetX < 91) play();\n    }\n  };\n\n  _proto.getDraggablePositions = function getDraggablePositions() {\n    var positions = '';\n    var draggable = document.getElementsByTagName('g');\n\n    for (var i = 0; i < draggable.length; i++) {\n      positions += Math.round(parseFloat(draggable[i].getAttribute('dragx'))) + ',' + Math.round(parseFloat(draggable[i].getAttribute('dragy'))) + ' ';\n    }\n\n    return positions;\n  };\n\n  _proto.mouseUp = function mouseUp(evt, pageNum, questionNum) {\n    draggingElement = null;\n    var value = getDraggablePositions();\n    setAnswer(pageNum, questionNum, value);\n    nMouseOffsetX = 0;\n    nMouseOffsetY = 0;\n  };\n\n  _proto.mouseMove = function mouseMove(evt) {\n    var p = document.getElementsByTagName('svg')[0].createSVGPoint();\n    p.x = evt.clientX;\n    p.y = evt.clientY;\n    var m = getScreenCTM(document.getElementsByTagName('svg')[0]);\n    p = p.matrixTransform(m.inverse());\n    p.x -= nMouseOffsetX;\n    p.y -= nMouseOffsetY;\n\n    if (draggingElement) {\n      if (p.x < 0) p.x = 0;else if (p.x > 800) p.x = 800 - 50; //on borders keep 0\n\n      if (p.y < 0) p.y = 0;else if (p.y > ymax - 50) p.y = ymax - 50;\n      draggingElement.setAttribute('dragx', p.x);\n      draggingElement.setAttribute('dragy', p.y);\n      draggingElement.setAttribute('transform', 'translate(' + p.x + ',' + p.y + ')');\n    }\n  };\n\n  _proto.displayCoords = function displayCoords(x, y, extra) {\n    var xNode = document.getElementById('xpos');\n    var yNode = document.getElementById('ypos');\n\n    if (xNode && yNode) {\n      xNode.firstChild.nodeValue = parseInt(x, 10) + extra;\n      yNode.firstChild.nodeValue = parseInt(y, 10) + extra;\n    }\n  };\n\n  _proto.displayRawText = function displayRawText(text) {\n    var textNode = document.getElementById('raw');\n\n    if (textNode) {\n      textNode.firstChild.nodeValue = text;\n    }\n  };\n\n  _proto.init = function init(prefix, count) {\n    for (var i = 0; i < count; i++) {\n      var ball = document.getElementById(prefix + i);\n      if (ball) ball.addEventListener('mousedown', mouseDown, false);\n    }\n    /*var ball = document.getElementById(\"ball\");\n    var square = document.getElementById(\"square\");\n    var logo = document.getElementById(\"cd_logo\");\n    //var feed = document.getElementById(\"feed_icon\");\n    if(ball && square && logo) {\n        ball.addEventListener(\"mousedown\", mouseDown, false);\n        square.addEventListener(\"mousedown\", mouseDown, false);\n        logo.addEventListener(\"mousedown\", mouseDown, false);\n        //feed.addEventListener(\"mousedown\", mouseDown, false);\n    }\n    //displayRawText(\"Drag stuff around\");\n    */\n\n  };\n\n  _proto.displayMatrix = function displayMatrix(matrix) {\n    this.displayRawText(matrix.a + ', ' + matrix.b + ', ' + matrix.c + ', ' + matrix.d + ', ' + matrix.e + ', ' + matrix.f);\n  } // Following is from Holger Will since ASV3 and O9 do not support getScreenTCM()\n  // See http://groups.yahoo.com/group/svg-developers/message/50789\n\n  /*  parX;\n  parY;\n  ma;\n  mos;\n  w;\n  h;\n  sx;\n  sy;\n  s;*/\n  ;\n\n  _proto.getScreenCTM = function getScreenCTM(doc) {\n    if (doc.getScreenCTM) {\n      return doc.getScreenCTM();\n    }\n\n    var root = document.getElementsByTagName('svg')[0]; //doc\n\n    var sCTM = root.createSVGMatrix();\n    var tr = root.createSVGMatrix();\n    var par = root.getAttribute('preserveAspectRatio');\n    if (par === null || par === '') par = 'xMidYMid meet'; //setting to default value\n\n    var parX = par.substring(0, 4); //xMin;xMid;xMax\n\n    var parY = par.substring(4, 8); //YMin;YMid;YMax;\n\n    var ma = par.split(' ');\n    var mos = ma[1]; //meet;slice\n    //get dimensions of the viewport\n\n    sCTM.a = 1;\n    sCTM.d = 1;\n    sCTM.e = 0;\n    sCTM.f = 0;\n    var w = root.getAttribute('width');\n    if (w === null || w === '') w = innerWidth;\n    var h = root.getAttribute('height');\n    if (h === null || h === '') h = innerHeight; // Jeff Schiller:  Modified to account for percentages - I'm not\n    // absolutely certain this is correct but it works for 100%/100%\n\n    if (w.substr(w.length - 1, 1) === '%') {\n      w = parseFloat(w.substr(0, w.length - 1)) / 100.0 * innerWidth;\n    }\n\n    if (h.substr(h.length - 1, 1) === '%') {\n      h = parseFloat(h.substr(0, h.length - 1)) / 100.0 * innerHeight;\n    } // get the ViewBox\n\n\n    var vba = root.getAttribute('viewBox');\n    if (vba === null) vba = '0 0 ' + w + ' ' + h;\n    var vb = vba.split(' '); //get the viewBox into an array\n    //--------------------------------------------------------------------------\n    //create a matrix with current user transformation\n\n    tr.a = root.currentScale;\n    tr.d = root.currentScale;\n    tr.e = root.currentTranslate.x;\n    tr.f = root.currentTranslate.y; //scale factors\n\n    var sx = w / vb[2];\n    var sy = h / vb[3];\n    var s; //meetOrSlice\n\n    if (mos === 'slice') {\n      s = sx > sy ? sx : sy;\n    } else {\n      s = sx < sy ? sx : sy;\n    } //preserveAspectRatio=\"none\"\n\n\n    if (par === 'none') {\n      sCTM.a = sx; //scaleX\n\n      sCTM.d = sy; //scaleY\n\n      sCTM.e = -vb[0] * sx; //translateX\n\n      sCTM.f = -vb[0] * sy; //translateY\n\n      sCTM = tr.multiply(sCTM); //taking user transformations into acount\n\n      return sCTM;\n    }\n\n    sCTM.a = s; //scaleX\n\n    sCTM.d = s; //scaleY\n    //-------------------------------------------------------\n\n    switch (parX) {\n      case 'xMid':\n        sCTM.e = (w - vb[2] * s) / 2 - vb[0] * s; //translateX\n\n        break;\n\n      case 'xMin':\n        sCTM.e = -vb[0] * s; //translateX\n\n        break;\n\n      case 'xMax':\n        sCTM.e = w - vb[2] * s - vb[0] * s; //translateX\n\n        break;\n    } //------------------------------------------------------------\n\n\n    switch (parY) {\n      case 'YMid':\n        sCTM.f = (h - vb[3] * s) / 2 - vb[1] * s; //translateY\n\n        break;\n\n      case 'YMin':\n        sCTM.f = -vb[1] * s; //translateY\n\n        break;\n\n      case 'YMax':\n        sCTM.f = h - vb[3] * s - vb[1] * s; //translateY\n\n        break;\n    }\n\n    sCTM = tr.multiply(sCTM); //taking user transformations into acount\n\n    return sCTM;\n  };\n\n  return Ranking2dinterpreter;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9yYW5raW5nMmRpbnRlcnByZXRlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3JhbmtpbmcyZGludGVycHJldGVyLmpzPzQ0ZTQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFJhbmtpbmcyZGludGVycHJldGVyIHtcbiAgZGVmYXVsdFNWRzEgPSBgPHN2ZyB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgdmVyc2lvbj1cIjEuMVwiIHZpZXdCb3g9XCItMTAgMCA4MDAgMjAwXCIgc3R5bGU9XCJib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLXdpZHRoOjFweDtcIlxueG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIFxueG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcbm9ubG9hZD1cImluaXQoXFwnYmFsbFxcJywxKVwiYDtcbiAgZGVmYXVsdFNWRzExID0gYFxub25tb3VzZXVwPVwibW91c2VVcChldnQsMSwxKVwiXG5vbm1vdXNlbW92ZT1cIm1vdXNlTW92ZShldnQpXCI+YDtcbiAgZGVmYXVsdFNWR2JhbGwxID0gYFxuPGcgaWQ9XCJiYWxsMFwiIGRyYWd5PVwiMFwiXG5kcmFneD1cIjBcImBcbiAgZGVmYXVsU1ZHYmFsbDExID0gYFxudHJhbnNmb3JtPVwidHJhbnNsYXRlKDAsMClcIj5cbjxyZWN0IHN0eWxlPVwib3BhY2l0eTowLjUwMDAwMDAwMDAwMDAwMDAwO2ZpbGw6I2FjZDhlNjtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6NTtmaWxsLW9wYWNpdHk6MTtzdHJva2Utb3BhY2l0eToxXCJcbmhlaWdodD1cIjM2XCJcbndpZHRoPVwiODBcIlxucnk9XCIxOFwiXG5yeD1cIjE4XCJcbmlkPVwiYmFsbFwiXG54PVwiMFwiXG55PVwiMFwiIC8+YDtcbiAgZGVmYXVsdFNWR2JhbGwyPSBgXG48cGF0aCBzdHlsZT1cImZpbGw6I2MwMjZmMztmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MXB4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjFcIlxuZD1cIm0gNDMuNzE4MjU3LDExLjI0NTU2IGMgMC41MDUwNywxNy42Nzc2NyAwLjUwNTA3LDE4LjE4Mjc1IDAuNTA1MDcsMTguMTgyNzUgbCAyMS4yMTMyMSwtOS4wOTEzNyB6XCJcbmlkPVwicGF0aDM3OTJcIlxub25jbGljaz1cImRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxcJ2F1ZGlvMFxcJykucGxheSgpO1wiXG4vPlxuPHBhdGggc3R5bGU9XCJmaWxsOiMyNmYzNmQ7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNDY0NTE2MjhweDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxXCJcbmQ9XCJtIDIyLDggOS43MTU5MjksNS41NzgyIC04Ljc0MTk0MiwwLjI0MjU0IDAsNS4zMzU2NiAxMC4xNTE5MzMsMCAwLC0zLjg4MDQ5IDYuMjAzOTU5LDUuNTc4MjEgLTYuNzY3OTU2LDUuMDkzMTMgMCwtMy44ODA0OSAtOS41ODc5MzYsMC4yNDI1NCAwLDcuMjc1OTEgNS45MjE5NjEsMCAtNy42MTM5NTEsNS4wOTMxNCAtNi4yMDM5NTgsLTUuMDkzMTQgNC43OTM5NjgsMCAwLC02Ljc5MDg1IC05LjMwNTkzOSwtMC4yNDI1NCAwLDMuNjM3OTYgLTYuNDg1OTU4LC01LjA5MzEzIDUuNjM5OTYyLC01LjMzNTY3IDAuNTYzOTk3LDQuMTIzMDEgOC40NTk5NDUsLTAuNDg1MDYgLTAuMjgxOTk4LC01LjgyMDczIC01LjM1Nzk2NSwtMC4yNDI1MyB6XCJcbmlkPVwicGF0aDUzOTlcIlxuLz4gICBcbjwvZz4gIGA7XG4gIGRlZmF1bHRTVkcyID0gYFxuPHRleHQgaWQ9XCJkZXNjeFwiIHg9XCIwXCIgeT1cIjE0OVwiIGZvbnQtc2l6ZT1cIjhcIiBmaWxsPVwiYmxhY2tcIj5kZXNjWCAmIzg1OTQ7PC90ZXh0PlxuPHRleHQgaWQ9XCJkZXNjeVwiIHg9XCItNFwiIHk9XCIxNDFcIiBmb250LXNpemU9XCI4XCIgZmlsbD1cImJsYWNrXCIgdHJhbnNmb3JtPVwicm90YXRlKDI3MCwtNCwxNDEpXCI+ZGVzY1kgJiM4NTk0OzwvdGV4dD5cbjwvc3ZnPmBcbiAgeW1heCA9IDQwMDsgLy9tYXggb2YgeSBpbiBcInNlcmFkXCIgc3ZnIGdyYXBoXG5cbiAgY29uc3RydWN0b3IocGFyZW50KSB7XG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gIH1cbiAgLy9jcmVhdGUgaW5uZXIgU1ZHIGVsZW1lbnQsIHdoZXJlIGVhY2ggc291bmQgaXMgcHJlc2VudGVkIGFzIGFuIGRyYWdnYWJsZSBpY29uLCByZWNvdW50cyBzaXplIGluIGNvbnRyYXN0IHRvIGRlZmF1bHQgc3ZnXG4gIHRyYW5zbGF0ZVNlcmFkMmQocm93LCBtYXhhdWRpb2lkLCBwYWdlbnVtLCBxdWVzdGlvbm51bSkge1xuICAgIGxldCByb3dzcGxpdHRlZCA9IHJvdy5zcGxpdCgvWztdKy8pO1xuICAgIHltYXggPSBtYXhhdWRpb2lkICogNTAgKyA1MDtcbiAgICBwYXJlbnQucmVzdWx0LnNldERlZmF1bHRBbnN3ZXIocGFnZW51bSwgcXVlc3Rpb25udW0pOyAvL2ZpeCBidWcgMTk4XG4gICAgbGV0IHN2Z3N1ZmZpeCA9IHJvd3NwbGl0dGVkLmxlbmd0aCA+IDEgPyBkZWZhdWx0U1ZHMi5yZXBsYWNlKCdkZXNjWCcsIHJvd3NwbGl0dGVkWzBdKS5yZXBsYWNlKCdkZXNjWScsIHJvd3NwbGl0dGVkWzFdKSA6IGRlZmF1bHRTVkcyO1xuICAgIGxldCBzdmdzdWZmaXgyID0gc3Znc3VmZml4LnJlcGxhY2UoJ3k9XCIxNDlcIicsICd5PVwiJyArICh5bWF4IC0gMikgKyAnXCInKS5yZXBsYWNlKC8xNDEvZywgKHltYXggLSA5KSk7XG4gICAgcmV0dXJuIGRlZmF1bHRTVkcxLnJlcGxhY2UoJ2luaXQoXFwnYmFsbFxcJywxKScsICdpbml0KFxcJ2JhbGxcXCcsJyArIG1heGF1ZGlvaWQgKyAnKScpLnJlcGxhY2UoJ3ZpZXdCb3g9XCItMTAgMCA4MDAgMjAwXCInLCAndmlld0JveD1cIi0xMCAwIDgwMCAnICsgKHltYXgpICsgJ1wiJylcbiAgICAgICsgZGVmYXVsdFNWRzExLnJlcGxhY2UoJ21vdXNlVXAoZXZ0LDEsMSknLCAnbW91c2VVcChldnQsJyArIHBhZ2VudW0gKyAnLCcgKyBxdWVzdGlvbm51bSArICcpJylcbiAgICAgICsgdGhpcy5nZW5lcmF0ZVNvdW5kQmFsbChtYXhhdWRpb2lkKVxuICAgICAgKyBzdmdzdWZmaXgyOy8vcm93c3BsaXR0ZWQubGVuZ3RoPjEgPyBkZWZhdWx0U1ZHMi5yZXBsYWNlKFwiZGVzY1hcIixyb3dzcGxpdHRlZFsxXSkucmVwbGFjZShcImRlc2NZXCIscm93c3BsaXR0ZWRbMl0pIDogZGVmYXVsdFNWRzI7XG4gIH1cblxuICAvL2ZvciBlYWNoIHNvdW5kIGdlbmVyYXRlcyBhbiBpbnRlcmFjdGl2ZSBTVkcgZWxlbWVudFxuICBnZW5lcmF0ZVNvdW5kQmFsbChtYXhhdWRpb2lkKSB7XG4gICAgY29uc29sZS5sb2coJ21heGF1ZGlvaWQ6JyArIG1heGF1ZGlvaWQpO1xuICAgIGxldCBzb3VuZEJhbGwgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heGF1ZGlvaWQ7IGkrKykge1xuICAgICAgc291bmRCYWxsICs9IGRlZmF1bHRTVkdiYWxsMS5yZXBsYWNlKCdpZD1cImJhbGwwXCIgZHJhZ3k9XCIwXCInLCAnaWQ9XCJiYWxsJyArIGkgKyAnXCIgZHJhZ3k9XCInICsgaSAqIDUwICsgJ1wiJyk7XG4gICAgICBzb3VuZEJhbGwgKz0gZGVmYXVsU1ZHYmFsbDExLnJlcGxhY2UoJ3RyYW5zbGF0ZSgwLDApJywgJ3RyYW5zbGF0ZSgwLCcgKyBpICogNTAgKyAnKScpO1xuICAgICAgc291bmRCYWxsICs9IGRlZmF1bHRTVkdiYWxsMi5yZXBsYWNlKC9hdWRpbzAvLCAnYXVkaW8nICsgaSk7XG4gICAgfVxuICAgIHJldHVybiBzb3VuZEJhbGw7XG4gIH1cblxuICAvL2RyYWdnYWJsZSBwYXJ0IGluc3BpcmVkIGJ5IGh0dHA6Ly93d3cuY29kZWRyZWFkLmNvbS9kcmFndGVzdDIuc3ZnXG4gIGluc3BlY3Qob2JqKSB7XG4gICAgbGV0IHN0ciA9IG5ldyBBcnJheSgpO1xuICAgIGxldCBlbGVtZW50ID0gbnVsbDtcbiAgICBmb3IgKGVsZW1lbnQgaW4gb2JqKSB7IHN0cltzdHIubGVuZ3RoXSA9IGVsZW1lbnQ7IH1cbiAgICBzdHIuc29ydCgpO1xuICAgIGFsZXJ0KG9iaiArICc6JyArIHN0ci5qb2luKCcgJykpO1xuICB9XG5cbiAgZHJhZ2dpbmdFbGVtZW50ID0gbnVsbDtcbiAgbk1vdXNlT2Zmc2V0WCA9IDA7XG4gIG5Nb3VzZU9mZnNldFkgPSAwO1xuXG4gIG1vdXNlRG93bihldnQpIHtcbiAgICBsZXQgdGFyZ2V0ID0gZXZ0LmN1cnJlbnRUYXJnZXQ7XG4gICAgZHJhZ2dpbmdFbGVtZW50ID0gdGFyZ2V0O1xuXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgbGV0IHAgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3ZnJylbMF0uY3JlYXRlU1ZHUG9pbnQoKTtcbiAgICAgIHAueCA9IGV2dC5jbGllbnRYO1xuICAgICAgcC55ID0gZXZ0LmNsaWVudFk7XG5cbiAgICAgIGxldCBtID0gZ2V0U2NyZWVuQ1RNKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdmcnKVswXSk7XG5cbiAgICAgIHAgPSBwLm1hdHJpeFRyYW5zZm9ybShtLmludmVyc2UoKSk7XG4gICAgICBuTW91c2VPZmZzZXRYID0gcC54IC0gcGFyc2VJbnQodGFyZ2V0LmdldEF0dHJpYnV0ZSgnZHJhZ3gnKSwxMCk7XG4gICAgICBuTW91c2VPZmZzZXRZID0gcC55IC0gcGFyc2VJbnQodGFyZ2V0LmdldEF0dHJpYnV0ZSgnZHJhZ3knKSwxMCk7XG4gICAgICBpZiAobk1vdXNlT2Zmc2V0WCA+IDYxICYmIG5Nb3VzZU9mZnNldFggPCA5MSkgcGxheSgpO1xuICAgIH1cbiAgfVxuXG4gIGdldERyYWdnYWJsZVBvc2l0aW9ucygpIHtcbiAgICBsZXQgcG9zaXRpb25zID0gJyc7XG4gICAgbGV0IGRyYWdnYWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdnJyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkcmFnZ2FibGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBvc2l0aW9ucyArPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoZHJhZ2dhYmxlW2ldLmdldEF0dHJpYnV0ZSgnZHJhZ3gnKSkpICsgJywnICsgTWF0aC5yb3VuZChwYXJzZUZsb2F0KGRyYWdnYWJsZVtpXS5nZXRBdHRyaWJ1dGUoJ2RyYWd5JykpKSArICcgJztcbiAgICB9XG4gICAgcmV0dXJuIHBvc2l0aW9ucztcbiAgfVxuXG4gIG1vdXNlVXAoZXZ0LCBwYWdlTnVtLCBxdWVzdGlvbk51bSkge1xuICAgIGRyYWdnaW5nRWxlbWVudCA9IG51bGw7XG4gICAgbGV0IHZhbHVlID0gZ2V0RHJhZ2dhYmxlUG9zaXRpb25zKCk7XG4gICAgc2V0QW5zd2VyKHBhZ2VOdW0sIHF1ZXN0aW9uTnVtLCB2YWx1ZSk7XG4gICAgbk1vdXNlT2Zmc2V0WCA9IDA7XG4gICAgbk1vdXNlT2Zmc2V0WSA9IDA7XG4gIH1cblxuICBtb3VzZU1vdmUoZXZ0KSB7XG4gICAgbGV0IHAgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3ZnJylbMF0uY3JlYXRlU1ZHUG9pbnQoKTtcbiAgICBwLnggPSBldnQuY2xpZW50WDtcbiAgICBwLnkgPSBldnQuY2xpZW50WTtcblxuICAgIGxldCBtID0gZ2V0U2NyZWVuQ1RNKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdmcnKVswXSk7XG5cbiAgICBwID0gcC5tYXRyaXhUcmFuc2Zvcm0obS5pbnZlcnNlKCkpO1xuICAgIHAueCAtPSBuTW91c2VPZmZzZXRYO1xuICAgIHAueSAtPSBuTW91c2VPZmZzZXRZO1xuXG4gICAgaWYgKGRyYWdnaW5nRWxlbWVudCkge1xuICAgICAgaWYgKHAueCA8IDApIHAueCA9IDA7IGVsc2UgaWYgKHAueCA+IDgwMCkgcC54ID0gODAwIC0gNTA7IC8vb24gYm9yZGVycyBrZWVwIDBcbiAgICAgIGlmIChwLnkgPCAwKSBwLnkgPSAwOyBlbHNlIGlmIChwLnkgPiB5bWF4IC0gNTApIHAueSA9IHltYXggLSA1MDtcbiAgICAgIGRyYWdnaW5nRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RyYWd4JywgcC54KTtcbiAgICAgIGRyYWdnaW5nRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RyYWd5JywgcC55KTtcbiAgICAgIGRyYWdnaW5nRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIHAueCArICcsJyArIHAueSArICcpJyk7XG4gICAgfVxuICB9XG5cbiAgZGlzcGxheUNvb3Jkcyh4LCB5LCBleHRyYSkge1xuICAgIGxldCB4Tm9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd4cG9zJyk7XG4gICAgbGV0IHlOb2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3lwb3MnKTtcbiAgICBpZiAoeE5vZGUgJiYgeU5vZGUpIHtcbiAgICAgIHhOb2RlLmZpcnN0Q2hpbGQubm9kZVZhbHVlID0gcGFyc2VJbnQoeCwxMCkgKyBleHRyYTtcbiAgICAgIHlOb2RlLmZpcnN0Q2hpbGQubm9kZVZhbHVlID0gcGFyc2VJbnQoeSwxMCkgKyBleHRyYTtcbiAgICB9XG4gIH1cblxuICBkaXNwbGF5UmF3VGV4dCh0ZXh0KSB7XG4gICAgbGV0IHRleHROb2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhdycpO1xuICAgIGlmICh0ZXh0Tm9kZSkge1xuICAgICAgdGV4dE5vZGUuZmlyc3RDaGlsZC5ub2RlVmFsdWUgPSB0ZXh0O1xuICAgIH1cbiAgfVxuXG4gIGluaXQocHJlZml4LCBjb3VudCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgbGV0IGJhbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmVmaXggKyBpKTtcbiAgICAgIGlmIChiYWxsKSBiYWxsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG1vdXNlRG93biwgZmFsc2UpO1xuICAgIH1cbiAgICAvKnZhciBiYWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiYWxsXCIpO1xuICAgIHZhciBzcXVhcmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNxdWFyZVwiKTtcbiAgICB2YXIgbG9nbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2RfbG9nb1wiKTtcbiAgICAvL3ZhciBmZWVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmZWVkX2ljb25cIik7XG4gICAgaWYoYmFsbCAmJiBzcXVhcmUgJiYgbG9nbykge1xuICAgICAgICBiYWxsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgbW91c2VEb3duLCBmYWxzZSk7XG4gICAgICAgIHNxdWFyZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIG1vdXNlRG93biwgZmFsc2UpO1xuICAgICAgICBsb2dvLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgbW91c2VEb3duLCBmYWxzZSk7XG4gICAgICAgIC8vZmVlZC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIG1vdXNlRG93biwgZmFsc2UpO1xuICAgIH1cbiAgICAvL2Rpc3BsYXlSYXdUZXh0KFwiRHJhZyBzdHVmZiBhcm91bmRcIik7XG4gICAgKi9cbiAgfVxuXG4gIGRpc3BsYXlNYXRyaXgobWF0cml4KSB7XG4gICAgdGhpcy5kaXNwbGF5UmF3VGV4dChtYXRyaXguYSArICcsICcgKyBtYXRyaXguYiArICcsICcgKyBtYXRyaXguYyArICcsICdcbiAgICAgICsgbWF0cml4LmQgKyAnLCAnICsgbWF0cml4LmUgKyAnLCAnICsgbWF0cml4LmYpO1xuICB9XG5cbiAgLy8gRm9sbG93aW5nIGlzIGZyb20gSG9sZ2VyIFdpbGwgc2luY2UgQVNWMyBhbmQgTzkgZG8gbm90IHN1cHBvcnQgZ2V0U2NyZWVuVENNKClcbiAgLy8gU2VlIGh0dHA6Ly9ncm91cHMueWFob28uY29tL2dyb3VwL3N2Zy1kZXZlbG9wZXJzL21lc3NhZ2UvNTA3ODlcbiAgLyogIHBhclg7XG4gIHBhclk7XG4gIG1hO1xuICBtb3M7XG4gIHc7XG4gIGg7XG4gIHN4O1xuICBzeTtcbiAgczsqL1xuICBnZXRTY3JlZW5DVE0oZG9jKSB7XG4gICAgaWYgKGRvYy5nZXRTY3JlZW5DVE0pIHsgcmV0dXJuIGRvYy5nZXRTY3JlZW5DVE0oKTsgfVxuXG4gICAgbGV0IHJvb3QgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3ZnJylbMF07Ly9kb2NcbiAgICBsZXQgc0NUTSA9IHJvb3QuY3JlYXRlU1ZHTWF0cml4KCk7XG5cbiAgICBsZXQgdHIgPSByb290LmNyZWF0ZVNWR01hdHJpeCgpO1xuICAgIGxldCBwYXIgPSByb290LmdldEF0dHJpYnV0ZSgncHJlc2VydmVBc3BlY3RSYXRpbycpO1xuICAgIGlmIChwYXIgPT09IG51bGwgfHwgcGFyID09PSAnJykgcGFyID0gJ3hNaWRZTWlkIG1lZXQnOy8vc2V0dGluZyB0byBkZWZhdWx0IHZhbHVlXG4gICAgbGV0IHBhclggPSBwYXIuc3Vic3RyaW5nKDAsIDQpOyAvL3hNaW47eE1pZDt4TWF4XG4gICAgbGV0IHBhclkgPSBwYXIuc3Vic3RyaW5nKDQsIDgpOy8vWU1pbjtZTWlkO1lNYXg7XG4gICAgbGV0IG1hID0gcGFyLnNwbGl0KCcgJyk7XG4gICAgbGV0IG1vcyA9IG1hWzFdOyAvL21lZXQ7c2xpY2VcblxuICAgIC8vZ2V0IGRpbWVuc2lvbnMgb2YgdGhlIHZpZXdwb3J0XG4gICAgc0NUTS5hID0gMTtcbiAgICBzQ1RNLmQgPSAxO1xuICAgIHNDVE0uZSA9IDA7XG4gICAgc0NUTS5mID0gMDtcblxuXG4gICAgbGV0IHcgPSByb290LmdldEF0dHJpYnV0ZSgnd2lkdGgnKTtcbiAgICBpZiAodyA9PT0gbnVsbCB8fCB3ID09PSAnJykgdyA9IGlubmVyV2lkdGg7XG5cbiAgICBsZXQgaCA9IHJvb3QuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKTtcbiAgICBpZiAoaCA9PT0gbnVsbCB8fCBoID09PSAnJykgaCA9IGlubmVySGVpZ2h0O1xuXG4gICAgLy8gSmVmZiBTY2hpbGxlcjogIE1vZGlmaWVkIHRvIGFjY291bnQgZm9yIHBlcmNlbnRhZ2VzIC0gSSdtIG5vdFxuICAgIC8vIGFic29sdXRlbHkgY2VydGFpbiB0aGlzIGlzIGNvcnJlY3QgYnV0IGl0IHdvcmtzIGZvciAxMDAlLzEwMCVcbiAgICBpZiAody5zdWJzdHIody5sZW5ndGggLSAxLCAxKSA9PT0gJyUnKSB7XG4gICAgICB3ID0gKHBhcnNlRmxvYXQody5zdWJzdHIoMCwgdy5sZW5ndGggLSAxKSkgLyAxMDAuMCkgKiBpbm5lcldpZHRoO1xuICAgIH1cbiAgICBpZiAoaC5zdWJzdHIoaC5sZW5ndGggLSAxLCAxKSA9PT0gJyUnKSB7XG4gICAgICBoID0gKHBhcnNlRmxvYXQoaC5zdWJzdHIoMCwgaC5sZW5ndGggLSAxKSkgLyAxMDAuMCkgKiBpbm5lckhlaWdodDtcbiAgICB9XG5cbiAgICAvLyBnZXQgdGhlIFZpZXdCb3hcbiAgICBsZXQgdmJhID0gcm9vdC5nZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnKTtcbiAgICBpZiAodmJhID09PSBudWxsKSB2YmEgPSAnMCAwICcgKyB3ICsgJyAnICsgaDtcbiAgICBsZXQgdmIgPSB2YmEuc3BsaXQoJyAnKTsvL2dldCB0aGUgdmlld0JveCBpbnRvIGFuIGFycmF5XG5cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy9jcmVhdGUgYSBtYXRyaXggd2l0aCBjdXJyZW50IHVzZXIgdHJhbnNmb3JtYXRpb25cbiAgICB0ci5hID0gcm9vdC5jdXJyZW50U2NhbGU7XG4gICAgdHIuZCA9IHJvb3QuY3VycmVudFNjYWxlO1xuICAgIHRyLmUgPSByb290LmN1cnJlbnRUcmFuc2xhdGUueDtcbiAgICB0ci5mID0gcm9vdC5jdXJyZW50VHJhbnNsYXRlLnk7XG5cblxuICAgIC8vc2NhbGUgZmFjdG9yc1xuICAgIGxldCBzeCA9IHcgLyB2YlsyXTtcbiAgICBsZXQgc3kgPSBoIC8gdmJbM107XG5cbiAgICBsZXQgcztcbiAgICAvL21lZXRPclNsaWNlXG4gICAgaWYgKG1vcyA9PT0gJ3NsaWNlJykge1xuICAgICAgcyA9IChzeCA+IHN5ID8gc3ggOiBzeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMgPSAoc3ggPCBzeSA/IHN4IDogc3kpO1xuICAgIH1cblxuICAgIC8vcHJlc2VydmVBc3BlY3RSYXRpbz1cIm5vbmVcIlxuICAgIGlmIChwYXIgPT09ICdub25lJykge1xuICAgICAgc0NUTS5hID0gc3g7Ly9zY2FsZVhcbiAgICAgIHNDVE0uZCA9IHN5Oy8vc2NhbGVZXG4gICAgICBzQ1RNLmUgPSAtIHZiWzBdICogc3g7IC8vdHJhbnNsYXRlWFxuICAgICAgc0NUTS5mID0gLSB2YlswXSAqIHN5OyAvL3RyYW5zbGF0ZVlcbiAgICAgIHNDVE0gPSB0ci5tdWx0aXBseShzQ1RNKTsvL3Rha2luZyB1c2VyIHRyYW5zZm9ybWF0aW9ucyBpbnRvIGFjb3VudFxuXG4gICAgICByZXR1cm4gc0NUTTtcbiAgICB9XG5cblxuICAgIHNDVE0uYSA9IHM7IC8vc2NhbGVYXG4gICAgc0NUTS5kID0gczsvL3NjYWxlWVxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIHN3aXRjaCAocGFyWCkge1xuICAgIGNhc2UgJ3hNaWQnOlxuICAgICAgc0NUTS5lID0gKCh3IC0gdmJbMl0gKiBzKSAvIDIpIC0gdmJbMF0gKiBzOyAvL3RyYW5zbGF0ZVhcblxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAneE1pbic6XG4gICAgICBzQ1RNLmUgPSAtIHZiWzBdICogczsvL3RyYW5zbGF0ZVhcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3hNYXgnOlxuICAgICAgc0NUTS5lID0gKHcgLSB2YlsyXSAqIHMpIC0gdmJbMF0gKiBzOyAvL3RyYW5zbGF0ZVhcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIHN3aXRjaCAocGFyWSkge1xuICAgIGNhc2UgJ1lNaWQnOlxuICAgICAgc0NUTS5mID0gKGggLSB2YlszXSAqIHMpIC8gMiAtIHZiWzFdICogczsgLy90cmFuc2xhdGVZXG4gICAgICBicmVhaztcbiAgICBjYXNlICdZTWluJzpcbiAgICAgIHNDVE0uZiA9IC0gdmJbMV0gKiBzOy8vdHJhbnNsYXRlWVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnWU1heCc6XG4gICAgICBzQ1RNLmYgPSAoaCAtIHZiWzNdICogcykgLSB2YlsxXSAqIHM7IC8vdHJhbnNsYXRlWVxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHNDVE0gPSB0ci5tdWx0aXBseShzQ1RNKTsvL3Rha2luZyB1c2VyIHRyYW5zZm9ybWF0aW9ucyBpbnRvIGFjb3VudFxuXG4gICAgcmV0dXJuIHNDVE07XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQW9DQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTFDQTtBQUNBO0FBREE7QUEyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFJQTtBQXBEQTtBQUNBO0FBREE7QUF3REE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQWhFQTtBQUNBO0FBREE7QUFvRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQTFFQTtBQWdGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFoR0E7QUFrR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUF6R0E7QUEyR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqSEE7QUFtSEE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcklBO0FBdUlBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTlJQTtBQWdKQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXJKQTtBQXVKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FBWUE7QUFDQTtBQXhLQTtBQTBLQTtBQUVBO0FBR0E7QUFDQTtBQUFBOzs7Ozs7Ozs7QUFoTEE7QUFDQTtBQURBO0FBMExBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBVkE7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBVEE7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqU0E7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/ranking2dinterpreter.js\n");

/***/ }),

/***/ "./src/components/responseinterpreter.js":
/*!***********************************************!*\
  !*** ./src/components/responseinterpreter.js ***!
  \***********************************************/
/*! exports provided: Responseinterpreter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Responseinterpreter\", function() { return Responseinterpreter; });\nvar Responseinterpreter =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Created by tomaton on 10/21/2015.\n   */\n  function Responseinterpreter() {\n    this.answers = [];\n    this.lastotazka = '';\n    this.lastqcase = '';\n  }\n\n  var _proto = Responseinterpreter.prototype;\n\n  _proto.resetLast = function resetLast() {\n    this.lastqcase = '';\n    this.lastotazka = '';\n  };\n\n  _proto.addCase = function addCase(qcase) {\n    this.lastqcase += qcase;\n  };\n\n  _proto.setFullAnswer = function setFullAnswer(pageNum, questionNum, qcase, question, answer) {\n    //test if exists\n    //console.log(\"setanswer \" + pageNum + \" \" + questionNum+\" \"+qcase+\" \"+question+\":\", answer);\n    if (!this.answers[pageNum - 1]) this.answers[pageNum - 1] = []; //some workaround probably not needed more\n\n    if (!this.answers[pageNum - 1][questionNum - 1]) this.answers[pageNum - 1][questionNum - 1] = {};\n    this.answers[pageNum - 1][questionNum - 1].case = qcase;\n    this.answers[pageNum - 1][questionNum - 1].question = question;\n    setAnswer(pageNum, questionNum, answer);\n  } //sets default answer\n\n  /*Responses.prototype.setDefaultAnswer = function (pageNum, questionNum) {\n      return this.setDefaultAnswer(pageNum,questionNum,\"\");\n      // if (!this.answers[pageNum - 1] || !this.answers[pageNum - 1][questionNum - 1]) this.setFullAnswer(pageNum, questionNum, this.lastqcase,this.lastotazka,\"N/A\");\n  };\n   //sets default answer\n  Responses.prototype.setDefaultOptionalAnswer = function(pageNum, questionNum) {\n      return setDetaultOptionalAnswer(pageNum,questionNum,\"\");\n      //    if (!this.answers[pageNum - 1] || !this.answers[pageNum - 1][questionNum - 1]) this.setFullAnswer(pageNum, questionNum, this.lastqcase, this.lastotazka, \"\");\n  };*/\n  //sets default answer\n  ;\n\n  _proto.setDefaultAnswer = function setDefaultAnswer(pageNum, questionNum, suffix) {\n    var mysuffix = '';\n    if (suffix) mysuffix = suffix;\n    if (!this.answers[pageNum - 1] || !this.answers[pageNum - 1][questionNum - 1]) this.setFullAnswer(pageNum, questionNum, this.lastqcase, this.lastotazka + mysuffix, 'N/A');\n  } //sets default answer\n  ;\n\n  _proto.setDefaultOptionalAnswer = function setDefaultOptionalAnswer(pageNum, questionNum, suffix) {\n    var mysuffix = '';\n    if (suffix) mysuffix = suffix;\n    if (!this.answers[pageNum - 1] || !this.answers[pageNum - 1][questionNum - 1]) this.setFullAnswer(pageNum, questionNum, this.lastqcase, this.lastotazka + mysuffix, '');\n  }\n  /* executable function, can be called from html element*/\n  ;\n\n  _proto.setAnswer = function setAnswer(pageNum, questionNum, answer) {\n    if (answer.value) parser.result.answers[pageNum - 1][questionNum - 1].answer = answer.value;else parser.result.answers[pageNum - 1][questionNum - 1].answer = answer;\n    parser.result.answers[pageNum - 1][questionNum - 1].date = new Date();\n  };\n\n  _proto.setCheckAnswer = function setCheckAnswer(pageNum, questionNum, answer) {\n    if (answer.value) {\n      if (!parser.result.answers[pageNum - 1][questionNum - 1].hasOwnProperty('checkedvalues')) parser.result.answers[pageNum - 1][questionNum - 1].checkedvalues = [];\n      if (answer.checked) parser.result.answers[pageNum - 1][questionNum - 1].checkedvalues[answer.value] = answer.value;else if (parser.result.answers[pageNum - 1][questionNum - 1].checkedvalues.hasOwnProperty(answer.value)) delete parser.result.answers[pageNum - 1][questionNum - 1].checkedvalues[answer.value];\n      var currentanswer = '';\n      parser.result.answers[pageNum - 1][questionNum - 1].checkedvalues.forEach(function (item) {\n        if (parser.result.answers[pageNum - 1][questionNum - 1].checkedvalues[item]) currentanswer += item + ';';\n      }, this); //this is propagated to foreach callback\n\n      parser.result.answers[pageNum - 1][questionNum - 1].answer = currentanswer;\n    } //    else answers[pageNum - 1][questionNum - 1].answer = answer;\n\n\n    parser.result.answers[pageNum - 1][questionNum - 1].date = new Date();\n  };\n\n  return Responseinterpreter;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9yZXNwb25zZWludGVycHJldGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcmVzcG9uc2VpbnRlcnByZXRlci5qcz82MTY4Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBSZXNwb25zZWludGVycHJldGVyIHtcbiAgLyoqXG4gICAqIENyZWF0ZWQgYnkgdG9tYXRvbiBvbiAxMC8yMS8yMDE1LlxuICAgKi9cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmFuc3dlcnMgPSBbXTtcbiAgICB0aGlzLmxhc3RvdGF6a2EgPSAnJztcbiAgICB0aGlzLmxhc3RxY2FzZSA9ICcnO1xuICB9XG5cbiAgcmVzZXRMYXN0KCkge1xuICAgIHRoaXMubGFzdHFjYXNlID0gJyc7XG4gICAgdGhpcy5sYXN0b3RhemthID0gJyc7XG4gIH1cblxuICBhZGRDYXNlKHFjYXNlKSB7XG4gICAgdGhpcy5sYXN0cWNhc2UgKz0gcWNhc2U7XG4gIH1cblxuICBzZXRGdWxsQW5zd2VyKHBhZ2VOdW0sIHF1ZXN0aW9uTnVtLCBxY2FzZSwgcXVlc3Rpb24sIGFuc3dlcikge1xuICAgIC8vdGVzdCBpZiBleGlzdHNcbiAgICAvL2NvbnNvbGUubG9nKFwic2V0YW5zd2VyIFwiICsgcGFnZU51bSArIFwiIFwiICsgcXVlc3Rpb25OdW0rXCIgXCIrcWNhc2UrXCIgXCIrcXVlc3Rpb24rXCI6XCIsIGFuc3dlcik7XG4gICAgaWYgKCF0aGlzLmFuc3dlcnNbcGFnZU51bSAtIDFdKSB0aGlzLmFuc3dlcnNbcGFnZU51bSAtIDFdID0gW107IC8vc29tZSB3b3JrYXJvdW5kIHByb2JhYmx5IG5vdCBuZWVkZWQgbW9yZVxuICAgIGlmICghdGhpcy5hbnN3ZXJzW3BhZ2VOdW0gLSAxXVtxdWVzdGlvbk51bSAtIDFdKSB0aGlzLmFuc3dlcnNbcGFnZU51bSAtIDFdW3F1ZXN0aW9uTnVtIC0gMV0gPSB7fTtcbiAgICB0aGlzLmFuc3dlcnNbcGFnZU51bSAtIDFdW3F1ZXN0aW9uTnVtIC0gMV0uY2FzZSA9IHFjYXNlO1xuICAgIHRoaXMuYW5zd2Vyc1twYWdlTnVtIC0gMV1bcXVlc3Rpb25OdW0gLSAxXS5xdWVzdGlvbiA9IHF1ZXN0aW9uO1xuICAgIHNldEFuc3dlcihwYWdlTnVtLCBxdWVzdGlvbk51bSwgYW5zd2VyKTtcbiAgfVxuXG5cbiAgLy9zZXRzIGRlZmF1bHQgYW5zd2VyXG4gIC8qUmVzcG9uc2VzLnByb3RvdHlwZS5zZXREZWZhdWx0QW5zd2VyID0gZnVuY3Rpb24gKHBhZ2VOdW0sIHF1ZXN0aW9uTnVtKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXREZWZhdWx0QW5zd2VyKHBhZ2VOdW0scXVlc3Rpb25OdW0sXCJcIik7XG4gICAgICAvLyBpZiAoIXRoaXMuYW5zd2Vyc1twYWdlTnVtIC0gMV0gfHwgIXRoaXMuYW5zd2Vyc1twYWdlTnVtIC0gMV1bcXVlc3Rpb25OdW0gLSAxXSkgdGhpcy5zZXRGdWxsQW5zd2VyKHBhZ2VOdW0sIHF1ZXN0aW9uTnVtLCB0aGlzLmxhc3RxY2FzZSx0aGlzLmxhc3RvdGF6a2EsXCJOL0FcIik7XG4gIH07XG5cbiAgLy9zZXRzIGRlZmF1bHQgYW5zd2VyXG4gIFJlc3BvbnNlcy5wcm90b3R5cGUuc2V0RGVmYXVsdE9wdGlvbmFsQW5zd2VyID0gZnVuY3Rpb24ocGFnZU51bSwgcXVlc3Rpb25OdW0pIHtcbiAgICAgIHJldHVybiBzZXREZXRhdWx0T3B0aW9uYWxBbnN3ZXIocGFnZU51bSxxdWVzdGlvbk51bSxcIlwiKTtcbiAgICAgIC8vICAgIGlmICghdGhpcy5hbnN3ZXJzW3BhZ2VOdW0gLSAxXSB8fCAhdGhpcy5hbnN3ZXJzW3BhZ2VOdW0gLSAxXVtxdWVzdGlvbk51bSAtIDFdKSB0aGlzLnNldEZ1bGxBbnN3ZXIocGFnZU51bSwgcXVlc3Rpb25OdW0sIHRoaXMubGFzdHFjYXNlLCB0aGlzLmxhc3RvdGF6a2EsIFwiXCIpO1xuICB9OyovXG5cbiAgLy9zZXRzIGRlZmF1bHQgYW5zd2VyXG4gIHNldERlZmF1bHRBbnN3ZXIocGFnZU51bSwgcXVlc3Rpb25OdW0sIHN1ZmZpeCkge1xuICAgIGxldCBteXN1ZmZpeCA9ICcnOyAgICBpZiAoc3VmZml4KSBteXN1ZmZpeCA9IHN1ZmZpeDtcbiAgICBpZiAoIXRoaXMuYW5zd2Vyc1twYWdlTnVtIC0gMV0gfHwgIXRoaXMuYW5zd2Vyc1twYWdlTnVtIC0gMV1bcXVlc3Rpb25OdW0gLSAxXSkgdGhpcy5zZXRGdWxsQW5zd2VyKHBhZ2VOdW0sIHF1ZXN0aW9uTnVtLCB0aGlzLmxhc3RxY2FzZSwgdGhpcy5sYXN0b3RhemthICsgbXlzdWZmaXgsICdOL0EnKTtcbiAgfVxuXG4gIC8vc2V0cyBkZWZhdWx0IGFuc3dlclxuICBzZXREZWZhdWx0T3B0aW9uYWxBbnN3ZXIocGFnZU51bSwgcXVlc3Rpb25OdW0sIHN1ZmZpeCkge1xuICAgIGxldCBteXN1ZmZpeCA9ICcnOyAgICBpZiAoc3VmZml4KSBteXN1ZmZpeCA9IHN1ZmZpeDtcbiAgICBpZiAoIXRoaXMuYW5zd2Vyc1twYWdlTnVtIC0gMV0gfHwgIXRoaXMuYW5zd2Vyc1twYWdlTnVtIC0gMV1bcXVlc3Rpb25OdW0gLSAxXSkgdGhpcy5zZXRGdWxsQW5zd2VyKHBhZ2VOdW0sIHF1ZXN0aW9uTnVtLCB0aGlzLmxhc3RxY2FzZSwgdGhpcy5sYXN0b3RhemthICsgbXlzdWZmaXgsICcnKTtcbiAgfVxuXG5cbiAgLyogZXhlY3V0YWJsZSBmdW5jdGlvbiwgY2FuIGJlIGNhbGxlZCBmcm9tIGh0bWwgZWxlbWVudCovXG4gIHNldEFuc3dlcihwYWdlTnVtLCBxdWVzdGlvbk51bSwgYW5zd2VyKSB7XG4gICAgaWYgKGFuc3dlci52YWx1ZSkgcGFyc2VyLnJlc3VsdC5hbnN3ZXJzW3BhZ2VOdW0gLSAxXVtxdWVzdGlvbk51bSAtIDFdLmFuc3dlciA9IGFuc3dlci52YWx1ZTtcbiAgICBlbHNlIHBhcnNlci5yZXN1bHQuYW5zd2Vyc1twYWdlTnVtIC0gMV1bcXVlc3Rpb25OdW0gLSAxXS5hbnN3ZXIgPSBhbnN3ZXI7XG4gICAgcGFyc2VyLnJlc3VsdC5hbnN3ZXJzW3BhZ2VOdW0gLSAxXVtxdWVzdGlvbk51bSAtIDFdLmRhdGUgPSBuZXcgRGF0ZSgpO1xuICB9XG5cbiAgc2V0Q2hlY2tBbnN3ZXIocGFnZU51bSwgcXVlc3Rpb25OdW0sIGFuc3dlcikge1xuICAgIGlmIChhbnN3ZXIudmFsdWUpIHtcbiAgICAgIGlmICghcGFyc2VyLnJlc3VsdC5hbnN3ZXJzW3BhZ2VOdW0gLSAxXVtxdWVzdGlvbk51bSAtIDFdLmhhc093blByb3BlcnR5KCdjaGVja2VkdmFsdWVzJykpIHBhcnNlci5yZXN1bHQuYW5zd2Vyc1twYWdlTnVtIC0gMV1bcXVlc3Rpb25OdW0gLSAxXS5jaGVja2VkdmFsdWVzID0gW107XG4gICAgICBpZiAoYW5zd2VyLmNoZWNrZWQpIHBhcnNlci5yZXN1bHQuYW5zd2Vyc1twYWdlTnVtIC0gMV1bcXVlc3Rpb25OdW0gLSAxXS5jaGVja2VkdmFsdWVzW2Fuc3dlci52YWx1ZV0gPSBhbnN3ZXIudmFsdWU7XG4gICAgICBlbHNlIGlmIChwYXJzZXIucmVzdWx0LmFuc3dlcnNbcGFnZU51bSAtIDFdW3F1ZXN0aW9uTnVtIC0gMV0uY2hlY2tlZHZhbHVlcy5oYXNPd25Qcm9wZXJ0eShhbnN3ZXIudmFsdWUpKSBkZWxldGUgcGFyc2VyLnJlc3VsdC5hbnN3ZXJzW3BhZ2VOdW0gLSAxXVtxdWVzdGlvbk51bSAtIDFdLmNoZWNrZWR2YWx1ZXNbYW5zd2VyLnZhbHVlXTtcbiAgICAgIGxldCBjdXJyZW50YW5zd2VyID0gJyc7XG4gICAgICBwYXJzZXIucmVzdWx0LmFuc3dlcnNbcGFnZU51bSAtIDFdW3F1ZXN0aW9uTnVtIC0gMV0uY2hlY2tlZHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaWYgKHBhcnNlci5yZXN1bHQuYW5zd2Vyc1twYWdlTnVtIC0gMV1bcXVlc3Rpb25OdW0gLSAxXS5jaGVja2VkdmFsdWVzW2l0ZW1dKSBjdXJyZW50YW5zd2VyICs9IGl0ZW0gKyAnOyc7XG4gICAgICB9LCB0aGlzKTsgLy90aGlzIGlzIHByb3BhZ2F0ZWQgdG8gZm9yZWFjaCBjYWxsYmFja1xuICAgICAgcGFyc2VyLnJlc3VsdC5hbnN3ZXJzW3BhZ2VOdW0gLSAxXVtxdWVzdGlvbk51bSAtIDFdLmFuc3dlciA9IGN1cnJlbnRhbnN3ZXI7XG4gICAgfVxuICAgIC8vICAgIGVsc2UgYW5zd2Vyc1twYWdlTnVtIC0gMV1bcXVlc3Rpb25OdW0gLSAxXS5hbnN3ZXIgPSBhbnN3ZXI7XG4gICAgcGFyc2VyLnJlc3VsdC5hbnN3ZXJzW3BhZ2VOdW0gLSAxXVtxdWVzdGlvbk51bSAtIDFdLmRhdGUgPSBuZXcgRGF0ZSgpO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFDQTtBQURBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFmQTtBQWlCQTtBQUNBO0FBQ0E7QUFuQkE7QUFxQkE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7Ozs7Ozs7O0FBV0E7QUEzQ0E7QUFDQTtBQURBO0FBNkNBO0FBQUE7QUFDQTtBQUNBO0FBL0NBO0FBQ0E7QUFEQTtBQW1EQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBeERBO0FBQ0E7QUFEQTtBQTBEQTtBQUVBO0FBQ0E7QUFDQTtBQTlEQTtBQWdFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUE3RUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/responseinterpreter.js\n");

/***/ }),

/***/ "./src/components/stimulusinterpreter.js":
/*!***********************************************!*\
  !*** ./src/components/stimulusinterpreter.js ***!
  \***********************************************/
/*! exports provided: Stimulusinterpreter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Stimulusinterpreter\", function() { return Stimulusinterpreter; });\n/* harmony import */ var _interpreter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./interpreter */ \"./src/components/interpreter.js\");\n\nvar Stimulusinterpreter =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Created by tomaton on 10/21/2015.\n   */\n  //main object\n  function Stimulusinterpreter(parent) {\n    this.navelement = false;\n    this.divelement = false;\n    this.audioid = 0;\n    this.SOUNDDIR = '/stimuli/';\n    this.parentinterpretter = parent; //this.sloupce = false;\n  }\n  /* separates non-stimulus part of test */\n\n\n  var _proto = Stimulusinterpreter.prototype;\n\n  _proto.translateNonZvuk = function translateNonZvuk(row) {\n    if (this.navelement) {\n      this.navelement = false;\n      this.divelement = true;\n      return \"</nav><div class='task' id='questions'>\\n\";\n    }\n\n    if (!this.divelement) {\n      this.divelement = true;\n      return \"<div class='task' id='questions'>\\n\";\n    }\n\n    return '';\n  }\n  /* close unclosed <div>*/\n  ;\n\n  _proto.closeQuestionDiv = function closeQuestionDiv() {\n    if (this.divelement) {\n      this.divelement = false;\n      return \"<p class='footer'></p></div>\";\n    }\n\n    return '';\n  }\n  /* same name different extension => <audio> with different sources, different names => different <audios>\n   * translates \"zvuk [filename2.wav] [filename2.ogg]\" to HTML representation of sound player to one or both formats wav, ogg\n   * translates \"zvuk [file1.wav] [file1.ogg] [file2.wav] [file3.wav] into tuple of buttons file1 has 2 sources with ogg and wav, file2 and file3 has one source with wav\n   */\n  ;\n\n  _proto.openAudio = function openAudio(sloupce) {\n    if (!sloupce && !this.navelement) {\n      this.navelement = true;\n\n      switch (this.tagtype) {\n        case 'mp4':\n          this.tags.push(\"<nav class='stimulus videos'>\"); //video takes more space\n\n          break;\n\n        case 'png':\n        case 'jpg':\n          this.tags.push(\"<nav class='stimulus pictures'>\"); //image takes variable space\n\n          break;\n\n        case 'txt':\n          this.tags.push(\"<nav class='stimulus txts'>\"); //text takes more space\n\n          break;\n\n        default:\n          this.tags.push(\"<nav class='stimulus sounds'>\");\n        //audio on left 10 % collumn\n      }\n    }\n\n    switch (this.tagtype) {\n      case 'mp4':\n        this.currentTag.push(\"<video style='max-width:100%;' id='video\" + this.audioid++ + \"' width='480' height='360' controls>\");\n        break;\n\n      case 'png':\n      case 'jpg':\n        this.currentTag.push(\"<img style='width:100%;' id='image\" + this.audioid++ + \"'\"); //imageo takes more space\n\n        break;\n\n      case 'txt':\n        this.currentTag.push(\"<p id='text\" + this.audioid++ + \"'>\"); //text takes more space\n\n        break;\n\n      default:\n        this.inputindex = this.currentTag.length;\n        this.currentTag.push(\"<input class='sound-button' type='button' onclick='document.getElementById(\\\"audio\" + this.audioid + \"\\\").play();' value='play'/><audio id='audio\" + this.audioid++ + \"'>\");\n        break;\n    }\n  } //add range playing of sound\n  ;\n\n  _proto.repairLastAudio = function repairLastAudio(rowsplitted) {\n    //preserve that\n    switch (this.tagtype) {\n      case 'mp4':\n      case 'png':\n      case 'jpg':\n      case 'txt':\n        console.log('Error, expected audio for range playing');\n        break;\n\n      default:\n        var re2 = /[\\[\\],]/; // fix feature bug #240, coma ',' is used to separate interval numbers\n\n        var rowsplitted2 = rowsplitted.split(re2);\n        var starttime = rowsplitted2[1]; //[10,10] is separates as [0] is empty, [1] is 10, [2] is 10 [3] is empty\n\n        var duration = rowsplitted2[2];\n        this.audioid--; //will repair the last audio\n\n        this.currentTag[this.inputindex] = \"<input type='button' onclick='playAudioPart(document.getElementById(\\\"audio\" + this.audioid + '\"),' + starttime + ',' + duration + \");' value='play'/><audio id='audio\" + this.audioid++ + \"'>\";\n    }\n  } //close <audio> tag\n  ;\n\n  _proto.closeAudio = function closeAudio() {\n    switch (this.tagtype) {\n      case 'mp4':\n        this.currentTag.push('Your browser does not support the video element.</video>\\n');\n        break;\n\n      case 'png':\n      case 'jpg':\n        this.currentTag.push('/>');\n        break;\n\n      case 'txt':\n        this.currentTag.push('</p>');\n        break;\n\n      default:\n        this.currentTag.push('Your browser does not support the audio element.</audio>\\n');\n    } //adds copy of current tag to the array of tags dedicated to unique stimulus\n\n\n    this.tags.push(this.currentTag.join('')); //nulls the current tag so new content audio/video can be inserted\n\n    this.currentTag = [];\n  } //add <source> of the <audio> <video and src of the image\n  ;\n\n  _proto.addSource = function addSource() {\n    switch (this.tagtype) {\n      case 'mp4':\n        this.currentTag.push(\"<source src='\" + this.SOUNDDIR + this.currentsound[0] + '.' + this.currentsound[1] + \"' type='audio/\"); //+rowsplitted[j+1]+\"'>';\n\n        this.currentTag.push(\"mpeg'>\");\n        break;\n\n      case 'png':\n      case 'jpg':\n        this.currentTag.push(\" src='\" + this.SOUNDDIR + this.currentsound[0] + '.' + this.currentsound[1] + \"'\");\n        break;\n\n      case 'txt':\n        //loads the content of the txt file\n        this.currentTag.push(\"<span src='\" + this.SOUNDDIR + this.currentsound[0] + '.' + this.currentsound[1] + \"'/>\"); //to hold the source\n\n        this.currentTag.push(\"</p><script>$('#text\" + (this.audioid - 1) + \"').load('\" + this.SOUNDDIR + this.currentsound[0] + '.' + this.currentsound[1] + \"')</script>\");\n        break;\n\n      default:\n        this.currentTag.push(\"<source src='\" + this.SOUNDDIR + this.currentsound[0] + '.' + this.currentsound[1] + \"' type='audio/\"); //+rowsplitted[j+1]+\"'>';\n\n        this.currentTag.push(this.currentsound[1] + \"'>\");\n    }\n\n    this.lastsoundname = this.currentsound[0];\n  }\n  /*\n  Stimulus.prototype.firstscreenaudioid= function()\n  {\n  //    this.audioid = 0\n  //    this.firstscreenaudioid = this.audioid;\n  }\n  */\n  ;\n\n  _proto.translateZvuk = function translateZvuk(rowsplitted, poradivnticinahodne, result, sloupce) {\n    var j = 1;\n    this.lastsoundname = '';\n    this.tagtype = rowsplitted[j].slice(rowsplitted[j].length - 3, rowsplitted[j].length).toLowerCase(); // || rowsplitted[j].startsWith('v_');\n\n    this.tags = [];\n    this.currentTag = [];\n    this.currentsound = [];\n    this.inputindex = 0;\n    if (sloupce) this.currentTag.push(\"<td class='stimulus'>\");\n    /* open initial tag */\n\n    this.openAudio(sloupce);\n\n    while (j < rowsplitted.length) {\n      this.currentsound = rowsplitted[j].split('.'); //if (!quotes)\n\n      if (this.lastsoundname === '' || this.lastsoundname === this.currentsound[0]) {\n        //add only new source type (wav,ogg), if soundname is same and only extension differs\n        this.addSource();\n        j++;\n      } else if (rowsplitted[j].startsWith('[')) {\n        //interval of previous sound\n        this.repairLastAudio(rowsplitted[j]);\n        j++; //skip the interval in [..]\n      } else {\n        //add new audio, different sound and it's source if different name\n        this.closeAudio();\n        this.openAudio(sloupce);\n        this.addSource();\n        j++;\n      } //bug in feature #235, must randomize also the case order\n      //lastqcase += rowsplitted[j] + \".\" + rowsplitted[j + 1] + \" \"; //adds sound to qcase structure\n\n    }\n    /* close last tag*/\n\n\n    this.closeAudio();\n    /* shuffle if needed */\n\n    if (poradivnticinahodne) {\n      //keep first <nav>,\n      var mytag = this.tags.shift(); //shuffle\n\n      this.tags.shuffle(); //adds first <nav>\n\n      this.tags.unshift(mytag);\n    } //gets filenames from the tags to keep order of cases in result, fix of feature #235, for starts from 1, 0 is <nav>, if sloupce then starts from 0 (no <nav> element\n    //added sloupce?0:1 and parser.result.addCase() fix bug #284\n\n\n    for (var k = sloupce ? 0 : 1; k < this.tags.length; k++) {\n      this.parentinterpretter.result.addCase(_interpreter__WEBPACK_IMPORTED_MODULE_0__[\"Interpreter\"].extract(this.tags[k].match(/src='([^']*)'/)[1], this.SOUNDDIR) + ' ');\n    } //translatedRows = tags.join\n\n\n    return this.tags.join(' ');\n  }\n  /* executive part of the audio\n   playing part of the audio,\n   audio element is expected as the calling argument,\n   e.g. document.getElementById('myAudio') */\n  ;\n\n  _proto.stopAudio = function stopAudio(audio) {\n    audio.pause();\n  }\n  /* starts playing at \"start\" position and stops after specified duration\n   \"start\" and \"duration\" in milliseconds\n   */\n  ;\n\n  _proto.playAudioPart = function playAudioPart(audio, start, duration) {\n    audio.currentTime = start / 1000; //in seconds\n\n    audio.play();\n    setTimeout(stopAudio, duration, audio); //in milliseconds\n  };\n\n  return Stimulusinterpreter;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9zdGltdWx1c2ludGVycHJldGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RpbXVsdXNpbnRlcnByZXRlci5qcz82MmEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SW50ZXJwcmV0ZXJ9IGZyb20gJy4vaW50ZXJwcmV0ZXInO1xuXG5cbmV4cG9ydCBjbGFzcyBTdGltdWx1c2ludGVycHJldGVyIHtcbiAgLyoqXG4gICAqIENyZWF0ZWQgYnkgdG9tYXRvbiBvbiAxMC8yMS8yMDE1LlxuICAgKi9cbiAgLy9tYWluIG9iamVjdFxuICBjb25zdHJ1Y3RvcihwYXJlbnQpIHtcbiAgICB0aGlzLm5hdmVsZW1lbnQgPSBmYWxzZTtcbiAgICB0aGlzLmRpdmVsZW1lbnQgPSBmYWxzZTtcbiAgICB0aGlzLmF1ZGlvaWQgPSAwO1xuICAgIHRoaXMuU09VTkRESVIgPSAnL3N0aW11bGkvJztcbiAgICB0aGlzLnBhcmVudGludGVycHJldHRlciA9IHBhcmVudDtcbiAgICAvL3RoaXMuc2xvdXBjZSA9IGZhbHNlO1xuICB9XG4gIC8qIHNlcGFyYXRlcyBub24tc3RpbXVsdXMgcGFydCBvZiB0ZXN0ICovXG4gIHRyYW5zbGF0ZU5vblp2dWsocm93KSB7XG4gICAgaWYgKHRoaXMubmF2ZWxlbWVudCkge1xuICAgICAgdGhpcy5uYXZlbGVtZW50ID0gZmFsc2U7XG4gICAgICB0aGlzLmRpdmVsZW1lbnQgPSB0cnVlO1xuICAgICAgcmV0dXJuIFwiPC9uYXY+PGRpdiBjbGFzcz0ndGFzaycgaWQ9J3F1ZXN0aW9ucyc+XFxuXCI7XG4gICAgfVxuICAgIGlmICghdGhpcy5kaXZlbGVtZW50KSB7XG4gICAgICB0aGlzLmRpdmVsZW1lbnQgPSB0cnVlO1xuICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0ndGFzaycgaWQ9J3F1ZXN0aW9ucyc+XFxuXCI7XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIC8qIGNsb3NlIHVuY2xvc2VkIDxkaXY+Ki9cbiAgY2xvc2VRdWVzdGlvbkRpdigpIHtcbiAgICBpZiAodGhpcy5kaXZlbGVtZW50KSB7XG4gICAgICB0aGlzLmRpdmVsZW1lbnQgPSBmYWxzZTtcbiAgICAgIHJldHVybiBcIjxwIGNsYXNzPSdmb290ZXInPjwvcD48L2Rpdj5cIjtcbiAgICB9IHJldHVybiAnJztcbiAgfVxuXG4gIC8qIHNhbWUgbmFtZSBkaWZmZXJlbnQgZXh0ZW5zaW9uID0+IDxhdWRpbz4gd2l0aCBkaWZmZXJlbnQgc291cmNlcywgZGlmZmVyZW50IG5hbWVzID0+IGRpZmZlcmVudCA8YXVkaW9zPlxuICAgKiB0cmFuc2xhdGVzIFwienZ1ayBbZmlsZW5hbWUyLndhdl0gW2ZpbGVuYW1lMi5vZ2ddXCIgdG8gSFRNTCByZXByZXNlbnRhdGlvbiBvZiBzb3VuZCBwbGF5ZXIgdG8gb25lIG9yIGJvdGggZm9ybWF0cyB3YXYsIG9nZ1xuICAgKiB0cmFuc2xhdGVzIFwienZ1ayBbZmlsZTEud2F2XSBbZmlsZTEub2dnXSBbZmlsZTIud2F2XSBbZmlsZTMud2F2XSBpbnRvIHR1cGxlIG9mIGJ1dHRvbnMgZmlsZTEgaGFzIDIgc291cmNlcyB3aXRoIG9nZyBhbmQgd2F2LCBmaWxlMiBhbmQgZmlsZTMgaGFzIG9uZSBzb3VyY2Ugd2l0aCB3YXZcbiAgICovXG5cbiAgb3BlbkF1ZGlvKHNsb3VwY2UpIHtcbiAgICBpZiAoIXNsb3VwY2UgJiYgIXRoaXMubmF2ZWxlbWVudCkge1xuICAgICAgdGhpcy5uYXZlbGVtZW50ID0gdHJ1ZTtcbiAgICAgIHN3aXRjaCAodGhpcy50YWd0eXBlKSB7XG4gICAgICBjYXNlICdtcDQnOlxuICAgICAgICB0aGlzLnRhZ3MucHVzaChcIjxuYXYgY2xhc3M9J3N0aW11bHVzIHZpZGVvcyc+XCIpOyAvL3ZpZGVvIHRha2VzIG1vcmUgc3BhY2VcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdwbmcnOlxuICAgICAgY2FzZSAnanBnJzpcbiAgICAgICAgdGhpcy50YWdzLnB1c2goXCI8bmF2IGNsYXNzPSdzdGltdWx1cyBwaWN0dXJlcyc+XCIpOyAvL2ltYWdlIHRha2VzIHZhcmlhYmxlIHNwYWNlXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndHh0JzpcbiAgICAgICAgdGhpcy50YWdzLnB1c2goXCI8bmF2IGNsYXNzPSdzdGltdWx1cyB0eHRzJz5cIik7IC8vdGV4dCB0YWtlcyBtb3JlIHNwYWNlXG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy50YWdzLnB1c2goXCI8bmF2IGNsYXNzPSdzdGltdWx1cyBzb3VuZHMnPlwiKTsgLy9hdWRpbyBvbiBsZWZ0IDEwICUgY29sbHVtblxuICAgICAgfVxuICAgIH1cblxuICAgIHN3aXRjaCAodGhpcy50YWd0eXBlKSB7XG4gICAgY2FzZSAnbXA0JzpcbiAgICAgIHRoaXMuY3VycmVudFRhZy5wdXNoKFwiPHZpZGVvIHN0eWxlPSdtYXgtd2lkdGg6MTAwJTsnIGlkPSd2aWRlb1wiICsgKHRoaXMuYXVkaW9pZCsrKSArIFwiJyB3aWR0aD0nNDgwJyBoZWlnaHQ9JzM2MCcgY29udHJvbHM+XCIpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAncG5nJzpcbiAgICBjYXNlICdqcGcnOlxuICAgICAgdGhpcy5jdXJyZW50VGFnLnB1c2goXCI8aW1nIHN0eWxlPSd3aWR0aDoxMDAlOycgaWQ9J2ltYWdlXCIgKyAodGhpcy5hdWRpb2lkKyspICsgXCInXCIpOyAvL2ltYWdlbyB0YWtlcyBtb3JlIHNwYWNlXG4gICAgICBicmVhaztcbiAgICBjYXNlICd0eHQnOlxuICAgICAgdGhpcy5jdXJyZW50VGFnLnB1c2goXCI8cCBpZD0ndGV4dFwiICsgKHRoaXMuYXVkaW9pZCsrKSArIFwiJz5cIik7IC8vdGV4dCB0YWtlcyBtb3JlIHNwYWNlXG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhpcy5pbnB1dGluZGV4ID0gdGhpcy5jdXJyZW50VGFnLmxlbmd0aDtcbiAgICAgIHRoaXMuY3VycmVudFRhZy5wdXNoKFwiPGlucHV0IGNsYXNzPSdzb3VuZC1idXR0b24nIHR5cGU9J2J1dHRvbicgb25jbGljaz0nZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXFxcImF1ZGlvXCIgKyB0aGlzLmF1ZGlvaWQgKyBcIlxcXCIpLnBsYXkoKTsnIHZhbHVlPSdwbGF5Jy8+PGF1ZGlvIGlkPSdhdWRpb1wiICsgKHRoaXMuYXVkaW9pZCsrKSArIFwiJz5cIik7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvL2FkZCByYW5nZSBwbGF5aW5nIG9mIHNvdW5kXG4gIHJlcGFpckxhc3RBdWRpbyhyb3dzcGxpdHRlZCkge1xuICAgIC8vcHJlc2VydmUgdGhhdFxuICAgIHN3aXRjaCAodGhpcy50YWd0eXBlKSB7XG4gICAgY2FzZSAnbXA0JzpcbiAgICBjYXNlICdwbmcnOlxuICAgIGNhc2UgJ2pwZyc6XG4gICAgY2FzZSAndHh0JzpcbiAgICAgIGNvbnNvbGUubG9nKCdFcnJvciwgZXhwZWN0ZWQgYXVkaW8gZm9yIHJhbmdlIHBsYXlpbmcnKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBsZXQgcmUyID0gL1tcXFtcXF0sXS87IC8vIGZpeCBmZWF0dXJlIGJ1ZyAjMjQwLCBjb21hICcsJyBpcyB1c2VkIHRvIHNlcGFyYXRlIGludGVydmFsIG51bWJlcnNcbiAgICAgIGxldCByb3dzcGxpdHRlZDIgPSByb3dzcGxpdHRlZC5zcGxpdChyZTIpO1xuICAgICAgbGV0IHN0YXJ0dGltZSA9IHJvd3NwbGl0dGVkMlsxXTsgLy9bMTAsMTBdIGlzIHNlcGFyYXRlcyBhcyBbMF0gaXMgZW1wdHksIFsxXSBpcyAxMCwgWzJdIGlzIDEwIFszXSBpcyBlbXB0eVxuICAgICAgbGV0IGR1cmF0aW9uID0gcm93c3BsaXR0ZWQyWzJdO1xuICAgICAgdGhpcy5hdWRpb2lkLS07IC8vd2lsbCByZXBhaXIgdGhlIGxhc3QgYXVkaW9cbiAgICAgIHRoaXMuY3VycmVudFRhZ1t0aGlzLmlucHV0aW5kZXhdID0gXCI8aW5wdXQgdHlwZT0nYnV0dG9uJyBvbmNsaWNrPSdwbGF5QXVkaW9QYXJ0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxcXCJhdWRpb1wiICsgdGhpcy5hdWRpb2lkICsgJ1wiKSwnICsgc3RhcnR0aW1lICsgJywnICsgZHVyYXRpb24gKyBcIik7JyB2YWx1ZT0ncGxheScvPjxhdWRpbyBpZD0nYXVkaW9cIiArICh0aGlzLmF1ZGlvaWQrKykgKyBcIic+XCI7XG4gICAgfVxuICB9XG5cbiAgLy9jbG9zZSA8YXVkaW8+IHRhZ1xuICBjbG9zZUF1ZGlvKCkge1xuICAgIHN3aXRjaCAodGhpcy50YWd0eXBlKSB7XG4gICAgY2FzZSAnbXA0JzpcbiAgICAgIHRoaXMuY3VycmVudFRhZy5wdXNoKCdZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgdmlkZW8gZWxlbWVudC48L3ZpZGVvPlxcbicpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAncG5nJzpcbiAgICBjYXNlICdqcGcnOlxuICAgICAgdGhpcy5jdXJyZW50VGFnLnB1c2goJy8+Jyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd0eHQnOlxuICAgICAgdGhpcy5jdXJyZW50VGFnLnB1c2goJzwvcD4nKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aGlzLmN1cnJlbnRUYWcucHVzaCgnWW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdGhlIGF1ZGlvIGVsZW1lbnQuPC9hdWRpbz5cXG4nKTtcbiAgICB9XG4gICAgLy9hZGRzIGNvcHkgb2YgY3VycmVudCB0YWcgdG8gdGhlIGFycmF5IG9mIHRhZ3MgZGVkaWNhdGVkIHRvIHVuaXF1ZSBzdGltdWx1c1xuICAgIHRoaXMudGFncy5wdXNoKHRoaXMuY3VycmVudFRhZy5qb2luKCcnKSk7XG4gICAgLy9udWxscyB0aGUgY3VycmVudCB0YWcgc28gbmV3IGNvbnRlbnQgYXVkaW8vdmlkZW8gY2FuIGJlIGluc2VydGVkXG4gICAgdGhpcy5jdXJyZW50VGFnID0gW107XG4gIH1cblxuICAvL2FkZCA8c291cmNlPiBvZiB0aGUgPGF1ZGlvPiA8dmlkZW8gYW5kIHNyYyBvZiB0aGUgaW1hZ2VcbiAgYWRkU291cmNlKCkge1xuICAgIHN3aXRjaCAodGhpcy50YWd0eXBlKSB7XG4gICAgY2FzZSAnbXA0JzpcbiAgICAgIHRoaXMuY3VycmVudFRhZy5wdXNoKFwiPHNvdXJjZSBzcmM9J1wiICsgdGhpcy5TT1VORERJUiArIHRoaXMuY3VycmVudHNvdW5kWzBdICsgJy4nICsgdGhpcy5jdXJyZW50c291bmRbMV0gKyBcIicgdHlwZT0nYXVkaW8vXCIpOyAvLytyb3dzcGxpdHRlZFtqKzFdK1wiJz4nO1xuICAgICAgdGhpcy5jdXJyZW50VGFnLnB1c2goXCJtcGVnJz5cIik7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdwbmcnOlxuICAgIGNhc2UgJ2pwZyc6XG4gICAgICB0aGlzLmN1cnJlbnRUYWcucHVzaChcIiBzcmM9J1wiICsgdGhpcy5TT1VORERJUiArIHRoaXMuY3VycmVudHNvdW5kWzBdICsgJy4nICsgdGhpcy5jdXJyZW50c291bmRbMV0gKyBcIidcIik7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd0eHQnOiAvL2xvYWRzIHRoZSBjb250ZW50IG9mIHRoZSB0eHQgZmlsZVxuICAgICAgdGhpcy5jdXJyZW50VGFnLnB1c2goXCI8c3BhbiBzcmM9J1wiICsgdGhpcy5TT1VORERJUiArIHRoaXMuY3VycmVudHNvdW5kWzBdICsgJy4nICsgdGhpcy5jdXJyZW50c291bmRbMV0gKyBcIicvPlwiKTsgLy90byBob2xkIHRoZSBzb3VyY2VcbiAgICAgIHRoaXMuY3VycmVudFRhZy5wdXNoKFwiPC9wPjxzY3JpcHQ+JCgnI3RleHRcIiArICh0aGlzLmF1ZGlvaWQgLSAxKSArIFwiJykubG9hZCgnXCIgKyB0aGlzLlNPVU5ERElSICsgdGhpcy5jdXJyZW50c291bmRbMF0gKyAnLicgKyB0aGlzLmN1cnJlbnRzb3VuZFsxXSArIFwiJyk8L3NjcmlwdD5cIik7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhpcy5jdXJyZW50VGFnLnB1c2goXCI8c291cmNlIHNyYz0nXCIgKyB0aGlzLlNPVU5ERElSICsgdGhpcy5jdXJyZW50c291bmRbMF0gKyAnLicgKyB0aGlzLmN1cnJlbnRzb3VuZFsxXSArIFwiJyB0eXBlPSdhdWRpby9cIik7IC8vK3Jvd3NwbGl0dGVkW2orMV0rXCInPic7XG4gICAgICB0aGlzLmN1cnJlbnRUYWcucHVzaCh0aGlzLmN1cnJlbnRzb3VuZFsxXSArIFwiJz5cIik7XG4gICAgfVxuXG4gICAgdGhpcy5sYXN0c291bmRuYW1lID0gdGhpcy5jdXJyZW50c291bmRbMF07XG4gIH1cbiAgLypcbiAgU3RpbXVsdXMucHJvdG90eXBlLmZpcnN0c2NyZWVuYXVkaW9pZD0gZnVuY3Rpb24oKVxuICB7XG4gIC8vICAgIHRoaXMuYXVkaW9pZCA9IDBcbiAgLy8gICAgdGhpcy5maXJzdHNjcmVlbmF1ZGlvaWQgPSB0aGlzLmF1ZGlvaWQ7XG4gIH1cbiAgKi9cblxuICB0cmFuc2xhdGVadnVrKHJvd3NwbGl0dGVkLCBwb3JhZGl2bnRpY2luYWhvZG5lLCByZXN1bHQsIHNsb3VwY2UpIHtcbiAgICBsZXQgaiA9IDE7XG4gICAgdGhpcy5sYXN0c291bmRuYW1lID0gJyc7XG4gICAgdGhpcy50YWd0eXBlID0gcm93c3BsaXR0ZWRbal0uc2xpY2Uocm93c3BsaXR0ZWRbal0ubGVuZ3RoIC0gMywgcm93c3BsaXR0ZWRbal0ubGVuZ3RoKS50b0xvd2VyQ2FzZSgpOy8vIHx8IHJvd3NwbGl0dGVkW2pdLnN0YXJ0c1dpdGgoJ3ZfJyk7XG5cbiAgICB0aGlzLnRhZ3MgPSBbXTtcbiAgICB0aGlzLmN1cnJlbnRUYWcgPSBbXTtcbiAgICB0aGlzLmN1cnJlbnRzb3VuZCA9IFtdO1xuICAgIHRoaXMuaW5wdXRpbmRleCA9IDA7XG4gICAgaWYgKHNsb3VwY2UpIHRoaXMuY3VycmVudFRhZy5wdXNoKFwiPHRkIGNsYXNzPSdzdGltdWx1cyc+XCIpO1xuICAgIC8qIG9wZW4gaW5pdGlhbCB0YWcgKi9cbiAgICB0aGlzLm9wZW5BdWRpbyhzbG91cGNlKTtcblxuICAgIHdoaWxlIChqIDwgcm93c3BsaXR0ZWQubGVuZ3RoKSB7XG4gICAgICB0aGlzLmN1cnJlbnRzb3VuZCA9IHJvd3NwbGl0dGVkW2pdLnNwbGl0KCcuJyk7XG4gICAgICAvL2lmICghcXVvdGVzKVxuICAgICAgaWYgKCh0aGlzLmxhc3Rzb3VuZG5hbWUgPT09ICcnKSB8fCAodGhpcy5sYXN0c291bmRuYW1lID09PSB0aGlzLmN1cnJlbnRzb3VuZFswXSkpIHtcbiAgICAgICAgLy9hZGQgb25seSBuZXcgc291cmNlIHR5cGUgKHdhdixvZ2cpLCBpZiBzb3VuZG5hbWUgaXMgc2FtZSBhbmQgb25seSBleHRlbnNpb24gZGlmZmVyc1xuICAgICAgICB0aGlzLmFkZFNvdXJjZSgpO1xuICAgICAgICBqKys7XG4gICAgICB9IGVsc2UgaWYgKHJvd3NwbGl0dGVkW2pdLnN0YXJ0c1dpdGgoJ1snKSkge1xuICAgICAgICAvL2ludGVydmFsIG9mIHByZXZpb3VzIHNvdW5kXG4gICAgICAgIHRoaXMucmVwYWlyTGFzdEF1ZGlvKHJvd3NwbGl0dGVkW2pdKTtcbiAgICAgICAgaisrOyAvL3NraXAgdGhlIGludGVydmFsIGluIFsuLl1cbiAgICAgIH0gZWxzZSB7Ly9hZGQgbmV3IGF1ZGlvLCBkaWZmZXJlbnQgc291bmQgYW5kIGl0J3Mgc291cmNlIGlmIGRpZmZlcmVudCBuYW1lXG4gICAgICAgIHRoaXMuY2xvc2VBdWRpbygpO1xuICAgICAgICB0aGlzLm9wZW5BdWRpbyhzbG91cGNlKTtcbiAgICAgICAgdGhpcy5hZGRTb3VyY2UoKTtcbiAgICAgICAgaisrO1xuICAgICAgfVxuICAgICAgLy9idWcgaW4gZmVhdHVyZSAjMjM1LCBtdXN0IHJhbmRvbWl6ZSBhbHNvIHRoZSBjYXNlIG9yZGVyXG4gICAgICAvL2xhc3RxY2FzZSArPSByb3dzcGxpdHRlZFtqXSArIFwiLlwiICsgcm93c3BsaXR0ZWRbaiArIDFdICsgXCIgXCI7IC8vYWRkcyBzb3VuZCB0byBxY2FzZSBzdHJ1Y3R1cmVcbiAgICB9XG4gICAgLyogY2xvc2UgbGFzdCB0YWcqL1xuICAgIHRoaXMuY2xvc2VBdWRpbygpO1xuXG4gICAgLyogc2h1ZmZsZSBpZiBuZWVkZWQgKi9cbiAgICBpZiAocG9yYWRpdm50aWNpbmFob2RuZSkge1xuICAgICAgLy9rZWVwIGZpcnN0IDxuYXY+LFxuICAgICAgbGV0IG15dGFnID0gdGhpcy50YWdzLnNoaWZ0KCk7XG4gICAgICAvL3NodWZmbGVcbiAgICAgIHRoaXMudGFncy5zaHVmZmxlKCk7XG4gICAgICAvL2FkZHMgZmlyc3QgPG5hdj5cbiAgICAgIHRoaXMudGFncy51bnNoaWZ0KG15dGFnKTtcbiAgICB9XG4gICAgLy9nZXRzIGZpbGVuYW1lcyBmcm9tIHRoZSB0YWdzIHRvIGtlZXAgb3JkZXIgb2YgY2FzZXMgaW4gcmVzdWx0LCBmaXggb2YgZmVhdHVyZSAjMjM1LCBmb3Igc3RhcnRzIGZyb20gMSwgMCBpcyA8bmF2PiwgaWYgc2xvdXBjZSB0aGVuIHN0YXJ0cyBmcm9tIDAgKG5vIDxuYXY+IGVsZW1lbnRcbiAgICAvL2FkZGVkIHNsb3VwY2U/MDoxIGFuZCBwYXJzZXIucmVzdWx0LmFkZENhc2UoKSBmaXggYnVnICMyODRcbiAgICBmb3IgKGxldCBrID0gc2xvdXBjZSA/IDAgOiAxOyBrIDwgdGhpcy50YWdzLmxlbmd0aDsgaysrKSB0aGlzLnBhcmVudGludGVycHJldHRlci5yZXN1bHQuYWRkQ2FzZShJbnRlcnByZXRlci5leHRyYWN0KHRoaXMudGFnc1trXS5tYXRjaCgvc3JjPScoW14nXSopJy8pWzFdLCB0aGlzLlNPVU5ERElSKSArICcgJyk7XG4gICAgLy90cmFuc2xhdGVkUm93cyA9IHRhZ3Muam9pblxuICAgIHJldHVybiB0aGlzLnRhZ3Muam9pbignICcpO1xuICB9XG5cbiAgLyogZXhlY3V0aXZlIHBhcnQgb2YgdGhlIGF1ZGlvXG4gICBwbGF5aW5nIHBhcnQgb2YgdGhlIGF1ZGlvLFxuICAgYXVkaW8gZWxlbWVudCBpcyBleHBlY3RlZCBhcyB0aGUgY2FsbGluZyBhcmd1bWVudCxcbiAgIGUuZy4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215QXVkaW8nKSAqL1xuICBzdG9wQXVkaW8oYXVkaW8pIHtcbiAgICBhdWRpby5wYXVzZSgpO1xuICB9XG5cbiAgLyogc3RhcnRzIHBsYXlpbmcgYXQgXCJzdGFydFwiIHBvc2l0aW9uIGFuZCBzdG9wcyBhZnRlciBzcGVjaWZpZWQgZHVyYXRpb25cbiAgIFwic3RhcnRcIiBhbmQgXCJkdXJhdGlvblwiIGluIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgcGxheUF1ZGlvUGFydChhdWRpbywgc3RhcnQsIGR1cmF0aW9uKSB7XG4gICAgYXVkaW8uY3VycmVudFRpbWUgPSBzdGFydCAvIDEwMDA7IC8vaW4gc2Vjb25kc1xuICAgIGF1ZGlvLnBsYXkoKTtcbiAgICBzZXRUaW1lb3V0KHN0b3BBdWRpbywgZHVyYXRpb24sIGF1ZGlvKTsgLy9pbiBtaWxsaXNlY29uZHNcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBZkE7QUFDQTtBQURBO0FBZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQTNCQTtBQUNBO0FBREE7QUE2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFFQTs7OztBQW5DQTtBQUNBO0FBREE7QUF5Q0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQVpBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFkQTtBQWdCQTtBQTNFQTtBQUNBO0FBREE7QUErRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFiQTtBQWVBO0FBL0ZBO0FBQ0E7QUFEQTtBQW1HQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQVpBO0FBQ0E7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBckhBO0FBQ0E7QUFEQTtBQXlIQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBZkE7QUFDQTtBQWlCQTtBQUNBO0FBQ0E7Ozs7Ozs7QUE3SUE7QUFDQTtBQURBO0FBc0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7Ozs7QUF6TUE7QUFDQTtBQURBO0FBOE1BO0FBQ0E7QUFFQTs7O0FBak5BO0FBQ0E7QUFEQTtBQXFOQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUF6TkE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/stimulusinterpreter.js\n");

/***/ }),

/***/ "./src/environment.js":
/*!****************************!*\
  !*** ./src/environment.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  debug: true,\n  testing: true\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZW52aXJvbm1lbnQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZW52aXJvbm1lbnQuanM/Mzg1MyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gIGRlYnVnOiB0cnVlLFxuICB0ZXN0aW5nOiB0cnVlXG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUZBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/environment.js\n");

/***/ }),

/***/ 0:
/*!*****************************************************************************************************************************!*\
  !*** multi aurelia-webpack-plugin/runtime/empty-entry aurelia-webpack-plugin/runtime/pal-loader-entry aurelia-bootstrapper ***!
  \*****************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! aurelia-webpack-plugin/runtime/empty-entry */"./node_modules/aurelia-webpack-plugin/runtime/empty-entry.js");
__webpack_require__(/*! aurelia-webpack-plugin/runtime/pal-loader-entry */"./node_modules/aurelia-webpack-plugin/runtime/pal-loader-entry.js");
module.exports = __webpack_require__(/*! aurelia-bootstrapper */"./node_modules/aurelia-bootstrapper/dist/native-modules/aurelia-bootstrapper.js");


/***/ }),

/***/ "app":
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
/*! exports provided: App */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"App\", function() { return App; });\n/* harmony import */ var aurelia_pal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aurelia-pal */ \"./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js\");\n\nvar App =\n/*#__PURE__*/\nfunction () {\n  function App() {}\n\n  var _proto = App.prototype;\n\n  _proto.configureRouter = function configureRouter(config, router) {\n    config.title = 'Psychoacoustic Test Viewer Router';\n    config.map([{\n      route: ['', 'dashboard'],\n      name: 'dashboard',\n      moduleId: 'viewer/dashboard',\n      nav: true,\n      title: 'Dashboard - Select Test'\n    }, {\n      route: 'performtest/:id',\n      name: 'performtest',\n      moduleId: 'viewer/performtest',\n      nav: false,\n      title: 'Perform Test'\n    }, {\n      route: 'finalize',\n      name: 'finalize',\n      moduleId: 'viewer/finalize',\n      nav: true,\n      title: 'Finalize'\n    }]);\n    this.router = router;\n  };\n\n  return App;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC5qcz8xMTEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UExBVEZPUk19IGZyb20gJ2F1cmVsaWEtcGFsJztcblxuZXhwb3J0IGNsYXNzIEFwcCB7XG5cbiAgY29uZmlndXJlUm91dGVyKGNvbmZpZywgcm91dGVyKSB7XG4gICAgY29uZmlnLnRpdGxlID0gJ1BzeWNob2Fjb3VzdGljIFRlc3QgVmlld2VyIFJvdXRlcic7XG4gICAgY29uZmlnLm1hcChbXG4gICAgICB7cm91dGU6IFsnJywgJ2Rhc2hib2FyZCddLCBuYW1lOiAnZGFzaGJvYXJkJywgbW9kdWxlSWQ6IFBMQVRGT1JNLm1vZHVsZU5hbWUoJ3ZpZXdlci9kYXNoYm9hcmQnKSwgbmF2OiB0cnVlLCB0aXRsZTogJ0Rhc2hib2FyZCAtIFNlbGVjdCBUZXN0J30sXG4gICAgICB7cm91dGU6ICdwZXJmb3JtdGVzdC86aWQnLCBuYW1lOiAncGVyZm9ybXRlc3QnLCBtb2R1bGVJZDogUExBVEZPUk0ubW9kdWxlTmFtZSgndmlld2VyL3BlcmZvcm10ZXN0JyksIG5hdjogZmFsc2UsIHRpdGxlOiAnUGVyZm9ybSBUZXN0J30sXG4gICAgICB7cm91dGU6ICdmaW5hbGl6ZScsIG5hbWU6ICdmaW5hbGl6ZScsIG1vZHVsZUlkOiBQTEFURk9STS5tb2R1bGVOYW1lKCd2aWV3ZXIvZmluYWxpemUnKSwgbmF2OiB0cnVlLCB0aXRsZTogJ0ZpbmFsaXplJ31cbiAgICBdKTtcbiAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcblxuICB9XG5cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQVpBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///app\n");

/***/ }),

/***/ "app.html":
/*!**********************!*\
  !*** ./src/app.html ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = \"<template>\\n  <require from=\\\"w3-css/w3.css\\\"></require>\\n\\n  <require from=\\\"./components/heads.css\\\"></require>\\n  <require from=\\\"./components/sharedheader.html\\\"></require>\\n  <require from=\\\"./components/sharedfooter.html\\\"></require>\\n  <require from=\\\"./components/navigation.html\\\"></require>\\n  <sharedheader></sharedheader>\\n\\n      <div class=\\\"w3-card-2 w3-white w3-margin w3-padding\\\">\\n        <router-view></router-view>\\n      </div>\\n\\n\\n  <sharedfooter></sharedfooter>\\n\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmh0bWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwLmh0bWw/NDVhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHRlbXBsYXRlPlxcbiAgPHJlcXVpcmUgZnJvbT1cXFwidzMtY3NzL3czLmNzc1xcXCI+PC9yZXF1aXJlPlxcblxcbiAgPHJlcXVpcmUgZnJvbT1cXFwiLi9jb21wb25lbnRzL2hlYWRzLmNzc1xcXCI+PC9yZXF1aXJlPlxcbiAgPHJlcXVpcmUgZnJvbT1cXFwiLi9jb21wb25lbnRzL3NoYXJlZGhlYWRlci5odG1sXFxcIj48L3JlcXVpcmU+XFxuICA8cmVxdWlyZSBmcm9tPVxcXCIuL2NvbXBvbmVudHMvc2hhcmVkZm9vdGVyLmh0bWxcXFwiPjwvcmVxdWlyZT5cXG4gIDxyZXF1aXJlIGZyb209XFxcIi4vY29tcG9uZW50cy9uYXZpZ2F0aW9uLmh0bWxcXFwiPjwvcmVxdWlyZT5cXG4gIDxzaGFyZWRoZWFkZXI+PC9zaGFyZWRoZWFkZXI+XFxuXFxuICAgICAgPGRpdiBjbGFzcz1cXFwidzMtY2FyZC0yIHczLXdoaXRlIHczLW1hcmdpbiB3My1wYWRkaW5nXFxcIj5cXG4gICAgICAgIDxyb3V0ZXItdmlldz48L3JvdXRlci12aWV3PlxcbiAgICAgIDwvZGl2PlxcblxcblxcbiAgPHNoYXJlZGZvb3Rlcj48L3NoYXJlZGZvb3Rlcj5cXG5cXG48L3RlbXBsYXRlPlxcblwiOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///app.html\n");

/***/ }),

/***/ "components/heads.css":
/*!**********************************!*\
  !*** ./src/components/heads.css ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../node_modules/css-loader/lib/css-base.js */ \"./node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.i, \"nav {\\n  float:right!important;\\n  border-radius:8px!important;\\n}\\n\\nnav ul {\\n  margin: 0;\\n  padding: 0;\\n  list-style: none;\\n}\\n\\nnav a:link,\\nnav a:visited {\\n  color: #f0f0f0;\\n  text-decoration: none;\\n}\\n\\nnav li li a:link,\\nnav li li a:visited {\\n  color: #303030;\\n  text-decoration: none;\\n  padding: 6px 8px;\\n}\\n\\nnav a {\\n  display: block;\\n\\n}\\n\\nnav li {\\n  font-family: 'Lato', sans-serif;\\n  font-weight: 400;\\n  float: left;\\n  background-color: #393b3e;\\n  color:#f0f0f0 !important;\\n  margin-right: 0px;\\n  position: relative;\\n  padding: 0.9em;\\n}\\n\\nnav li li{\\n  width: 160px;\\n  z-index:4;\\n  background-color:#f0f0f0;\\n  padding: 0;\\n}\\n\\nnav li:hover {\\n  background-color: #55afff;\\n}\\nnav li li:hover {\\n  background-color: #757575;\\n}\\n\\n\\nnav ul ul  {\\n  position: absolute;\\n  visibility: hidden;\\n}\\n\\nnav ul ul ul{\\n  position: absolute;\\n  right: 100%;\\n  top: -2px;\\n  border: solid 1px transparent;\\n}\\n\\nnav li:hover > ul {\\n  visibility: visible;\\n}\\n\\nbody {\\n  line-height: 1.5;\\n  font-size:15px;\\n  margin:0;\\n}\\n\\n.vf-black {\\n  color:#fff!important;\\n  background-color:#000!important;\\n}\\n.vf-modal{z-index:3;display:none;padding-top:100px;position:fixed;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgb(0,0,0);background-color:rgba(0,0,0,0.4)}\\n.vf-modal-content{margin:auto;background-color:#fff;position:relative;padding:0;outline:0;width:600px}.w3-closebtn{text-decoration:none;float:right;font-size:24px;font-weight:bold;color:inherit}\\n.vf-sand{color:#000!important;background-color:#fdf5e6!important}\\n.vf-card-2{}\\n.vf-white{color:#000!important;background-color:#fff!important}\\n.vf-right-border{\\n  border-top-right-radius: 16px;\\n  border-bottom-right-radius: 16px;\\n}\\n\\n.\\n\\n/* Animations */\\n@keyframes SlideInRight {\\n  0% {\\n    transform: translateX(100%);\\n  }\\n\\n  100% {\\n    transform: translateX(0);\\n  }\\n}\\n\\n@keyframes SlideOutRight {\\n  0% {\\n    transform: translateX(0);\\n  }\\n\\n  100% {\\n    transform: translateX(100%);\\n  }\\n}\\n\\n@keyframes SlideInLeft {\\n  0% {\\n    transform: translateX(-100%);\\n  }\\n\\n  100% {\\n    transform: translateX(0);\\n  }\\n}\\n\\n@keyframes SlideOutLeft {\\n  0% {\\n    transform: translateX(0);\\n  }\\n\\n  100% {\\n    transform: translateX(-100%);\\n  }\\n}\\n\\n@keyframes FadeIn {\\n  0% {\\n    opacity: 0;\\n  }\\n\\n  100% {\\n    opacity: 1;\\n  }\\n}\\n\\n@keyframes FadeOut {\\n  0% {\\n    opacity: 1;\\n  }\\n\\n  100% {\\n    opacity: 0;\\n  }\\n}\\n\\n.animate-slide-in-right.au-enter {\\n  transform: translateX(100%);\\n}\\n\\n.animate-slide-in-right.au-enter-active {\\n  animation: SlideInRight 1s;\\n}\\n\\n.animate-slide-out-right.au-leave-active {\\n  animation: SlideOutRight 1s;\\n}\\n\\n.animate-slide-in-left.au-enter {\\n  transform: translateX(-100%);\\n}\\n\\n.animate-slide-in-left.au-enter-active {\\n  animation: SlideInLeft 1s;\\n}\\n\\n.animate-slide-out-left.au-leave-active {\\n  animation: SlideOutLeft 1s;\\n}\\n\\n.animate-fade-in.au-enter {\\n  opacity: 0;\\n}\\n\\n.animate-fade-in.au-enter-active {\\n  animation: FadeIn 1s;\\n}\\n\\n.animate-fade-out.au-leave-active {\\n  animation: FadeOut 1s;\\n}\\n\", \"\"]);\n\n// exports\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy9oZWFkcy5jc3MuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9oZWFkcy5jc3M/MDI1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIm5hdiB7XFxuICBmbG9hdDpyaWdodCFpbXBvcnRhbnQ7XFxuICBib3JkZXItcmFkaXVzOjhweCFpbXBvcnRhbnQ7XFxufVxcblxcbm5hdiB1bCB7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbiAgbGlzdC1zdHlsZTogbm9uZTtcXG59XFxuXFxubmF2IGE6bGluayxcXG5uYXYgYTp2aXNpdGVkIHtcXG4gIGNvbG9yOiAjZjBmMGYwO1xcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbn1cXG5cXG5uYXYgbGkgbGkgYTpsaW5rLFxcbm5hdiBsaSBsaSBhOnZpc2l0ZWQge1xcbiAgY29sb3I6ICMzMDMwMzA7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICBwYWRkaW5nOiA2cHggOHB4O1xcbn1cXG5cXG5uYXYgYSB7XFxuICBkaXNwbGF5OiBibG9jaztcXG5cXG59XFxuXFxubmF2IGxpIHtcXG4gIGZvbnQtZmFtaWx5OiAnTGF0bycsIHNhbnMtc2VyaWY7XFxuICBmb250LXdlaWdodDogNDAwO1xcbiAgZmxvYXQ6IGxlZnQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzkzYjNlO1xcbiAgY29sb3I6I2YwZjBmMCAhaW1wb3J0YW50O1xcbiAgbWFyZ2luLXJpZ2h0OiAwcHg7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBwYWRkaW5nOiAwLjllbTtcXG59XFxuXFxubmF2IGxpIGxpe1xcbiAgd2lkdGg6IDE2MHB4O1xcbiAgei1pbmRleDo0O1xcbiAgYmFja2dyb3VuZC1jb2xvcjojZjBmMGYwO1xcbiAgcGFkZGluZzogMDtcXG59XFxuXFxubmF2IGxpOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM1NWFmZmY7XFxufVxcbm5hdiBsaSBsaTpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNzU3NTc1O1xcbn1cXG5cXG5cXG5uYXYgdWwgdWwgIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHZpc2liaWxpdHk6IGhpZGRlbjtcXG59XFxuXFxubmF2IHVsIHVsIHVse1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcmlnaHQ6IDEwMCU7XFxuICB0b3A6IC0ycHg7XFxuICBib3JkZXI6IHNvbGlkIDFweCB0cmFuc3BhcmVudDtcXG59XFxuXFxubmF2IGxpOmhvdmVyID4gdWwge1xcbiAgdmlzaWJpbGl0eTogdmlzaWJsZTtcXG59XFxuXFxuYm9keSB7XFxuICBsaW5lLWhlaWdodDogMS41O1xcbiAgZm9udC1zaXplOjE1cHg7XFxuICBtYXJnaW46MDtcXG59XFxuXFxuLnZmLWJsYWNrIHtcXG4gIGNvbG9yOiNmZmYhaW1wb3J0YW50O1xcbiAgYmFja2dyb3VuZC1jb2xvcjojMDAwIWltcG9ydGFudDtcXG59XFxuLnZmLW1vZGFse3otaW5kZXg6MztkaXNwbGF5Om5vbmU7cGFkZGluZy10b3A6MTAwcHg7cG9zaXRpb246Zml4ZWQ7bGVmdDowO3RvcDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7b3ZlcmZsb3c6YXV0bztiYWNrZ3JvdW5kLWNvbG9yOnJnYigwLDAsMCk7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLDAuNCl9XFxuLnZmLW1vZGFsLWNvbnRlbnR7bWFyZ2luOmF1dG87YmFja2dyb3VuZC1jb2xvcjojZmZmO3Bvc2l0aW9uOnJlbGF0aXZlO3BhZGRpbmc6MDtvdXRsaW5lOjA7d2lkdGg6NjAwcHh9LnczLWNsb3NlYnRue3RleHQtZGVjb3JhdGlvbjpub25lO2Zsb2F0OnJpZ2h0O2ZvbnQtc2l6ZToyNHB4O2ZvbnQtd2VpZ2h0OmJvbGQ7Y29sb3I6aW5oZXJpdH1cXG4udmYtc2FuZHtjb2xvcjojMDAwIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOiNmZGY1ZTYhaW1wb3J0YW50fVxcbi52Zi1jYXJkLTJ7fVxcbi52Zi13aGl0ZXtjb2xvcjojMDAwIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmYhaW1wb3J0YW50fVxcbi52Zi1yaWdodC1ib3JkZXJ7XFxuICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMTZweDtcXG4gIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAxNnB4O1xcbn1cXG5cXG4uXFxuXFxuLyogQW5pbWF0aW9ucyAqL1xcbkBrZXlmcmFtZXMgU2xpZGVJblJpZ2h0IHtcXG4gIDAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpO1xcbiAgfVxcblxcbiAgMTAwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTtcXG4gIH1cXG59XFxuXFxuQGtleWZyYW1lcyBTbGlkZU91dFJpZ2h0IHtcXG4gIDAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApO1xcbiAgfVxcblxcbiAgMTAwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgxMDAlKTtcXG4gIH1cXG59XFxuXFxuQGtleWZyYW1lcyBTbGlkZUluTGVmdCB7XFxuICAwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSk7XFxuICB9XFxuXFxuICAxMDAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApO1xcbiAgfVxcbn1cXG5cXG5Aa2V5ZnJhbWVzIFNsaWRlT3V0TGVmdCB7XFxuICAwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTtcXG4gIH1cXG5cXG4gIDEwMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTEwMCUpO1xcbiAgfVxcbn1cXG5cXG5Aa2V5ZnJhbWVzIEZhZGVJbiB7XFxuICAwJSB7XFxuICAgIG9wYWNpdHk6IDA7XFxuICB9XFxuXFxuICAxMDAlIHtcXG4gICAgb3BhY2l0eTogMTtcXG4gIH1cXG59XFxuXFxuQGtleWZyYW1lcyBGYWRlT3V0IHtcXG4gIDAlIHtcXG4gICAgb3BhY2l0eTogMTtcXG4gIH1cXG5cXG4gIDEwMCUge1xcbiAgICBvcGFjaXR5OiAwO1xcbiAgfVxcbn1cXG5cXG4uYW5pbWF0ZS1zbGlkZS1pbi1yaWdodC5hdS1lbnRlciB7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7XFxufVxcblxcbi5hbmltYXRlLXNsaWRlLWluLXJpZ2h0LmF1LWVudGVyLWFjdGl2ZSB7XFxuICBhbmltYXRpb246IFNsaWRlSW5SaWdodCAxcztcXG59XFxuXFxuLmFuaW1hdGUtc2xpZGUtb3V0LXJpZ2h0LmF1LWxlYXZlLWFjdGl2ZSB7XFxuICBhbmltYXRpb246IFNsaWRlT3V0UmlnaHQgMXM7XFxufVxcblxcbi5hbmltYXRlLXNsaWRlLWluLWxlZnQuYXUtZW50ZXIge1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xMDAlKTtcXG59XFxuXFxuLmFuaW1hdGUtc2xpZGUtaW4tbGVmdC5hdS1lbnRlci1hY3RpdmUge1xcbiAgYW5pbWF0aW9uOiBTbGlkZUluTGVmdCAxcztcXG59XFxuXFxuLmFuaW1hdGUtc2xpZGUtb3V0LWxlZnQuYXUtbGVhdmUtYWN0aXZlIHtcXG4gIGFuaW1hdGlvbjogU2xpZGVPdXRMZWZ0IDFzO1xcbn1cXG5cXG4uYW5pbWF0ZS1mYWRlLWluLmF1LWVudGVyIHtcXG4gIG9wYWNpdHk6IDA7XFxufVxcblxcbi5hbmltYXRlLWZhZGUtaW4uYXUtZW50ZXItYWN0aXZlIHtcXG4gIGFuaW1hdGlvbjogRmFkZUluIDFzO1xcbn1cXG5cXG4uYW5pbWF0ZS1mYWRlLW91dC5hdS1sZWF2ZS1hY3RpdmUge1xcbiAgYW5pbWF0aW9uOiBGYWRlT3V0IDFzO1xcbn1cXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///components/heads.css\n");

/***/ }),

/***/ "components/navigation.html":
/*!****************************************!*\
  !*** ./src/components/navigation.html ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template bindable=\\\"router\\\">\\n  <div class=\\\"w3-bar-block w3-black\\\">\\n    <!--a class='w3-bar-item w3-button w3-white w3-padding-0 w3-border-bottom' href=\\\"/\\\"><irep></irep>Repository Home</a-->\\n    <div class=\\\"w3-bar-item w3-white w3-padding-0 w3-border-bottom\\\">navigation:</div>\\n    <a repeat.for=\\\"row of router.navigation\\\" class=\\\"${row.isActive ? 'w3-bar-item w3-button w3-blue' : 'w3-bar-item w3-button w3-white'}\\\" href.bind=\\\"row.href\\\">${row.title}</a>\\n  </div>\\n</template>\\n\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy9uYXZpZ2F0aW9uLmh0bWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9uYXZpZ2F0aW9uLmh0bWw/YTE5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHRlbXBsYXRlIGJpbmRhYmxlPVxcXCJyb3V0ZXJcXFwiPlxcbiAgPGRpdiBjbGFzcz1cXFwidzMtYmFyLWJsb2NrIHczLWJsYWNrXFxcIj5cXG4gICAgPCEtLWEgY2xhc3M9J3czLWJhci1pdGVtIHczLWJ1dHRvbiB3My13aGl0ZSB3My1wYWRkaW5nLTAgdzMtYm9yZGVyLWJvdHRvbScgaHJlZj1cXFwiL1xcXCI+PGlyZXA+PC9pcmVwPlJlcG9zaXRvcnkgSG9tZTwvYS0tPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ3My1iYXItaXRlbSB3My13aGl0ZSB3My1wYWRkaW5nLTAgdzMtYm9yZGVyLWJvdHRvbVxcXCI+bmF2aWdhdGlvbjo8L2Rpdj5cXG4gICAgPGEgcmVwZWF0LmZvcj1cXFwicm93IG9mIHJvdXRlci5uYXZpZ2F0aW9uXFxcIiBjbGFzcz1cXFwiJHtyb3cuaXNBY3RpdmUgPyAndzMtYmFyLWl0ZW0gdzMtYnV0dG9uIHczLWJsdWUnIDogJ3czLWJhci1pdGVtIHczLWJ1dHRvbiB3My13aGl0ZSd9XFxcIiBocmVmLmJpbmQ9XFxcInJvdy5ocmVmXFxcIj4ke3Jvdy50aXRsZX08L2E+XFxuICA8L2Rpdj5cXG48L3RlbXBsYXRlPlxcblxcblwiOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///components/navigation.html\n");

/***/ }),

/***/ "components/sharedfooter.html":
/*!******************************************!*\
  !*** ./src/components/sharedfooter.html ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template>\\n<footer>\\n    <div class=\\\"w3-clear w3-margin-top\\\"></div>\\n    <!--div class=\\\"w3-center w3-black w3-bottom w3-bottombar\\\">\\n        Psychoacoustic test documentation at <a href=\\\"https://tomaskulhanek.gitbooks.io/psychoacoustic-test-system-documentation/content/\\\" target=\\\"_blank\\\">gitbooks.io</a>\\n    </div-->\\n</footer>\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy9zaGFyZWRmb290ZXIuaHRtbC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3NoYXJlZGZvb3Rlci5odG1sPzk1ZjYiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjx0ZW1wbGF0ZT5cXG48Zm9vdGVyPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ3My1jbGVhciB3My1tYXJnaW4tdG9wXFxcIj48L2Rpdj5cXG4gICAgPCEtLWRpdiBjbGFzcz1cXFwidzMtY2VudGVyIHczLWJsYWNrIHczLWJvdHRvbSB3My1ib3R0b21iYXJcXFwiPlxcbiAgICAgICAgUHN5Y2hvYWNvdXN0aWMgdGVzdCBkb2N1bWVudGF0aW9uIGF0IDxhIGhyZWY9XFxcImh0dHBzOi8vdG9tYXNrdWxoYW5lay5naXRib29rcy5pby9wc3ljaG9hY291c3RpYy10ZXN0LXN5c3RlbS1kb2N1bWVudGF0aW9uL2NvbnRlbnQvXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+Z2l0Ym9va3MuaW88L2E+XFxuICAgIDwvZGl2LS0+XFxuPC9mb290ZXI+XFxuPC90ZW1wbGF0ZT5cXG5cIjsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///components/sharedfooter.html\n");

/***/ }),

/***/ "components/sharedheader.html":
/*!******************************************!*\
  !*** ./src/components/sharedheader.html ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template>\\n  <div class=\\\"vf-white\\\">\\n    <!--a href=\\\"/\\\">\\n      <picture>\\n\\n        <img class=\\\"logo\\\" style=\\\"height:60px\\\" src=\\\"/img/westlife-logo.png\\\" alt=\\\"brand logo\\\">\\n      </picture>\\n\\n    </a>\\n    <nav class=\\\"vf-white\\\">\\n\\n      <ul>\\n        <li class=\\\"nav-item\\\"><a href=\\\"/\\\">Psycho acoustic Test</a></li>\\n      </ul>\\n\\n    </nav>\\n    <div id=\\\"id01\\\" class=\\\"vf-modal\\\">\\n      <div class=\\\"vf-modal-content vf-card-2\\\">\\n        <header class=\\\"vf-sand\\\">\\n        <span onclick=\\\"document.getElementById('id01').style.display='none'\\\"\\n              class=\\\"w3-button w3-display-topright\\\">&times;</span>\\n          <h3>Psychoacoustic Test </h3>\\n        </header>\\n        <div class=\\\"vf-white\\\">\\n          <table>\\n            <tr>\\n              <td style=\\\"text-align: right\\\">Version:</td>\\n              <td>17.09</td>\\n            </tr>\\n            <tr>\\n              <td style=\\\"text-align: right\\\">Sources:</td>\\n              <td><a href=\\\"https://github.com/HAMU-Psychotest\\\">github.com/HAMU-Psychotest</a></td>\\n            </tr>\\n            <tr>\\n              <td style=\\\"text-align: right\\\">Authors:</td>\\n              <td>Tomas Kulhanek</td>\\n            </tr>\\n            <tr>\\n              <td style=\\\"text-align: right\\\">Ackn.:</td>\\n              <td>Frontend: Aurelia framework, W3.CSS, Icons made by Freepik from www.flaticon.com\\n              </td>\\n            </tr>\\n          </table>\\n        </div>\\n        <footer class=\\\"vf-sand\\\">\\n          <a rel=\\\"license\\\" href=\\\"http://creativecommons.org/licenses/by/4.0/\\\"><img alt=\\\"Creative Commons License\\\"\\n                                                                                   style=\\\"border-width:0\\\"\\n                                                                                   src=\\\"https://i.creativecommons.org/l/by/4.0/88x31.png\\\"/></a>This\\n          work is licensed under a <a rel=\\\"license\\\" href=\\\"http://creativecommons.org/licenses/by/4.0/\\\">Creative Commons\\n          Attribution 4.0 International License</a>.\\n        </footer>\\n      </div>\\n    </div-->\\n\\n  </div>\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy9zaGFyZWRoZWFkZXIuaHRtbC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3NoYXJlZGhlYWRlci5odG1sP2JiYzIiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjx0ZW1wbGF0ZT5cXG4gIDxkaXYgY2xhc3M9XFxcInZmLXdoaXRlXFxcIj5cXG4gICAgPCEtLWEgaHJlZj1cXFwiL1xcXCI+XFxuICAgICAgPHBpY3R1cmU+XFxuXFxuICAgICAgICA8aW1nIGNsYXNzPVxcXCJsb2dvXFxcIiBzdHlsZT1cXFwiaGVpZ2h0OjYwcHhcXFwiIHNyYz1cXFwiL2ltZy93ZXN0bGlmZS1sb2dvLnBuZ1xcXCIgYWx0PVxcXCJicmFuZCBsb2dvXFxcIj5cXG4gICAgICA8L3BpY3R1cmU+XFxuXFxuICAgIDwvYT5cXG4gICAgPG5hdiBjbGFzcz1cXFwidmYtd2hpdGVcXFwiPlxcblxcbiAgICAgIDx1bD5cXG4gICAgICAgIDxsaSBjbGFzcz1cXFwibmF2LWl0ZW1cXFwiPjxhIGhyZWY9XFxcIi9cXFwiPlBzeWNobyBhY291c3RpYyBUZXN0PC9hPjwvbGk+XFxuICAgICAgPC91bD5cXG5cXG4gICAgPC9uYXY+XFxuICAgIDxkaXYgaWQ9XFxcImlkMDFcXFwiIGNsYXNzPVxcXCJ2Zi1tb2RhbFxcXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwidmYtbW9kYWwtY29udGVudCB2Zi1jYXJkLTJcXFwiPlxcbiAgICAgICAgPGhlYWRlciBjbGFzcz1cXFwidmYtc2FuZFxcXCI+XFxuICAgICAgICA8c3BhbiBvbmNsaWNrPVxcXCJkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWQwMScpLnN0eWxlLmRpc3BsYXk9J25vbmUnXFxcIlxcbiAgICAgICAgICAgICAgY2xhc3M9XFxcInczLWJ1dHRvbiB3My1kaXNwbGF5LXRvcHJpZ2h0XFxcIj4mdGltZXM7PC9zcGFuPlxcbiAgICAgICAgICA8aDM+UHN5Y2hvYWNvdXN0aWMgVGVzdCA8L2gzPlxcbiAgICAgICAgPC9oZWFkZXI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ2Zi13aGl0ZVxcXCI+XFxuICAgICAgICAgIDx0YWJsZT5cXG4gICAgICAgICAgICA8dHI+XFxuICAgICAgICAgICAgICA8dGQgc3R5bGU9XFxcInRleHQtYWxpZ246IHJpZ2h0XFxcIj5WZXJzaW9uOjwvdGQ+XFxuICAgICAgICAgICAgICA8dGQ+MTcuMDk8L3RkPlxcbiAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICAgICAgPHRyPlxcbiAgICAgICAgICAgICAgPHRkIHN0eWxlPVxcXCJ0ZXh0LWFsaWduOiByaWdodFxcXCI+U291cmNlczo8L3RkPlxcbiAgICAgICAgICAgICAgPHRkPjxhIGhyZWY9XFxcImh0dHBzOi8vZ2l0aHViLmNvbS9IQU1VLVBzeWNob3Rlc3RcXFwiPmdpdGh1Yi5jb20vSEFNVS1Qc3ljaG90ZXN0PC9hPjwvdGQ+XFxuICAgICAgICAgICAgPC90cj5cXG4gICAgICAgICAgICA8dHI+XFxuICAgICAgICAgICAgICA8dGQgc3R5bGU9XFxcInRleHQtYWxpZ246IHJpZ2h0XFxcIj5BdXRob3JzOjwvdGQ+XFxuICAgICAgICAgICAgICA8dGQ+VG9tYXMgS3VsaGFuZWs8L3RkPlxcbiAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICAgICAgPHRyPlxcbiAgICAgICAgICAgICAgPHRkIHN0eWxlPVxcXCJ0ZXh0LWFsaWduOiByaWdodFxcXCI+QWNrbi46PC90ZD5cXG4gICAgICAgICAgICAgIDx0ZD5Gcm9udGVuZDogQXVyZWxpYSBmcmFtZXdvcmssIFczLkNTUywgSWNvbnMgbWFkZSBieSBGcmVlcGlrIGZyb20gd3d3LmZsYXRpY29uLmNvbVxcbiAgICAgICAgICAgICAgPC90ZD5cXG4gICAgICAgICAgICA8L3RyPlxcbiAgICAgICAgICA8L3RhYmxlPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8Zm9vdGVyIGNsYXNzPVxcXCJ2Zi1zYW5kXFxcIj5cXG4gICAgICAgICAgPGEgcmVsPVxcXCJsaWNlbnNlXFxcIiBocmVmPVxcXCJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS80LjAvXFxcIj48aW1nIGFsdD1cXFwiQ3JlYXRpdmUgQ29tbW9ucyBMaWNlbnNlXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XFxcImJvcmRlci13aWR0aDowXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPVxcXCJodHRwczovL2kuY3JlYXRpdmVjb21tb25zLm9yZy9sL2J5LzQuMC84OHgzMS5wbmdcXFwiLz48L2E+VGhpc1xcbiAgICAgICAgICB3b3JrIGlzIGxpY2Vuc2VkIHVuZGVyIGEgPGEgcmVsPVxcXCJsaWNlbnNlXFxcIiBocmVmPVxcXCJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS80LjAvXFxcIj5DcmVhdGl2ZSBDb21tb25zXFxuICAgICAgICAgIEF0dHJpYnV0aW9uIDQuMCBJbnRlcm5hdGlvbmFsIExpY2Vuc2U8L2E+LlxcbiAgICAgICAgPC9mb290ZXI+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2LS0+XFxuXFxuICA8L2Rpdj5cXG48L3RlbXBsYXRlPlxcblwiOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///components/sharedheader.html\n");

/***/ }),

/***/ "main":
/*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
/*! exports provided: configure */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"configure\", function() { return configure; });\n/* harmony import */ var _babel_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/polyfill */ \"./node_modules/@babel/polyfill/lib/index.js\");\n/* harmony import */ var _babel_polyfill__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_polyfill__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./environment */ \"./src/environment.js\");\n/* harmony import */ var aurelia_pal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! aurelia-pal */ \"./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js\");\n/* harmony import */ var bluebird__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bluebird */ \"./node_modules/bluebird/js/browser/bluebird.js-exposed\");\n/* harmony import */ var bluebird__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(bluebird__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n // remove out if you don't want a Promise polyfill (remove also from webpack.config.js)\n\nbluebird__WEBPACK_IMPORTED_MODULE_3__[\"config\"]({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\nfunction configure(aurelia) {\n  aurelia.use.standardConfiguration().feature('resources/index').plugin('aurelia-animator-css'); // Uncomment the line below to enable animation.\n  // aurelia.use.plugin(PLATFORM.moduleName('aurelia-animator-css'));\n  // if the css animator is enabled, add swap-order=\"after\" to all router-view elements\n  // Anyone wanting to use HTMLImports to load views, will need to install the following plugin.\n  // aurelia.use.plugin(PLATFORM.moduleName('aurelia-html-import-template-loader'));\n\n  aurelia.use.developmentLogging(_environment__WEBPACK_IMPORTED_MODULE_1__[\"default\"].debug ? 'debug' : 'warn');\n\n  if (_environment__WEBPACK_IMPORTED_MODULE_1__[\"default\"].testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  return aurelia.start().then(function () {\n    return aurelia.setRoot('app');\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9tYWluLmpzPzU2ZDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdAYmFiZWwvcG9seWZpbGwnO1xuaW1wb3J0IGVudmlyb25tZW50IGZyb20gJy4vZW52aXJvbm1lbnQnO1xuaW1wb3J0IHtQTEFURk9STX0gZnJvbSAnYXVyZWxpYS1wYWwnO1xuaW1wb3J0ICogYXMgQmx1ZWJpcmQgZnJvbSAnYmx1ZWJpcmQnO1xuXG4vLyByZW1vdmUgb3V0IGlmIHlvdSBkb24ndCB3YW50IGEgUHJvbWlzZSBwb2x5ZmlsbCAocmVtb3ZlIGFsc28gZnJvbSB3ZWJwYWNrLmNvbmZpZy5qcylcbkJsdWViaXJkLmNvbmZpZyh7IHdhcm5pbmdzOiB7IHdGb3Jnb3R0ZW5SZXR1cm46IGZhbHNlIH0gfSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25maWd1cmUoYXVyZWxpYSkge1xuICBhdXJlbGlhLnVzZVxuICAgIC5zdGFuZGFyZENvbmZpZ3VyYXRpb24oKVxuICAgIC5mZWF0dXJlKFBMQVRGT1JNLm1vZHVsZU5hbWUoJ3Jlc291cmNlcy9pbmRleCcpKVxuICAgIC5wbHVnaW4oUExBVEZPUk0ubW9kdWxlTmFtZShcImF1cmVsaWEtYW5pbWF0b3ItY3NzXCIpKTtcblxuICAvLyBVbmNvbW1lbnQgdGhlIGxpbmUgYmVsb3cgdG8gZW5hYmxlIGFuaW1hdGlvbi5cbiAgLy8gYXVyZWxpYS51c2UucGx1Z2luKFBMQVRGT1JNLm1vZHVsZU5hbWUoJ2F1cmVsaWEtYW5pbWF0b3ItY3NzJykpO1xuICAvLyBpZiB0aGUgY3NzIGFuaW1hdG9yIGlzIGVuYWJsZWQsIGFkZCBzd2FwLW9yZGVyPVwiYWZ0ZXJcIiB0byBhbGwgcm91dGVyLXZpZXcgZWxlbWVudHNcblxuICAvLyBBbnlvbmUgd2FudGluZyB0byB1c2UgSFRNTEltcG9ydHMgdG8gbG9hZCB2aWV3cywgd2lsbCBuZWVkIHRvIGluc3RhbGwgdGhlIGZvbGxvd2luZyBwbHVnaW4uXG4gIC8vIGF1cmVsaWEudXNlLnBsdWdpbihQTEFURk9STS5tb2R1bGVOYW1lKCdhdXJlbGlhLWh0bWwtaW1wb3J0LXRlbXBsYXRlLWxvYWRlcicpKTtcblxuICBhdXJlbGlhLnVzZS5kZXZlbG9wbWVudExvZ2dpbmcoZW52aXJvbm1lbnQuZGVidWcgPyAnZGVidWcnIDogJ3dhcm4nKTtcblxuICBpZiAoZW52aXJvbm1lbnQudGVzdGluZykge1xuICAgIGF1cmVsaWEudXNlLnBsdWdpbihQTEFURk9STS5tb2R1bGVOYW1lKCdhdXJlbGlhLXRlc3RpbmcnKSk7XG4gIH1cblxuICByZXR1cm4gYXVyZWxpYS5zdGFydCgpLnRoZW4oKCkgPT4gYXVyZWxpYS5zZXRSb290KFBMQVRGT1JNLm1vZHVsZU5hbWUoJ2FwcCcpKSk7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///main\n");

/***/ }),

/***/ "resources/index":
/*!********************************!*\
  !*** ./src/resources/index.js ***!
  \********************************/
/*! exports provided: configure */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"configure\", function() { return configure; });\nfunction configure(config) {//config.globalResources([]);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzb3VyY2VzL2luZGV4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3Jlc291cmNlcy9pbmRleC5qcz85NzVlIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBjb25maWd1cmUoY29uZmlnKSB7XG4gIC8vY29uZmlnLmdsb2JhbFJlc291cmNlcyhbXSk7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///resources/index\n");

/***/ }),

/***/ "viewer/dashboard":
/*!*********************************!*\
  !*** ./src/viewer/dashboard.js ***!
  \*********************************/
/*! exports provided: Dashboard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Dashboard\", function() { return Dashboard; });\nvar Dashboard = function Dashboard() {\n  this.tests = [{\n    id: 1,\n    title: 'demoGRBAS test'\n  }, {\n    id: 2,\n    title: 'demo acoustic test'\n  }];\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyL2Rhc2hib2FyZC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy92aWV3ZXIvZGFzaGJvYXJkLmpzPzQ0NGQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIERhc2hib2FyZCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMudGVzdHMgPSBbe2lkOiAxLCB0aXRsZTogJ2RlbW9HUkJBUyB0ZXN0J30sIHtpZDogMiwgdGl0bGU6ICdkZW1vIGFjb3VzdGljIHRlc3QnfV07XG4gIH1cbn1cblxuXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///viewer/dashboard\n");

/***/ }),

/***/ "viewer/dashboard.html":
/*!***********************************!*\
  !*** ./src/viewer/dashboard.html ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template>\\n  <div class=\\\"au-animate animate-fade-in animate-fade-out\\\">\\n    <p>Vyberte psychoakustick test:</p>\\n    <ul>\\n      <li repeat.for=\\\"test of tests\\\">\\n        <a class=\\\"w3-pale-green w3-button\\\" route-href=\\\"route: performtest; params.bind: {id: test.id}\\\">${test.title}<inext></inext></a>\\n      </li>\\n    </ul>\\n  </div>\\n\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyL2Rhc2hib2FyZC5odG1sLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9kYXNoYm9hcmQuaHRtbD9jYmZiIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8dGVtcGxhdGU+XFxuICA8ZGl2IGNsYXNzPVxcXCJhdS1hbmltYXRlIGFuaW1hdGUtZmFkZS1pbiBhbmltYXRlLWZhZGUtb3V0XFxcIj5cXG4gICAgPHA+VnliZXJ0ZSBwc3ljaG9ha3VzdGlja8O9IHRlc3Q6PC9wPlxcbiAgICA8dWw+XFxuICAgICAgPGxpIHJlcGVhdC5mb3I9XFxcInRlc3Qgb2YgdGVzdHNcXFwiPlxcbiAgICAgICAgPGEgY2xhc3M9XFxcInczLXBhbGUtZ3JlZW4gdzMtYnV0dG9uXFxcIiByb3V0ZS1ocmVmPVxcXCJyb3V0ZTogcGVyZm9ybXRlc3Q7IHBhcmFtcy5iaW5kOiB7aWQ6IHRlc3QuaWR9XFxcIj4ke3Rlc3QudGl0bGV9PGluZXh0PjwvaW5leHQ+PC9hPlxcbiAgICAgIDwvbGk+XFxuICAgIDwvdWw+XFxuICA8L2Rpdj5cXG5cXG48L3RlbXBsYXRlPlxcblwiOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///viewer/dashboard.html\n");

/***/ }),

/***/ "viewer/finalize":
/*!********************************!*\
  !*** ./src/viewer/finalize.js ***!
  \********************************/
/*! exports provided: Finalize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Finalize\", function() { return Finalize; });\nvar Finalize = function Finalize() {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyL2ZpbmFsaXplLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9maW5hbGl6ZS5qcz8yNjNmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBGaW5hbGl6ZSB7XG5cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///viewer/finalize\n");

/***/ }),

/***/ "viewer/finalize.html":
/*!**********************************!*\
  !*** ./src/viewer/finalize.html ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template>\\n  <div  class=\\\"au-animate animate-fade-in animate-fade-out\\\">\\n    <p align=\\\"center\\\">Dkujeme za vyplnn testu.</p>\\n    <p></p>\\n    <p align=\\\"center\\\">Pokud chcete test opakovat, jdete na <a class=\\\"w3-pale-green w3-button\\\" route-href=\\\"route: respondent\\\">Restart same test <inext></inext></a>\\n    <p align=\\\"center\\\">nebo vybrat jin test, kliknte zde:<a class=\\\"w3-pale-green w3-button\\\" route-href=\\\"route: dashboard\\\">Select another test <inext></inext></a>\\n    <p align=\\\"center\\\">Pro ukonen, zavete okno prohlee</p>\\n    </p>\\n  </div>\\n\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyL2ZpbmFsaXplLmh0bWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2ZpbmFsaXplLmh0bWw/N2Q5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHRlbXBsYXRlPlxcbiAgPGRpdiAgY2xhc3M9XFxcImF1LWFuaW1hdGUgYW5pbWF0ZS1mYWRlLWluIGFuaW1hdGUtZmFkZS1vdXRcXFwiPlxcbiAgICA8cCBhbGlnbj1cXFwiY2VudGVyXFxcIj5ExJtrdWplbWUgemEgdnlwbG7Em27DrSB0ZXN0dS48L3A+XFxuICAgIDxwPjwvcD5cXG4gICAgPHAgYWxpZ249XFxcImNlbnRlclxcXCI+UG9rdWQgY2hjZXRlIHRlc3Qgb3Bha292YXQsIGpkZXRlIG5hIDxhIGNsYXNzPVxcXCJ3My1wYWxlLWdyZWVuIHczLWJ1dHRvblxcXCIgcm91dGUtaHJlZj1cXFwicm91dGU6IHJlc3BvbmRlbnRcXFwiPlJlc3RhcnQgc2FtZSB0ZXN0IDxpbmV4dD48L2luZXh0PjwvYT5cXG4gICAgPHAgYWxpZ249XFxcImNlbnRlclxcXCI+bmVibyB2eWJyYXQgamluw70gdGVzdCwga2xpa27Em3RlIHpkZTo8YSBjbGFzcz1cXFwidzMtcGFsZS1ncmVlbiB3My1idXR0b25cXFwiIHJvdXRlLWhyZWY9XFxcInJvdXRlOiBkYXNoYm9hcmRcXFwiPlNlbGVjdCBhbm90aGVyIHRlc3QgPGluZXh0PjwvaW5leHQ+PC9hPlxcbiAgICA8cCBhbGlnbj1cXFwiY2VudGVyXFxcIj5Qcm8gdWtvbsSNZW7DrSwgemF2xZlldGUgb2tubyBwcm9obMOtxb5lxI1lPC9wPlxcbiAgICA8L3A+XFxuICA8L2Rpdj5cXG5cXG48L3RlbXBsYXRlPlxcblwiOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///viewer/finalize.html\n");

/***/ }),

/***/ "viewer/performtest":
/*!***********************************!*\
  !*** ./src/viewer/performtest.js ***!
  \***********************************/
/*! exports provided: Performtest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Performtest\", function() { return Performtest; });\n/* harmony import */ var _components_psychoapi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/psychoapi */ \"./src/components/psychoapi.js\");\n/* harmony import */ var _components_interpreter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/interpreter */ \"./src/components/interpreter.js\");\n/* harmony import */ var aurelia_framework__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! aurelia-framework */ \"aurelia-framework\");\nvar _dec, _class;\n\n\n\n\nvar Performtest = (_dec = Object(aurelia_framework__WEBPACK_IMPORTED_MODULE_2__[\"inject\"])(_components_psychoapi__WEBPACK_IMPORTED_MODULE_0__[\"PsychoApi\"]), _dec(_class =\n/*#__PURE__*/\nfunction () {\n  function Performtest(pa) {\n    this.pa = pa; //this.interpreter = itp;\n\n    console.log('performtest()');\n  }\n\n  var _proto = Performtest.prototype;\n\n  _proto.attached = function attached() {\n    this.state = 1; //1==start, 2==test is performing, 3==test ended\n\n    this.showstart = true;\n    this.shownext = false;\n    this.showprev = false;\n    this.showsubmit = false;\n    this.showpause = false;\n    console.log('performtest attached');\n  };\n\n  _proto.activate = function activate(params, routeConfig) {\n    this.testid = params.id; //console.log('performtest', params);\n  }\n  /**\n   * Starts test - shows first screen\n   */\n  ;\n\n  _proto.starttest = function starttest() {\n    this.state = 2;\n    this.showprev = false;\n    this.shownext = true;\n    var currentRawTest = this.pa.getSelectedTestDefinition(this.testid); //if (typeof editor !== \"undefined\") currentRawTest = editor.getValue();\n    //this.parser = new Interpreter();\n    //this.parser.initTest(currentRawTest);\n\n    this.itp = new _components_interpreter__WEBPACK_IMPORTED_MODULE_1__[\"Interpreter\"](this);\n    this.hideNonAnswered();\n    this.itp.initTest(currentRawTest);\n    this.preview.innerHTML = this.itp.nextpage(); //parser.currentTest);\n    //console.log(document.getElementById('preview').innerHTML);\n\n    this.itp.evaluateScripts();\n  };\n\n  _proto.hideNonAnswered = function hideNonAnswered() {};\n\n  _proto.evaluateScripts = function evaluateScripts() {};\n\n  _proto.previtem = function previtem() {\n    this.itp.previouspage();\n  };\n\n  _proto.nextitem = function nextitem() {\n    if (this.itp.checkAnswers()) {\n      //check whether all mandatory questions are answered - set to non-default value\n      if (this.itp.highlightEducation()) {\n        this.preview.innerHTML = this.itp.nextpage();\n        this.itp.highlighted = false;\n        this.itp.evaluateScripts();\n        this.itp.hideNonAnswered();\n      } else {//not highlighted\n      }\n    } else {\n      this.itp.highlightNonAnswered();\n    }\n  };\n\n  _proto.pausetest = function pausetest() {};\n\n  _proto.submittest = function submittest() {\n    this.state = 3;\n    console.log('performtest submitted');\n    return true;\n  };\n\n  _proto.lastPage = function lastPage() {\n    this.showstart = false;\n    this.showpause = false;\n    this.shownext = false;\n    this.showprev = true;\n    this.showsubmit = true;\n  };\n\n  _proto.lastNoPrevPage = function lastNoPrevPage() {\n    this.showstart = false;\n    this.showpause = false;\n    this.shownext = false;\n    this.showprev = false;\n    this.showsubmit = true;\n  };\n\n  _proto.firstPage = function firstPage() {\n    this.showstart = false;\n    this.showpause = false;\n    this.shownext = true;\n    this.showprev = false;\n  };\n\n  _proto.middlePage = function middlePage() {\n    this.shownext = true;\n    this.showprev = true;\n    this.showpause = true;\n  } //            document.getElementById('next').style.visibility = 'visible';\n  //            switchvisibility(allowprev, 'previous');\n\n  /*this.switchvisibility(false, 'resume');\n  this.switchvisibility(true, 'next2');\n  this.switchvisibility(this.allowprev, 'previous2');\n  this.switchvisibility(true, 'pause2');\n  */\n  //TODO move communication to another class\n  ;\n\n  _proto.postAnswerCallback = function postAnswerCallback(data) {\n    console.log('saved. Response:');\n    console.log(data); //OK to delete resume\n\n    if (\n    /*parser*/\n    this.resumeid > 0) {\n      $.ajax({\n        type: 'DELETE',\n        url: PsychoTestPauseUrl +\n        /*parser*/\n        this.resumeid,\n        contentType: 'application/json',\n        dataType: 'json',\n        success: function success(data2) {\n          /*parser*/\n          this.resumeid = 0;\n        },\n        //pausetestcallback,\n        error: function error(data2) {\n          console.log('error during deleting paused test');\n          console.log(data2);\n        } //postAnswerErrorCallback\n\n      });\n    }\n\n    this.updateResultList(); //initializeAll();\n  };\n\n  _proto.postAnswerErrorCallback = function postAnswerErrorCallback(data) {\n    console.log('error:');\n    console.log(data);\n\n    if (!localStorage.psychoTestIndex) {\n      localStorage.psychoTestIndex = 0;\n    } else {\n      localStorage.psychoTestIndex++;\n    }\n\n    if (!localStorage.psychoTestResults) localStorage.psychoTestResults = [];\n    localStorage.psychoTestResults[localStorage.psychoTestIndex] = JSON.stringify(\n    /*parser*/\n    this.result.answers);\n    alert('Pi ukldn vsledk tohoto testu dolo k chyb. Vsledky uloeny doasn lokln. Budou moci bt odeslny po vyzvn administrtora.');\n  };\n\n  _proto.postAnswers = function postAnswers(callback, errorcallback) {\n    var answers2 = [];\n    /*parser*/\n\n    this.result.answers.forEach(function (item) {\n      //console.log(item);\n      if (item) {\n        item.forEach(function (subitem) {\n          if (subitem.hasOwnProperty('checkedvalues')) delete subitem.checkedvalues;\n          answers2.push(subitem);\n        });\n      }\n    });\n    var testUser = document.getElementById('loginname') ? document.getElementById('loginname').value : 'administrator';\n    var testResult = {\n      name:\n      /*parser*/\n      this.testName,\n      user: testUser,\n      resultItems: answers2\n    }; //console.log(testResult);\n\n    $.ajax({\n      type: 'POST',\n      url: PsychoResultUrl,\n      contentType: 'application/json',\n      dataType: 'json',\n      data: JSON.stringify(testResult),\n      processData: false,\n      success: callback,\n      error: errorcallback\n    });\n  };\n\n  _proto.submittest = function submittest() {\n    if (!this.checkAnswers()) {\n      this.highlightNonAnswered();\n      return false;\n    }\n\n    if (!this.highlightEducation()) {\n      return false;\n    } //console.log(\"Responses\");\n    //console.log(answers);\n    //var testName2 = testName.toString().extract(\"test \");\n    //console.log(testName2);\n\n\n    this.showButtonsStart();\n    this.postAnswers(this.postAnswerCallback, this.postAnswerErrorCallback);\n    return true; //$.post(\"../psychotestResults\", ,null,\"json\");\n  };\n\n  return Performtest;\n}()) || _class);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyL3BlcmZvcm10ZXN0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9wZXJmb3JtdGVzdC5qcz9iNTFkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UHN5Y2hvQXBpfSBmcm9tICcuLi9jb21wb25lbnRzL3BzeWNob2FwaSc7XG5pbXBvcnQge0ludGVycHJldGVyfSBmcm9tICcuLi9jb21wb25lbnRzL2ludGVycHJldGVyJztcbmltcG9ydCB7aW5qZWN0fSBmcm9tICdhdXJlbGlhLWZyYW1ld29yayc7XG5cbkBpbmplY3QoUHN5Y2hvQXBpKVxuZXhwb3J0IGNsYXNzIFBlcmZvcm10ZXN0IHtcbiAgY29uc3RydWN0b3IocGEpIHtcbiAgICB0aGlzLnBhID0gcGE7XG4gICAgLy90aGlzLmludGVycHJldGVyID0gaXRwO1xuICAgIGNvbnNvbGUubG9nKCdwZXJmb3JtdGVzdCgpJyk7XG4gIH1cblxuICBhdHRhY2hlZCgpIHtcbiAgICB0aGlzLnN0YXRlID0gMTsgLy8xPT1zdGFydCwgMj09dGVzdCBpcyBwZXJmb3JtaW5nLCAzPT10ZXN0IGVuZGVkXG4gICAgdGhpcy5zaG93c3RhcnQgPSB0cnVlO1xuICAgIHRoaXMuc2hvd25leHQgPSBmYWxzZTtcbiAgICB0aGlzLnNob3dwcmV2ID0gZmFsc2U7XG4gICAgdGhpcy5zaG93c3VibWl0ID0gZmFsc2U7XG4gICAgdGhpcy5zaG93cGF1c2UgPSBmYWxzZTtcbiAgICBjb25zb2xlLmxvZygncGVyZm9ybXRlc3QgYXR0YWNoZWQnKTtcbiAgfVxuXG4gIGFjdGl2YXRlKHBhcmFtcywgcm91dGVDb25maWcpIHtcbiAgICB0aGlzLnRlc3RpZCA9IHBhcmFtcy5pZDtcbiAgICAvL2NvbnNvbGUubG9nKCdwZXJmb3JtdGVzdCcsIHBhcmFtcyk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGVzdCAtIHNob3dzIGZpcnN0IHNjcmVlblxuICAgKi9cbiAgc3RhcnR0ZXN0KCkge1xuICAgIHRoaXMuc3RhdGUgPSAyO1xuICAgIHRoaXMuc2hvd3ByZXYgPSBmYWxzZTtcbiAgICB0aGlzLnNob3duZXh0ID0gdHJ1ZTtcblxuICAgIGxldCBjdXJyZW50UmF3VGVzdCA9IHRoaXMucGEuZ2V0U2VsZWN0ZWRUZXN0RGVmaW5pdGlvbih0aGlzLnRlc3RpZCk7XG4gICAgLy9pZiAodHlwZW9mIGVkaXRvciAhPT0gXCJ1bmRlZmluZWRcIikgY3VycmVudFJhd1Rlc3QgPSBlZGl0b3IuZ2V0VmFsdWUoKTtcbiAgICAvL3RoaXMucGFyc2VyID0gbmV3IEludGVycHJldGVyKCk7XG4gICAgLy90aGlzLnBhcnNlci5pbml0VGVzdChjdXJyZW50UmF3VGVzdCk7XG4gICAgdGhpcy5pdHAgPSBuZXcgSW50ZXJwcmV0ZXIodGhpcyk7XG4gICAgdGhpcy5oaWRlTm9uQW5zd2VyZWQoKTtcbiAgICB0aGlzLml0cC5pbml0VGVzdChjdXJyZW50UmF3VGVzdCk7XG4gICAgdGhpcy5wcmV2aWV3LmlubmVySFRNTCA9IHRoaXMuaXRwLm5leHRwYWdlKCk7Ly9wYXJzZXIuY3VycmVudFRlc3QpO1xuICAgIC8vY29uc29sZS5sb2coZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXcnKS5pbm5lckhUTUwpO1xuICAgIHRoaXMuaXRwLmV2YWx1YXRlU2NyaXB0cygpO1xuICB9XG5cbiAgaGlkZU5vbkFuc3dlcmVkKCkge1xuICB9XG5cbiAgZXZhbHVhdGVTY3JpcHRzKCkge1xuICB9XG5cblxuICBwcmV2aXRlbSgpIHtcbiAgICB0aGlzLml0cC5wcmV2aW91c3BhZ2UoKTtcbiAgfVxuXG4gIG5leHRpdGVtKCkge1xuICAgIGlmICh0aGlzLml0cC5jaGVja0Fuc3dlcnMoKSkgeyAvL2NoZWNrIHdoZXRoZXIgYWxsIG1hbmRhdG9yeSBxdWVzdGlvbnMgYXJlIGFuc3dlcmVkIC0gc2V0IHRvIG5vbi1kZWZhdWx0IHZhbHVlXG4gICAgICBpZiAodGhpcy5pdHAuaGlnaGxpZ2h0RWR1Y2F0aW9uKCkpIHtcbiAgICAgICAgdGhpcy5wcmV2aWV3LmlubmVySFRNTCA9IHRoaXMuaXRwLm5leHRwYWdlKCk7XG4gICAgICAgIHRoaXMuaXRwLmhpZ2hsaWdodGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXRwLmV2YWx1YXRlU2NyaXB0cygpO1xuICAgICAgICB0aGlzLml0cC5oaWRlTm9uQW5zd2VyZWQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vbm90IGhpZ2hsaWdodGVkXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaXRwLmhpZ2hsaWdodE5vbkFuc3dlcmVkKCk7XG4gICAgfVxuICB9XG5cbiAgcGF1c2V0ZXN0KCkge1xuXG4gIH1cblxuICBzdWJtaXR0ZXN0KCkge1xuICAgIHRoaXMuc3RhdGUgPSAzO1xuICAgIGNvbnNvbGUubG9nKCdwZXJmb3JtdGVzdCBzdWJtaXR0ZWQnKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGxhc3RQYWdlKCkge1xuICAgIHRoaXMuc2hvd3N0YXJ0ID0gZmFsc2U7XG4gICAgdGhpcy5zaG93cGF1c2UgPSBmYWxzZTtcbiAgICB0aGlzLnNob3duZXh0ID0gZmFsc2U7XG4gICAgdGhpcy5zaG93cHJldiA9IHRydWU7XG4gICAgdGhpcy5zaG93c3VibWl0ID0gdHJ1ZTtcbiAgfVxuXG4gIGxhc3ROb1ByZXZQYWdlKCkge1xuICAgIHRoaXMuc2hvd3N0YXJ0ID0gZmFsc2U7XG4gICAgdGhpcy5zaG93cGF1c2UgPSBmYWxzZTtcbiAgICB0aGlzLnNob3duZXh0ID0gZmFsc2U7XG4gICAgdGhpcy5zaG93cHJldiA9IGZhbHNlO1xuICAgIHRoaXMuc2hvd3N1Ym1pdCA9IHRydWU7XG4gIH1cblxuICBmaXJzdFBhZ2UoKSB7XG4gICAgdGhpcy5zaG93c3RhcnQgPSBmYWxzZTtcbiAgICB0aGlzLnNob3dwYXVzZSA9IGZhbHNlO1xuICAgIHRoaXMuc2hvd25leHQgPSB0cnVlO1xuICAgIHRoaXMuc2hvd3ByZXYgPSBmYWxzZTtcbiAgfVxuXG4gIG1pZGRsZVBhZ2UoKSB7XG4gICAgdGhpcy5zaG93bmV4dCA9IHRydWU7XG4gICAgdGhpcy5zaG93cHJldiA9IHRydWU7XG4gICAgdGhpcy5zaG93cGF1c2UgPSB0cnVlO1xuICB9XG5cbiAgLy8gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV4dCcpLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gIC8vICAgICAgICAgICAgc3dpdGNodmlzaWJpbGl0eShhbGxvd3ByZXYsICdwcmV2aW91cycpO1xuICAvKnRoaXMuc3dpdGNodmlzaWJpbGl0eShmYWxzZSwgJ3Jlc3VtZScpO1xuICB0aGlzLnN3aXRjaHZpc2liaWxpdHkodHJ1ZSwgJ25leHQyJyk7XG4gIHRoaXMuc3dpdGNodmlzaWJpbGl0eSh0aGlzLmFsbG93cHJldiwgJ3ByZXZpb3VzMicpO1xuICB0aGlzLnN3aXRjaHZpc2liaWxpdHkodHJ1ZSwgJ3BhdXNlMicpO1xuICAqL1xuXG4gIC8vVE9ETyBtb3ZlIGNvbW11bmljYXRpb24gdG8gYW5vdGhlciBjbGFzc1xuXG4gIHBvc3RBbnN3ZXJDYWxsYmFjayhkYXRhKSB7XG4gICAgY29uc29sZS5sb2coJ3NhdmVkLiBSZXNwb25zZTonKTtcbiAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAvL09LIHRvIGRlbGV0ZSByZXN1bWVcbiAgICBpZiAoLypwYXJzZXIqL3RoaXMucmVzdW1laWQgPiAwKSB7XG4gICAgICAkLmFqYXgoe1xuICAgICAgICB0eXBlOiAnREVMRVRFJyxcbiAgICAgICAgdXJsOiBQc3ljaG9UZXN0UGF1c2VVcmwgKyAvKnBhcnNlciovdGhpcy5yZXN1bWVpZCxcbiAgICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YTIpIHsgLypwYXJzZXIqL1xuICAgICAgICAgIHRoaXMucmVzdW1laWQgPSAwO1xuICAgICAgICB9LCAvL3BhdXNldGVzdGNhbGxiYWNrLFxuICAgICAgICBlcnJvcjogZnVuY3Rpb24oZGF0YTIpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3IgZHVyaW5nIGRlbGV0aW5nIHBhdXNlZCB0ZXN0Jyk7XG4gICAgICAgICAgY29uc29sZS5sb2coZGF0YTIpO1xuICAgICAgICB9Ly9wb3N0QW5zd2VyRXJyb3JDYWxsYmFja1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlUmVzdWx0TGlzdCgpO1xuICAgIC8vaW5pdGlhbGl6ZUFsbCgpO1xuICB9XG5cbiAgcG9zdEFuc3dlckVycm9yQ2FsbGJhY2soZGF0YSkge1xuICAgIGNvbnNvbGUubG9nKCdlcnJvcjonKTtcbiAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICBpZiAoIWxvY2FsU3RvcmFnZS5wc3ljaG9UZXN0SW5kZXgpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5wc3ljaG9UZXN0SW5kZXggPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbFN0b3JhZ2UucHN5Y2hvVGVzdEluZGV4Kys7XG4gICAgfVxuICAgIGlmICghbG9jYWxTdG9yYWdlLnBzeWNob1Rlc3RSZXN1bHRzKSBsb2NhbFN0b3JhZ2UucHN5Y2hvVGVzdFJlc3VsdHMgPSBbXTtcbiAgICBsb2NhbFN0b3JhZ2UucHN5Y2hvVGVzdFJlc3VsdHNbbG9jYWxTdG9yYWdlLnBzeWNob1Rlc3RJbmRleF0gPSBKU09OLnN0cmluZ2lmeSgvKnBhcnNlciovdGhpcy5yZXN1bHQuYW5zd2Vycyk7XG4gICAgYWxlcnQoJ1DFmWkgdWtsw6Fkw6Fuw60gdsO9c2xlZGvFryB0b2hvdG8gdGVzdHUgZG/FoWxvIGsgY2h5YsSbLiBWw71zbGVka3kgdWxvxb5lbnkgZG/EjWFzbsSbIGxva8OhbG7Emy4gQnVkb3UgbW9jaSBiw710IG9kZXNsw6FueSBwbyB2eXp2w6Fuw60gYWRtaW5pc3Ryw6F0b3JhLicpO1xuICB9XG5cbiAgcG9zdEFuc3dlcnMoY2FsbGJhY2ssIGVycm9yY2FsbGJhY2spIHtcbiAgICBsZXQgYW5zd2VyczIgPSBbXTtcbiAgICAvKnBhcnNlciovXG4gICAgdGhpcy5yZXN1bHQuYW5zd2Vycy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIC8vY29uc29sZS5sb2coaXRlbSk7XG4gICAgICBpZiAoaXRlbSkge1xuICAgICAgICBpdGVtLmZvckVhY2goZnVuY3Rpb24oc3ViaXRlbSkge1xuICAgICAgICAgIGlmIChzdWJpdGVtLmhhc093blByb3BlcnR5KCdjaGVja2VkdmFsdWVzJykpIGRlbGV0ZSBzdWJpdGVtLmNoZWNrZWR2YWx1ZXM7XG4gICAgICAgICAgYW5zd2VyczIucHVzaChzdWJpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbGV0IHRlc3RVc2VyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2lubmFtZScpID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2lubmFtZScpLnZhbHVlIDogJ2FkbWluaXN0cmF0b3InO1xuICAgIGxldCB0ZXN0UmVzdWx0ID0ge25hbWU6IC8qcGFyc2VyKi90aGlzLnRlc3ROYW1lLCB1c2VyOiB0ZXN0VXNlciwgcmVzdWx0SXRlbXM6IGFuc3dlcnMyfTtcblxuICAgIC8vY29uc29sZS5sb2codGVzdFJlc3VsdCk7XG4gICAgJC5hamF4KHtcbiAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgIHVybDogUHN5Y2hvUmVzdWx0VXJsLFxuICAgICAgY29udGVudFR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh0ZXN0UmVzdWx0KSxcbiAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcbiAgICAgIHN1Y2Nlc3M6IGNhbGxiYWNrLFxuICAgICAgZXJyb3I6IGVycm9yY2FsbGJhY2tcbiAgICB9KTtcbiAgfVxuXG5cbiAgc3VibWl0dGVzdCgpIHtcbiAgICBpZiAoIXRoaXMuY2hlY2tBbnN3ZXJzKCkpIHtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0Tm9uQW5zd2VyZWQoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmhpZ2hsaWdodEVkdWNhdGlvbigpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy9jb25zb2xlLmxvZyhcIlJlc3BvbnNlc1wiKTtcbiAgICAvL2NvbnNvbGUubG9nKGFuc3dlcnMpO1xuICAgIC8vdmFyIHRlc3ROYW1lMiA9IHRlc3ROYW1lLnRvU3RyaW5nKCkuZXh0cmFjdChcInRlc3QgXCIpO1xuICAgIC8vY29uc29sZS5sb2codGVzdE5hbWUyKTtcbiAgICB0aGlzLnNob3dCdXR0b25zU3RhcnQoKTtcbiAgICB0aGlzLnBvc3RBbnN3ZXJzKHRoaXMucG9zdEFuc3dlckNhbGxiYWNrLCB0aGlzLnBvc3RBbnN3ZXJFcnJvckNhbGxiYWNrKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgICAvLyQucG9zdChcIi4uL3BzeWNob3Rlc3RSZXN1bHRzXCIsICxudWxsLFwianNvblwiKTtcbiAgfVxufVxuXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQUNBO0FBREE7QUFRQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhCQTtBQWtCQTtBQUVBO0FBR0E7OztBQXZCQTtBQUNBO0FBREE7QUEyQkE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUExQ0E7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQW1EQTtBQUNBO0FBQ0E7QUFyREE7QUF1REE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXBFQTtBQUNBO0FBREE7QUEwRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTlFQTtBQWdGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXRGQTtBQXdGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTlGQTtBQWdHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFyR0E7QUF1R0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7Ozs7O0FBTUE7QUFwSEE7QUFDQTtBQURBO0FBdUhBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFaQTtBQWFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUE1SUE7QUE4SUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUF6SkE7QUEySkE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFVQTtBQUNBO0FBckxBO0FBd0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQXpNQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///viewer/performtest\n");

/***/ }),

/***/ "viewer/performtest.html":
/*!*************************************!*\
  !*** ./src/viewer/performtest.html ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template>\\n  <div class=\\\"au-animate animate-fade-in animate-fade-out\\\">\\n\\n    <p id=\\\"tab2help\\\"show.bind=\\\"state==1\\\">psychoakustick test. Doporuujeme pepnout na reim pln obrazovky (Full screen) tlatkem F11 na klvesnici. Pro zahjen testu stisknte tlatko START ne na obrazovce, na konci se test ukon tlatkem KONEC,ULOZ VYSLEDKY.</p>\\n\\n    <a class=\\\"w3-pale-green w3-button w3-left\\\" show.bind=\\\"showstart\\\" click.delegate=\\\"starttest()\\\">START</a>\\n    <span id=\\\"notification\\\"></span>\\n\\n    <div ref=\\\"preview\\\">\\n\\n    </div>\\n\\n    <a class=\\\"w3-pale-green w3-button w3-left\\\" show.bind=\\\"showprev\\\" click.delegate=\\\"previtem()\\\">&lt;PEDCHOZ</a>\\n\\n    <a class=\\\"w3-pale-green w3-button w3-left\\\" show.bind=\\\"showpause\\\" click.delegate=\\\"pausetest()\\\">Peruit</a>\\n\\n    <a class=\\\"w3-pale-green w3-button w3-right\\\" show.bind=\\\"shownext\\\" click.delegate=\\\"nextitem()\\\">DAL&gt;</a>\\n\\n    <a class=\\\"w3-pale-green w3-button w3-right\\\" show.bind=\\\"showsubmit\\\" click.delegate=\\\"submittest()\\\" route-href=\\\"route: finalize\\\">KONEC. ULOZ VYSLEDKY</a>\\n\\n    <span class=\\\"w3-clear\\\"></span>\\n  </div>\\n\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyL3BlcmZvcm10ZXN0Lmh0bWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3BlcmZvcm10ZXN0Lmh0bWw/YmJjZSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHRlbXBsYXRlPlxcbiAgPGRpdiBjbGFzcz1cXFwiYXUtYW5pbWF0ZSBhbmltYXRlLWZhZGUtaW4gYW5pbWF0ZS1mYWRlLW91dFxcXCI+XFxuXFxuICAgIDxwIGlkPVxcXCJ0YWIyaGVscFxcXCJzaG93LmJpbmQ9XFxcInN0YXRlPT0xXFxcIj5wc3ljaG9ha3VzdGlja8O9IHRlc3QuIERvcG9ydcSNdWplbWUgcMWZZXBub3V0IG5hIHJlxb5pbSBwbG7DqSBvYnJhem92a3kgKEZ1bGwgc2NyZWVuKSB0bGHEjcOtdGtlbSBGMTEgbmEga2zDoXZlc25pY2kuIFBybyB6YWjDoWplbsOtIHRlc3R1IHN0aXNrbsSbdGUgdGxhxI3DrXRrbyBTVEFSVCBuw63FvmUgbmEgb2JyYXpvdmNlLCBuYSBrb25jaSBzZSB0ZXN0IHVrb27EjcOtIHRsYcSNw610a2VtIEtPTkVDLFVMT1ogVllTTEVES1kuPC9wPlxcblxcbiAgICA8YSBjbGFzcz1cXFwidzMtcGFsZS1ncmVlbiB3My1idXR0b24gdzMtbGVmdFxcXCIgc2hvdy5iaW5kPVxcXCJzaG93c3RhcnRcXFwiIGNsaWNrLmRlbGVnYXRlPVxcXCJzdGFydHRlc3QoKVxcXCI+U1RBUlQ8L2E+XFxuICAgIDxzcGFuIGlkPVxcXCJub3RpZmljYXRpb25cXFwiPjwvc3Bhbj5cXG5cXG4gICAgPGRpdiByZWY9XFxcInByZXZpZXdcXFwiPlxcblxcbiAgICA8L2Rpdj5cXG5cXG4gICAgPGEgY2xhc3M9XFxcInczLXBhbGUtZ3JlZW4gdzMtYnV0dG9uIHczLWxlZnRcXFwiIHNob3cuYmluZD1cXFwic2hvd3ByZXZcXFwiIGNsaWNrLmRlbGVnYXRlPVxcXCJwcmV2aXRlbSgpXFxcIj4mbHQ7UMWYRURDSE9aw408L2E+XFxuXFxuICAgIDxhIGNsYXNzPVxcXCJ3My1wYWxlLWdyZWVuIHczLWJ1dHRvbiB3My1sZWZ0XFxcIiBzaG93LmJpbmQ9XFxcInNob3dwYXVzZVxcXCIgY2xpY2suZGVsZWdhdGU9XFxcInBhdXNldGVzdCgpXFxcIj5QxZllcnXFoWl0PC9hPlxcblxcbiAgICA8YSBjbGFzcz1cXFwidzMtcGFsZS1ncmVlbiB3My1idXR0b24gdzMtcmlnaHRcXFwiIHNob3cuYmluZD1cXFwic2hvd25leHRcXFwiIGNsaWNrLmRlbGVnYXRlPVxcXCJuZXh0aXRlbSgpXFxcIj5EQUzFoMONJmd0OzwvYT5cXG5cXG4gICAgPGEgY2xhc3M9XFxcInczLXBhbGUtZ3JlZW4gdzMtYnV0dG9uIHczLXJpZ2h0XFxcIiBzaG93LmJpbmQ9XFxcInNob3dzdWJtaXRcXFwiIGNsaWNrLmRlbGVnYXRlPVxcXCJzdWJtaXR0ZXN0KClcXFwiIHJvdXRlLWhyZWY9XFxcInJvdXRlOiBmaW5hbGl6ZVxcXCI+S09ORUMuIFVMT1ogVllTTEVES1k8L2E+XFxuXFxuICAgIDxzcGFuIGNsYXNzPVxcXCJ3My1jbGVhclxcXCI+PC9zcGFuPlxcbiAgPC9kaXY+XFxuXFxuPC90ZW1wbGF0ZT5cXG5cIjsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///viewer/performtest.html\n");

/***/ })

/******/ });
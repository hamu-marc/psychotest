/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"app": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push([0,"vendor.bluebird","vendor.aurelia-binding","vendor.aurelia-templating","vendor.aurelia","vendor"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/components/dsl.js":
/*!*******************************!*\
  !*** ./src/components/dsl.js ***!
  \*******************************/
/*! exports provided: Dsl */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Dsl\", function() { return Dsl; });\nvar Dsl =\n/*#__PURE__*/\nfunction () {\n  function Dsl() {}\n\n  Dsl.isZvuk = function isZvuk(c) {\n    return /^[\\s]*stimulus/.test(c);\n  };\n\n  Dsl.isText = function isText(c) {\n    return /^[\\s]*text/.test(c);\n  } //    isVideo(c) { return /^[\\s]*video/.test(c); }\n  ;\n\n  Dsl.isOtazka = function isOtazka(c) {\n    return /^[\\s]*task/.test(c);\n  };\n\n  Dsl.isPanel = function isPanel(c) {\n    return /^[\\s]*panel/.test(c);\n  } //    isParvaOtazka(c) { return /^[\\s]*taskpair/.test(c); },\n  ;\n\n  Dsl.isTaskForStimuli = function isTaskForStimuli(c) {\n    return /^[\\s]*taskforstimuli/.test(c);\n  };\n\n  Dsl.startsWithZvuk = function startsWithZvuk(c) {\n    return /^[\\s]*stimulus/.test(c);\n  };\n\n  Dsl.startsWithComment = function startsWithComment(c) {\n    return /^[\\s]*#/.test(c);\n  } //isObrazovka2(c) { return /^[\\s]*dvouobrazovka/ .test(c); },\n  ;\n\n  Dsl.isKategorie = function isKategorie(c) {\n    return /^[\\s]*screen per 1/.test(c);\n  };\n\n  Dsl.isParovy = function isParovy(c) {\n    return /^[\\s]*screen per 2/.test(c);\n  };\n\n  Dsl.isObrazovka = function isObrazovka(c) {\n    return /^[\\s]*screen/.test(c);\n  };\n\n  Dsl.isSloupce = function isSloupce(c) {\n    return /^[\\s]*column/.test(c);\n  };\n\n  Dsl.isHodnoty = function isHodnoty(c) {\n    return /^[\\s]*values/.test(c);\n  };\n\n  Dsl.isCheckboxvalues = function isCheckboxvalues(c) {\n    return /^[\\s]*checkboxvalues/.test(c);\n  };\n\n  Dsl.isCheckboxvaluesOnRow = function isCheckboxvaluesOnRow(c) {\n    return /^[\\s]*checkboxvaluesonrow/.test(c);\n  } //isSkalovaci(c) { return /^[\\s]*taskscale/ .test(c); },\n  ;\n\n  Dsl.isSkalovaciHodnoty = function isSkalovaciHodnoty(c) {\n    return /^[\\s]*scalevalues/.test(c);\n  };\n\n  Dsl.isSkala = function isSkala(c) {\n    return /^[\\s]*scale/.test(c);\n  };\n\n  Dsl.isPopis = function isPopis(c) {\n    return /^[\\s]*edit/.test(c);\n  };\n\n  Dsl.isSerad2d = function isSerad2d(c) {\n    return /^[\\s]*ranking2d/.test(c);\n  };\n\n  Dsl.isPoradiVNtici = function isPoradiVNtici(c) {\n    return /^[\\s]*randomintuple/.test(c);\n  };\n\n  Dsl.isPoradiZvuku = function isPoradiZvuku(c) {\n    return /^[\\s]*randomstimuli/.test(c);\n  };\n\n  Dsl.isPoradiCase = function isPoradiCase(c) {\n    return /^[\\s]*randomscreen/.test(c);\n  };\n\n  Dsl.isRandomPairs = function isRandomPairs(c) {\n    return /^[\\s]*randompairs/.test(c);\n  };\n\n  Dsl.isValuesOnRow = function isValuesOnRow(c) {\n    return /^[\\s]*valuesonrow/.test(c);\n  };\n\n  Dsl.isSelect = function isSelect(c) {\n    return /^[\\s]*select/.test(c);\n  };\n\n  Dsl.isStyle = function isStyle(c) {\n    return /^[\\s]*#style/.test(c);\n  };\n\n  Dsl.isStyleButton = function isStyleButton(c) {\n    return /^[\\s]*#stylebutton/.test(c);\n  };\n\n  Dsl.isStyleForm = function isStyleForm(c) {\n    return /^[\\s]*#styleform/.test(c);\n  };\n\n  Dsl.isType = function isType(c) {\n    return /^[\\s]*type /.test(c);\n  };\n\n  Dsl.isExtends = function isExtends(c) {\n    return /^[\\s]*extends /.test(c);\n  };\n\n  Dsl.isStimuliGroup = function isStimuliGroup(c) {\n    return /^[\\s]*stimuligroup /.test(c);\n  };\n\n  Dsl.isWithStimuli = function isWithStimuli(c) {\n    return /^[\\s]*withstimuli/.test(c);\n  };\n\n  Dsl.isWithStimuligroup = function isWithStimuligroup(c) {\n    return /^[\\s]*withgroup/.test(c);\n  };\n\n  return Dsl;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9kc2wuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9kc2wuanM/NTFiMCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgRHNsIHtcbiAgc3RhdGljIGlzWnZ1ayhjKSB7IHJldHVybiAvXltcXHNdKnN0aW11bHVzLy50ZXN0KGMpOyB9XG4gIHN0YXRpYyBpc1RleHQoYykgeyByZXR1cm4gL15bXFxzXSp0ZXh0Ly50ZXN0KGMpOyB9XG4gIC8vICAgIGlzVmlkZW8oYykgeyByZXR1cm4gL15bXFxzXSp2aWRlby8udGVzdChjKTsgfVxuICBzdGF0aWMgaXNPdGF6a2EoYykgeyByZXR1cm4gL15bXFxzXSp0YXNrLy50ZXN0KGMpOyB9XG4gIHN0YXRpYyBpc1BhbmVsKGMpIHsgcmV0dXJuIC9eW1xcc10qcGFuZWwvLnRlc3QoYyk7IH1cbiAgLy8gICAgaXNQYXJ2YU90YXprYShjKSB7IHJldHVybiAvXltcXHNdKnRhc2twYWlyLy50ZXN0KGMpOyB9LFxuICBzdGF0aWMgaXNUYXNrRm9yU3RpbXVsaShjKSB7IHJldHVybiAvXltcXHNdKnRhc2tmb3JzdGltdWxpLy50ZXN0KGMpOyB9XG4gIHN0YXRpYyBzdGFydHNXaXRoWnZ1ayhjKSB7IHJldHVybiAvXltcXHNdKnN0aW11bHVzLy50ZXN0KGMpOyB9XG4gIHN0YXRpYyBzdGFydHNXaXRoQ29tbWVudChjKSB7IHJldHVybiAvXltcXHNdKiMvLnRlc3QoYyk7IH1cbiAgLy9pc09icmF6b3ZrYTIoYykgeyByZXR1cm4gL15bXFxzXSpkdm91b2JyYXpvdmthLyAudGVzdChjKTsgfSxcbiAgc3RhdGljIGlzS2F0ZWdvcmllKGMpIHsgcmV0dXJuIC9eW1xcc10qc2NyZWVuIHBlciAxLy50ZXN0KGMpOyB9XG4gIHN0YXRpYyBpc1Bhcm92eShjKSB7IHJldHVybiAvXltcXHNdKnNjcmVlbiBwZXIgMi8udGVzdChjKTsgfVxuICBzdGF0aWMgaXNPYnJhem92a2EoYykgeyByZXR1cm4gL15bXFxzXSpzY3JlZW4vLnRlc3QoYyk7IH1cbiAgc3RhdGljIGlzU2xvdXBjZShjKSB7IHJldHVybiAvXltcXHNdKmNvbHVtbi8udGVzdChjKTsgfVxuICBzdGF0aWMgaXNIb2Rub3R5KGMpIHsgcmV0dXJuIC9eW1xcc10qdmFsdWVzLy50ZXN0KGMpOyB9XG4gIHN0YXRpYyBpc0NoZWNrYm94dmFsdWVzKGMpIHsgcmV0dXJuIC9eW1xcc10qY2hlY2tib3h2YWx1ZXMvLnRlc3QoYyk7IH1cbiAgc3RhdGljIGlzQ2hlY2tib3h2YWx1ZXNPblJvdyhjKSB7IHJldHVybiAvXltcXHNdKmNoZWNrYm94dmFsdWVzb25yb3cvLnRlc3QoYyk7IH1cbiAgLy9pc1NrYWxvdmFjaShjKSB7IHJldHVybiAvXltcXHNdKnRhc2tzY2FsZS8gLnRlc3QoYyk7IH0sXG4gIHN0YXRpYyBpc1NrYWxvdmFjaUhvZG5vdHkoYykgeyByZXR1cm4gL15bXFxzXSpzY2FsZXZhbHVlcy8udGVzdChjKTsgfVxuICBzdGF0aWMgaXNTa2FsYShjKSB7IHJldHVybiAvXltcXHNdKnNjYWxlLy50ZXN0KGMpOyB9XG4gIHN0YXRpYyBpc1BvcGlzKGMpIHsgcmV0dXJuIC9eW1xcc10qZWRpdC8udGVzdChjKTsgfVxuICBzdGF0aWMgaXNTZXJhZDJkKGMpIHsgcmV0dXJuIC9eW1xcc10qcmFua2luZzJkLy50ZXN0KGMpOyB9XG4gIHN0YXRpYyBpc1BvcmFkaVZOdGljaShjKSB7IHJldHVybiAvXltcXHNdKnJhbmRvbWludHVwbGUvLnRlc3QoYyk7IH1cbiAgc3RhdGljIGlzUG9yYWRpWnZ1a3UoYykgeyByZXR1cm4gL15bXFxzXSpyYW5kb21zdGltdWxpLy50ZXN0KGMpOyB9XG4gIHN0YXRpYyBpc1BvcmFkaUNhc2UoYykgeyByZXR1cm4gL15bXFxzXSpyYW5kb21zY3JlZW4vLnRlc3QoYyk7IH1cbiAgc3RhdGljIGlzUmFuZG9tUGFpcnMoYykgeyByZXR1cm4gL15bXFxzXSpyYW5kb21wYWlycy8udGVzdChjKTsgfVxuICBzdGF0aWMgaXNWYWx1ZXNPblJvdyhjKSB7IHJldHVybiAvXltcXHNdKnZhbHVlc29ucm93Ly50ZXN0KGMpOyB9XG4gIHN0YXRpYyBpc1NlbGVjdChjKSB7IHJldHVybiAvXltcXHNdKnNlbGVjdC8udGVzdChjKTsgfVxuICBzdGF0aWMgaXNTdHlsZShjKSB7IHJldHVybiAvXltcXHNdKiNzdHlsZS8udGVzdChjKTsgfVxuICBzdGF0aWMgaXNTdHlsZUJ1dHRvbihjKSB7IHJldHVybiAvXltcXHNdKiNzdHlsZWJ1dHRvbi8udGVzdChjKTsgfVxuICBzdGF0aWMgaXNTdHlsZUZvcm0oYykgeyByZXR1cm4gL15bXFxzXSojc3R5bGVmb3JtLy50ZXN0KGMpOyB9XG4gIHN0YXRpYyBpc1R5cGUoYykgeyByZXR1cm4gL15bXFxzXSp0eXBlIC8udGVzdChjKTt9XG4gIHN0YXRpYyBpc0V4dGVuZHMoYykge3JldHVybiAvXltcXHNdKmV4dGVuZHMgLy50ZXN0KGMpO31cbiAgc3RhdGljIGlzU3RpbXVsaUdyb3VwKGMpIHtyZXR1cm4gL15bXFxzXSpzdGltdWxpZ3JvdXAgLy50ZXN0KGMpO31cbiAgc3RhdGljIGlzV2l0aFN0aW11bGkoYykge3JldHVybiAvXltcXHNdKndpdGhzdGltdWxpLy50ZXN0KGMpO31cbiAgc3RhdGljIGlzV2l0aFN0aW11bGlncm91cChjKSB7cmV0dXJuIC9eW1xcc10qd2l0aGdyb3VwLy50ZXN0KGMpO31cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUZBO0FBRUE7QUFBQTtBQUZBO0FBQ0E7QUFEQTtBQUlBO0FBQUE7QUFDQTtBQUxBO0FBS0E7QUFBQTtBQUxBO0FBQ0E7QUFEQTtBQU9BO0FBQUE7QUFDQTtBQVJBO0FBUUE7QUFBQTtBQUNBO0FBVEE7QUFTQTtBQUFBO0FBVEE7QUFDQTtBQURBO0FBV0E7QUFBQTtBQUNBO0FBWkE7QUFZQTtBQUFBO0FBQ0E7QUFiQTtBQWFBO0FBQUE7QUFDQTtBQWRBO0FBY0E7QUFBQTtBQUNBO0FBZkE7QUFlQTtBQUFBO0FBQ0E7QUFoQkE7QUFnQkE7QUFBQTtBQUNBO0FBakJBO0FBaUJBO0FBQUE7QUFqQkE7QUFDQTtBQURBO0FBbUJBO0FBQUE7QUFDQTtBQXBCQTtBQW9CQTtBQUFBO0FBQ0E7QUFyQkE7QUFxQkE7QUFBQTtBQUNBO0FBdEJBO0FBc0JBO0FBQUE7QUFDQTtBQXZCQTtBQXVCQTtBQUFBO0FBQ0E7QUF4QkE7QUF3QkE7QUFBQTtBQUNBO0FBekJBO0FBeUJBO0FBQUE7QUFDQTtBQTFCQTtBQTBCQTtBQUFBO0FBQ0E7QUEzQkE7QUEyQkE7QUFBQTtBQUNBO0FBNUJBO0FBNEJBO0FBQUE7QUFDQTtBQTdCQTtBQTZCQTtBQUFBO0FBQ0E7QUE5QkE7QUE4QkE7QUFBQTtBQUNBO0FBL0JBO0FBK0JBO0FBQUE7QUFDQTtBQWhDQTtBQWdDQTtBQUFBO0FBQ0E7QUFqQ0E7QUFpQ0E7QUFBQTtBQUNBO0FBbENBO0FBa0NBO0FBQUE7QUFDQTtBQW5DQTtBQW1DQTtBQUFBO0FBQ0E7QUFwQ0E7QUFvQ0E7QUFBQTtBQUNBO0FBckNBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/dsl.js\n");

/***/ }),

/***/ "./src/components/interpreter.js":
/*!***************************************!*\
  !*** ./src/components/interpreter.js ***!
  \***************************************/
/*! exports provided: Interpreter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Interpreter\", function() { return Interpreter; });\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\");\n/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _stimulusinterpreter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stimulusinterpreter */ \"./src/components/stimulusinterpreter.js\");\n/* harmony import */ var _responseinterpreter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./responseinterpreter */ \"./src/components/responseinterpreter.js\");\n/* harmony import */ var _ranking2dinterpreter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ranking2dinterpreter */ \"./src/components/ranking2dinterpreter.js\");\n/* harmony import */ var _preprocesor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./preprocesor */ \"./src/components/preprocesor.js\");\n/* harmony import */ var _dsl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dsl */ \"./src/components/dsl.js\");\n\n\n\n\n\n\nvar Interpreter =\n/*#__PURE__*/\nfunction () {\n  function Interpreter(controller) {\n    this.TestState = {\n      UND: 0,\n      OBR: 1,\n      PAR: 2,\n      KAT: 3,\n      END: 4,\n      START: 5,\n      EXT: 6,\n      STIMGR: 7,\n      REPSTIM: 8,\n      REPGRP: 9\n    };\n    this.isZvuk = void 0;\n    this.controller = controller; //is used to notify first or last page of test and to control test page flow\n\n    this.currentCursor = 0;\n    this.currentPage = 0;\n    this.maxPages = 0;\n    this.questionPage = 0;\n    this.sliderValues = [];\n    this.testName = '';\n    this.currentTest = '';\n    this.sloupce = false;\n    this.sliderId = 0;\n    this.previoustoken = ''; //holds previous token - for distinguishing states during interpretation\n\n    this.previousrow = ''; //holds previous row\n\n    this.tstate = {}; //holds structure of state variables\n    //keep the last question and values for answer\n\n    this.allowprev = true;\n    this.educational = false;\n    this.highlighted = false;\n    this.eduid = 0;\n    this.eduresults = {}; //new Responses();\n\n    this.resumeid = 0; //id of paused test; for future update\n\n    this.hodnoty = [];\n    this.hodnotySetted = true; //    this.columnnumber = 0;\n\n    this.lastformid = '';\n    this.lastformidescaped = '';\n    this.pausedtestid = 0;\n    this.parovaotazka = false;\n    this.result = new _responseinterpreter__WEBPACK_IMPORTED_MODULE_2__[\"Responseinterpreter\"]();\n    this.stimul = new _stimulusinterpreter__WEBPACK_IMPORTED_MODULE_1__[\"Stimulusinterpreter\"]();\n    this.ranking2d = new _ranking2dinterpreter__WEBPACK_IMPORTED_MODULE_3__[\"Ranking2dinterpreter\"](this);\n  }\n\n  Interpreter.extract = function extract(s, subs) {\n    return s.substring(s.indexOf(subs) + subs.length);\n  };\n\n  Interpreter.endsWith = function endsWith(s, suffix) {\n    return s.indexOf(suffix, s.length - suffix.length) !== -1;\n  };\n\n  var _proto = Interpreter.prototype;\n\n  _proto.translateObrazovka = function translateObrazovka(row) {\n    this.result.resetLast();\n    this.sloupce = false;\n    var translatedRow = \"<span class='lefthead'>\" + this.currentPage + '. ' + Interpreter.extract(row, 'screen') + \" </span><span class='righthead'>\" + this.testName + \"</span><p style='clear:both;margin:20px;'></p>\\n\";\n    this.previoustoken = 'screen';\n    return translatedRow;\n  };\n\n  _proto.translateText = function translateText(row) {\n    var output = '';\n    if (this.sloupce) output += \"<tr><td colspan='2'>\";\n    output += '<p>' + Interpreter.extract(row, 'text') + '</p>';\n    if (this.sloupce) output += '</td></tr>';\n    return output;\n  } //used multipletimes\n  ;\n\n  _proto.generateHtmlOtazkaRow = function generateHtmlOtazkaRow(suffix) {\n    this.lastformid = 'q' + this.currentPage + '.' + this.questionPage;\n    this.lastformidescaped = 'q' + this.currentPage + '\\\\\\\\.' + this.questionPage;\n    var mysuffix = '';\n    if (suffix) mysuffix = suffix;\n    return \"<form id='\" + this.lastformid + \"' name='q\" + this.currentPage + '.' + this.questionPage + \"'><fieldset><legend>\" + this.result.lastotazka + mysuffix + ' </legend>';\n  };\n\n  _proto.generateEditHeaderRow = function generateEditHeaderRow() {\n    this.lastformid = 'q' + this.currentPage + '.' + this.questionPage;\n    this.lastformidescaped = 'q' + this.currentPage + '\\\\\\\\.' + this.questionPage;\n    return \"<form id='\" + this.lastformid + \"' name='q\" + this.currentPage + '.' + this.questionPage + \"'><fieldset><legend>\" + this.result.lastotazka + '</legend>';\n  };\n\n  _proto.translateTaskForStimuli = function translateTaskForStimuli(row) {\n    this.parovaotazka = false;\n    this.result.lastotazka = Interpreter.extract(row, 'taskforstimuli '); //adds to the #1 to the question\n\n    this.hodnotySetted = false;\n    this.questionPage++; //var mytable = \"\";\n    //mytable += this.generateHtmlOtazkaRow();\n    //if (this.sloupce) { //make row of table\n    //        var mytable =  + mytable;//  + \"</td>\"; //\n    //}\n\n    return \"<tr><td class='task'>\" + this.generateHtmlOtazkaRow(' #1');\n  }\n  /*\n   *\ttranslates \"task ...\" to the HTML form\n   */\n  ;\n\n  _proto.translateOtazka = function translateOtazka(row) {\n    this.parovaotazka = false;\n    this.result.lastotazka = Interpreter.extract(row, 'task ');\n    this.hodnotySetted = false;\n    this.questionPage++;\n    return this.generateHtmlOtazkaRow();\n  } //mytableend = \"</td>\";\n  //if (columnnumber == 1) mytableend += \"</tr>\";\n  //TODO finish otazka and parovaotazka in table with 2 columns\n\n  /*\n   *\ttranslates \"parovaotazka ... \" to the HTML form with 2 sounds each in 1 column and each row has the same question\n   */\n  ;\n\n  _proto.translateParovaOtazka = function translateParovaOtazka(row) {\n    //lastotazka = row.substring(\"otazka\".length);\n    //hodnotySetted = false;\n    this.parovaotazka = true;\n    this.questionPage++;\n    this.result.lastotazka = Interpreter.extract(row, 'task ');\n    this.lastformid = 'q' + this.currentPage + '.' + this.questionPage;\n    this.lastformidescaped = 'q' + this.currentPage + '\\\\\\\\.' + this.questionPage;\n    return \"<tr><td colspan='2'><form id='\" + this.lastformid + \"'><fieldset><legend>\" + this.result.lastotazka + '</legend>';\n  }\n  /*\n   *\ttranslates \"hondoty ...\" to the opened HTML form, interprets as allowed values to be chosen by user\n   */\n\n  /*function translateHodnoty(rowsplitted) {\n   return translateHodnoty(rowsplitted, true,false);\n   }\n   */\n  ;\n\n  _proto.hashCode = function hashCode(s) {\n    return s.split('').reduce(function (a, b) {\n      a = (a << 5) - a + b.charCodeAt(0);\n      return a & a;\n    }, 0);\n  };\n\n  _proto.generateHtmlRow = function generateHtmlRow(rowsplitted, radiobuttons, taskindex) {\n    var translatedRow = '';\n\n    for (var j = 1; j < rowsplitted.length; j++) {\n      var mybr = '<br />';\n      var myvalue = rowsplitted[j];\n      var myid = this.hashCode(this.lastformid + 'v' + myvalue);\n      if (this.parovaotazka || this.valuesonrow) mybr = '&nbsp; &nbsp;'; //don't make new line in parova otazka or when values on row\n\n      if (radiobuttons) {\n        translatedRow += \"<input id='\" + myid + \"'type='radio' name='otazka' value='\" + myvalue + \"' onclick='setAnswer(\" + this.currentPage + ',' + this.questionPage + \",this)'/><label for='\" + myid + \"' class='answer'><span><span></span></span>\" + myvalue + '</label>' + mybr;\n      } else {\n        translatedRow += \"<input id='\" + myid + \"' type='checkbox' name='otazka' value='\" + myvalue + \"' onclick='setCheckAnswer(\" + this.currentPage + ',' + this.questionPage + \",this)'/><label for='\" + myid + \"'span class='answer'><span></span>\" + myvalue + '</label>' + mybr;\n      }\n\n      this.result.setDefaultAnswer(this.currentPage, this.questionPage, taskindex);\n    }\n\n    return translatedRow;\n  };\n\n  _proto.translateHodnoty = function translateHodnoty(rowsplitted) {\n    var radiobuttons = !_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isCheckboxvalues(rowsplitted[0]);\n    this.valuesonrow = _dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isCheckboxvaluesOnRow(rowsplitted[0]) || _dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isValuesOnRow(rowsplitted[0]);\n    var translatedRow = '';\n    var taskindex = '';\n    if (this.sloupce && !this.parovaotazka) taskindex = ' #1';\n    translatedRow += this.generateHtmlRow(rowsplitted, radiobuttons, taskindex);\n    translatedRow += '</fieldset></form>\\n';\n\n    if (this.sloupce) //coppies the same task and values to the second collumn of the pairs\n      {\n        if (this.parovaotazka) {\n          translatedRow += '</td></tr>';\n        } else {\n          //close the column, duplicate question to second column and close the row\n          this.questionPage++;\n          taskindex = ' #2';\n          translatedRow += \"</fieldset></form></td><td class='task'>\" + this.generateHtmlOtazkaRow(taskindex); //fix bug#249 added closing form tag\n\n          translatedRow += this.generateHtmlRow(rowsplitted, radiobuttons, taskindex);\n          translatedRow += '</fieldset></form></td></tr>';\n        }\n      } //will remember the values of last question - it is not needed to repeat them\n\n\n    this.hodnoty[this.result.lastotazka] = rowsplitted;\n    this.hodnotySetted = true;\n    return translatedRow;\n  };\n\n  _proto.splitValues = function splitValues(row) {\n    var re1 = /[ ;,]+/; // fix feature bug #240, coma ',' is used to separate interval numbers\n\n    if (!row.contains('\"')) return row.split(re1);\n    var rowsplitted = [];\n    var quote = false;\n    var currentitem = '';\n\n    for (var i = 0; i < row.length; i++) {\n      if (!quote) //normal split\n        {\n          if (/[\\\"]/.test(row[i])) quote = true;else if (/[, ;]/.test(row[i])) {\n            if (currentitem.length > 0) rowsplitted.push(currentitem);\n            currentitem = '';\n          } else {\n            currentitem += row[i];\n          }\n        } else {\n        //quotes add everything between quotes\n        if (/[\\\"]/.test(row[i])) {\n          rowsplitted.push(currentitem);\n          currentitem = '';\n          quote = false;\n        } else {\n          currentitem += row[i];\n        }\n      }\n    }\n\n    if (currentitem.length > 0) rowsplitted.push(currentitem);\n    return rowsplitted;\n  };\n\n  _proto.translateScale = function translateScale(previousrow, rowsplitted) {\n    if (this.sloupce && !this.parovaotazka) {\n      //makes two coppies of the task for each stimulus in pair\n      var translated = '\\n' + this.translateSkalovaci() + this.translateSkalovaciHodnoty(rowsplitted, ' #1');\n      this.questionPage++;\n      translated += '</fieldset></form></td><td>' + this.generateHtmlOtazkaRow(' #2') + this.translateSkalovaci() + this.translateSkalovaciHodnoty(rowsplitted, ' #2') + '</fieldset></form></tr></td>\\n';\n      return translated;\n    }\n\n    return this.translateSkalovaci(previousrow) + this.translateSkalovaciHodnoty(rowsplitted);\n  };\n\n  _proto.translateVAScale = function translateVAScale(previousrow, rowsplitted) {\n    if (this.sloupce && !this.parovaotazka) {\n      //makes two coppies of the task for each stimulus in pair\n      var translated = '\\n' + this.translateSkalovaci() + this.translateSkalovaciVAHodnoty(rowsplitted, ' #1');\n      this.questionPage++;\n      translated += '</fieldset></form></td><td>' + this.generateHtmlOtazkaRow(' #2') + this.translateSkalovaci() + this.translateSkalovaciVAHodnoty(rowsplitted, ' #2') + '</fieldset></form></tr></td>\\n';\n      return translated;\n    }\n\n    return this.translateSkalovaci(previousrow) + this.translateSkalovaciVAHodnoty(rowsplitted);\n  }\n  /*  translateSkalovaciHodnoty(rowsplitted) {\n    return this.translateSkalovaciHodnoty(rowsplitted,\"\");\n  };\n  */\n  ;\n\n  _proto.translateSkalovaciHodnoty = function translateSkalovaciHodnoty(rowsplitted, taskindex) {\n    if (taskindex === void 0) {\n      taskindex = '';\n    }\n\n    //moved to translateSkalovaci questionPage++; //increase index of answer\n    this.result.setDefaultAnswer(this.currentPage, this.questionPage, taskindex); //fix bug # 198\n    //var rowsplitted = splitValues(row);\n\n    var translatedRow = '';\n    this.sliderValues[this.sliderId] = rowsplitted.slice(1);\n    translatedRow += '<script>Interpreter.makeSlider(0, 0,' + (this.sliderValues[this.sliderId].length - 1) + ', 1, ' + this.sliderId + ',' + this.questionPage + ');</script>'; //    if (this.sloupce)\n    //        if (this.parovaotazka) {\n    //            translatedRow += \"</td></tr>\";\n\n    /*        } else {\n                this.questionPage++;\n                this.sliderId++;\n                this.sliderValues[this.sliderId] = rowsplitted.slice(1);\n                this.result.setDefaultAnswer(this.currentPage, this.questionPage); //fix bug # 198\n                translatedRow += \"<script>makeSlider(0, 0,\" + (this.sliderValues[this.sliderId].length-1) + \", 1, \" + this.sliderId + \",\" + this.questionPage + \");</script>\";\n            }*/\n    //} else {\n    //    this.questionPage++;\n    //    this.sliderId++;\n    //    this.result.setDefaultAnswer(this.currentPage, this.questionPage); //fix bug # 198\n    //    //var rowsplitted = splitValues(row);\n    //    //translatedRow = \"\";\n    //    this.sliderValues[this.sliderId] = rowsplitted.slice(1);\n    //    translatedRow += \"<td><tr><script>makeSlider(0, 0,\" + (this.sliderValues[this.sliderId].length-1) + \", 1, \" + this.sliderId + \",\" + this.questionPage + \");</script>\";\n    //}\n\n    return translatedRow;\n  }\n  /* translateSkalovaciVAHodnoty(rowsplitted) {\n    return this.translateSkalovaciVAHodnoty(rowsplitted,\"\");\n  };\n   */\n  ;\n\n  _proto.translateSkalovaciVAHodnoty = function translateSkalovaciVAHodnoty(rowsplitted, taskindex) {\n    if (taskindex === void 0) {\n      taskindex = '';\n    }\n\n    //moved to translateSkalovaci questionPage++; //increase index of answer\n    this.result.setDefaultAnswer(this.currentPage, this.questionPage, taskindex); //fix bug #198\n\n    var translatedRow = '';\n    var mySliderValues = []; //console.log(\"translateSkalocavi rowsplitted:\");\n    //console.log(rowsplitted)\n\n    /*for (var i = 3; i < rowsplitted.length;i=i+2 ) {\n     mySliderValues[parseInt(rowsplitted[i])]= rowsplitted[i+1];\n     }\n     sliderValues[sliderId] = mySliderValues;\n     */\n\n    if (rowsplitted[2].indexOf('(') > 0) {\n      //fix bug #269 scale 0 100(0.5) will be translated as 0 100 with step 0.5\n      var maxstep = rowsplitted[2].split(/[\\(\\)]/); //console.log(\"maxstep\");\n      //console.log(maxstep)\n\n      for (var i = 3; i < rowsplitted.length; i = i + 2) {\n        //mySliderValues[Math.floor(parseInt(rowsplitted[i])/maxstep[1] - rowsplitted[1])] = rowsplitted[i + 1];//fix bug #269 add correct indices to ticks -100 100(0.5) will make -200 200\n        mySliderValues[parseFloat(rowsplitted[i])] = rowsplitted[i + 1]; //fix bug #269 new version of labeled, changed to parsefloat\n        //mySliderValues[rowsplitted[i]] = rowsplitted[i + 1]; //fix bug #minus float values not determined??\n      }\n\n      this.sliderValues[this.sliderId] = mySliderValues;\n      translatedRow += '<script>Interpreter.makeVASlider(' + this.sliderId + ',' + rowsplitted[1] + ',' + maxstep[0] + ', ' + this.questionPage + ',' + maxstep[1] + ');</script>';\n    } else {\n      for (i = 3; i < rowsplitted.length; i = i + 2) {\n        mySliderValues[parseInt(rowsplitted[i])] = rowsplitted[i + 1];\n      }\n\n      this.sliderValues[this.sliderId] = mySliderValues;\n      translatedRow += '<script>Interpreter.makeVASlider(' + this.sliderId + ',' + rowsplitted[1] + ',' + rowsplitted[2] + ', ' + this.questionPage + ');</script>';\n    } //console.log(\"va hodnoty js:\" + translatedRow);\n\n\n    return translatedRow;\n  };\n\n  _proto.translateSkalovaci = function translateSkalovaci(row) {\n    var translatedRow = ''; //\"<br />\";\n\n    this.sliderId++;\n    if (row) this.result.lastotazka = Interpreter.extract(row, 'task '); //fix bug #198\n    //move to task questionPage++; //moved from skalovaci??hodnoty\n    //fix #212    translatedRow += \"<p id='q\" + currentPage + \".\" + questionPage + \"' class='label'><input class='sliderlabel' readonly='true' type='text' id='slider\" + sliderId + \"Value'></p>\";\n\n    translatedRow += \"<p class='label'><input class='sliderlabel' readonly='true' type='text' id='slider\" + this.sliderId + \"Value'></p>\";\n    translatedRow += \"<div id='slider\" + this.sliderId + \"'></div>\"; //translatedRow += \"<br /><br />\";\n    //console.log(\"translateSkalovaci \" + sliderId);\n    //move it to skalovacihodnoty\n\n    return translatedRow;\n  };\n\n  _proto.translatePopis = function translatePopis(row) {\n    var taskindex = '';\n    if (this.sloupce && !this.parovaotazka) taskindex = ' #1';\n    if (Interpreter.endsWith(row, '?')) this.result.setDefaultOptionalAnswer(this.currentPage, this.questionPage, taskindex);else this.result.setDefaultAnswer(this.currentPage, this.questionPage, taskindex);\n    var translatedrow = \"<textarea rows='1' onkeyup='setAnswer(\" + this.currentPage + ',' + this.questionPage + \",this)'></textarea>\";\n\n    if (this.sloupce) {\n      if (this.parovaotazka) {\n        translatedrow += '</fieldset></form></td></tr>';\n      } else {\n        this.questionPage++;\n        taskindex = ' #2';\n        translatedrow += '</fieldset></form></td><td>' + this.generateHtmlOtazkaRow(taskindex); //fix bug#249 added closing form tag\n\n        if (Interpreter.endsWith(row, '?')) this.result.setDefaultOptionalAnswer(this.currentPage, this.questionPage, ' #2');else this.result.setDefaultAnswer(this.currentPage, this.questionPage, taskindex);\n        translatedrow += \"<textarea rows='1' onkeyup='setAnswer(\" + this.currentPage + ',' + this.questionPage + \",this)'></textarea>\";\n      }\n    }\n\n    return translatedrow;\n  } //if the question is not closed put values from previously defined question with values\n  ;\n\n  _proto.closeOtazka = function closeOtazka() {\n    if (!this.hodnotySetted) {\n      //console.log(\"closeOtazka() last values not set\");\n      //console.log(hodnoty);\n      //console.log(lastotazka);\\\n      this.hodnotySetted = true;\n\n      if (this.hodnoty[this.result.lastotazka]) {\n        //console.log(\"setting from last values\");\n        return this.translateHodnoty(this.hodnoty[this.result.lastotazka]);\n      }\n\n      return '</fieldset></form>\\n';\n    }\n\n    return '';\n  }\n  /*\n   *\t\"sloupce\" command initiate the HTML output to be generate into the HTML table with 2 collumns\n   */\n  ;\n\n  _proto.translateSloupce = function translateSloupce() {\n    if (!this.sloupce) {\n      this.sloupce = true; //return \"<table><thead><tr><th class='tablefirst'/><th class='tablesecond'/></thead><tbody><tr>\";\n\n      return '<table><tr>';\n    }\n\n    return '';\n  };\n\n  _proto.closeSloupce = function closeSloupce() {\n    if (this.sloupce) {\n      this.sloupce = false;\n      return '</tr></tbody></table>';\n    }\n\n    return '';\n  } //select generates select menu\n  ;\n\n  _proto.translateSelect = function translateSelect(rowsplitted) {\n    //fix bug ... indicate that the element was answered by changing the background\n    var row = \"<select onclick='this.style.background=\\\"lightblue\\\"; setAnswer(\" + this.currentPage + ',' + this.questionPage + \",this);' onchange='setAnswer(\" + this.currentPage + ',' + this.questionPage + \",this);'>\";\n\n    for (var i = 1; i < rowsplitted.length; i++) {\n      row += \"<option value='\" + rowsplitted[i] + \"'>\" + rowsplitted[i] + '</option>';\n    }\n\n    row += '</select>';\n    this.result.setDefaultAnswer(this.currentPage, this.questionPage); //fix bug # 198\n\n    return row;\n  };\n\n  _proto.translateStyle = function translateStyle(previoustoken, row) {\n    var firsttoken = row.trim().split(' ', 2)[0]; //gets #style or #stylebutton or #styleform\n\n    var styledefinition = Interpreter.extract(row, firsttoken); //extract the previously obtained token\n\n    if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isObrazovka(previoustoken)) //style of body e.g.:max-width:40em\n      {\n        return \"\\n<script>document.body.style='\" + styledefinition + \"'</script>\\n\";\n      }\n\n    if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isZvuk(previoustoken)) //style of all stimulus attribute e.g.: width:10%;\n      {\n        return \"\\n<script>$('.stimulus').attr('style','\" + styledefinition + \"');</script>\\n\";\n      }\n\n    if (previoustoken === 'button') {\n      return \"\\n<script>$('.sound-button').attr('style','\" + styledefinition + \"');</script>\\n\";\n    }\n\n    if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isOtazka(previoustoken)) {\n      return \"\\n<script>$('.task').attr('style','\" + styledefinition + \"');</script>\\n\";\n    }\n\n    if (previoustoken === 'form') {\n      return '\\n<script>' + //\"console.log('\" +lastformidescaped+\"');\"+ //logs\n      \"$('#\" + this.lastformidescaped + \"').attr('style','\" + styledefinition + \"');\" + //sets style for the form element with last formid\n      \"$('#\" + this.lastformidescaped + \" ~ form').attr('style','\" + styledefinition + \"');\" + //and sets style for all other sibling forms\n      '</script>\\n';\n    } //fix #212, 248\n    //return \"\\n<script>$('.task').children('form').attr('style','\" + styledefinition + \"');</script>\\n\";\n\n\n    return '';\n  };\n\n  _proto.translateType = function translateType(row) {\n    //translates type - educational mode, previous button allowed/notallowed etc.\n    if (row.contains('nopreviousbutton')) this.allowprev = false;\n    if (row.contains('yespreviousbutton')) this.allowprev = true;\n    if (row.contains('educational')) this.educational = true;\n\n    if (this.educational) {\n      this.eduid = row.match(/educational\\(([\\d]+)\\)/)[1];\n      if (this.eduid !== '') this.getEduResults();\n    } //indexOf(\"educational\")+1\n\n  };\n\n  _proto.getEduResults = function getEduResults() {\n    $.getJSON(PsychoResultIdUrl + this.eduid, null, function (data) {\n      //console.log(\"retrieved educational raw results\");\n      //console.log(data);\n      this.eduresults = {};\n      data[0].resultItems.forEach(function (item) {\n        //console.log(\"parsing item:\");\n        //console.log(item);\n        var itemobj = RepairJSONResultItem(item);\n        if (!this.eduresults[itemobj.case]) this.eduresults[itemobj.case] = {};\n        if (!this.eduresults[itemobj.case].answer) this.eduresults[itemobj.case].answer = [];\n        this.eduresults[itemobj.case].answer[itemobj.question.trim()] = itemobj.answer;\n        if (!this.eduresults[itemobj.case].note) this.eduresults[itemobj.case].note = [];\n        if (!itemobj.note) this.eduresults[itemobj.case].note[itemobj.question.trim()] = itemobj.date; //TODO new collumn for note, current workaround, note into date collumn\n        else this.eduresults[itemobj.case].note[itemobj.question.trim()] = itemobj.note;\n      }); //console.log(\"retrieved educational results\");\n      //console.log(eduresults);\n    });\n  } //translate one row\n  ;\n\n  _proto.translateTestItems = function translateTestItems(row) {\n    var translatedRow = '';\n    row = row.trim(); //console.log('test item:');\n    //console.log(row);\n\n    /*var re1 = /[ ;,]+/; // fix feature bug #240, coma ',' is used to separate interval numbers\n     var rowsplitted = row.split(re1);*/\n\n    var rowsplitted = this.splitValues(row); //fix bug, comas and spaces in quotes\n\n    if (rowsplitted.length === 0) return translatedRow;\n    if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isZvuk(rowsplitted[0])) translatedRow += this.stimul.translateZvuk(rowsplitted, this.tstate.poradivnticinahodne, this.result, this.sloupce);else if (!startsWithComment(rowsplitted[0])) translatedRow += this.stimul.translateNonZvuk(row); //do separation between stimuli and other elements\n\n    if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isZvuk(rowsplitted[0])) {}\n    /* already done in previous call, no action*/\n    //else if (Dsl.isVideo(rowsplitted[0])) translatedRow += this.stimul.translateVideo(rowsplitted); //deprecated\n    else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isText(rowsplitted[0])) translatedRow += this.translateText(row);else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isSloupce(rowsplitted[0])) translatedRow += this.translateSloupce();\n      /*else if (Dsl.isParovaOtazka(rowsplitted[0])) { //priority over Dsl.isOtazka\n          translatedRow += this.closeOtazka();\n          translatedRow += this.translateParovaOtazka(row);\n      } //else if (Dsl.isSkalovaci(rowsplitted[0])) translatedRow += translateSkalovaci(row); //priority over Dsl.isOtazka\n      */\n      else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isTaskForStimuli(rowsplitted[0])) {\n          translatedRow += this.closeOtazka();\n          if (this.sloupce) translatedRow += this.translateTaskForStimuli(row);else Console.log(\"Warning: unexpected token 'taskforstimuli' not in pair \");\n        } else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isOtazka(rowsplitted[0])) {\n          translatedRow += this.closeOtazka();\n          if (this.sloupce) translatedRow += this.translateParovaOtazka(row);else translatedRow += this.translateOtazka(row);\n        } else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isPanel(rowsplitted[0])) {\n          translatedRow += this.closeOtazka();\n        } else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isHodnoty(rowsplitted[0]) || _dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isCheckboxvalues(rowsplitted[0])) translatedRow += this.translateHodnoty(rowsplitted); //will match also valuesonrow and checkboxvaluesonrow\n        // move decDsl.ision on type of hodnoty on function translateValues else if (Dsl.isHodnoty(rowsplitted[0])) translatedRow += translateHodnoty(rowsplitted,true);\n        //else if (Dsl.isCheckboxvalues(rowsplitted[0])) translatedRow += translateHodnoty(rowsplitted, false);\n        else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isSkalovaciHodnoty(rowsplitted[0])) translatedRow += this.translateScale(this.previousrow, rowsplitted);else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isSkala(rowsplitted[0])) translatedRow += this.translateVAScale(this.previousrow, rowsplitted);else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isPopis(rowsplitted[0])) translatedRow += this.translatePopis(row);else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isSerad2d(rowsplitted[0])) translatedRow += this.ranking2d.translateSerad2d(row.slice('ranking2d'.length), this.stimul.audioid, this.currentPage, this.questionPage++);else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isSelect(rowsplitted[0])) translatedRow += this.translateSelect(rowsplitted);else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isStyleButton(rowsplitted[0])) translatedRow += this.translateStyle('button', row);else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isStyleForm(rowsplitted[0])) translatedRow += this.translateStyle('form', row);else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isStyle(rowsplitted[0])) translatedRow += this.translateStyle(this.previoustoken, row);else if (_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isType(rowsplitted[0])) this.translateType(row);\n\n    this.previoustoken = rowsplitted[0];\n    if (!startsWithComment(rowsplitted[0])) this.previousrow = row;\n    return translatedRow;\n  };\n\n  _proto.footerPageNumber = function footerPageNumber() {\n    return \"<p align='center' class='footer'>Obrazovka \" + this.currentPage + ' z celkem ' + this.maxPages + '.</p>';\n  } //shuffle randomly the array\n  ;\n\n  _proto.shuffle = function shuffle() {\n    var i = this.length;\n    var j;\n    var temp;\n    if (i == 0) return this;\n\n    while (--i) {\n      j = Math.floor(Math.random() * (i + 1));\n      temp = this[i];\n      this[i] = this[j];\n      this[j] = temp;\n    }\n\n    return this;\n  }\n  /*\n   *\tthis script will preprocess the test - make combination of screens etc. before it is interpretted\n   * e.g. \"parovytest\", there are made pairs from the sounds within this test and generated screens,\n   *      for 2 sound there is 1 pair, for 3 sounds there are 3 pair combination [1,2][1,3][2,3], ...\n   */\n  ;\n\n  //reset all values\n  _proto.initTest = function initTest(currentRawTest) {\n    /*this.tstate.poradivnticinahodne = false;\n    this.tstate.poradizvukunahodne = false;\n    this.tstate.poradicasenahodne = false;*/\n    this.educational = false;\n    this.highlighted = false;\n    this.prep = new _preprocesor__WEBPACK_IMPORTED_MODULE_4__[\"Preprocesor\"](this);\n    this.currentTest = this.prep.preprocessTest(currentRawTest); //preprocess from currentRawTest to currentTest\n\n    this.tstate = this.prep.tstate; //console.log(currentTest);\n\n    this.maxPages = this.currentTest.match(/\\n[\\s]*screen/ig).length;\n    this.testName = Interpreter.extract(this.currentTest.match(/test .*/i).toString(), 'test ');\n    this.currentCursor = 0;\n    this.currentPage = 0;\n    this.resumeid = 0;\n    this.result.answers = []; //reset answers TODO check\n\n    this.sliderValues = []; //reset slider values\n  };\n\n  _proto.resumeTest = function resumeTest(currentRawTest, page, answers, resumeid) {\n    this.educational = false; //TODO persist\n\n    this.highlighted = false; //TODO persist\n\n    this.sliderValues = []; //TODO persist?\n\n    this.resumeid = resumeid;\n    this.prep = new _preprocesor__WEBPACK_IMPORTED_MODULE_4__[\"Preprocesor\"](this);\n    this.currentTest = currentRawTest; //a;ready preprocessed\n\n    this.tstate = this.prep.tstate; //console.log(currentTest);\n\n    this.maxPages = this.currentTest.match(/\\n[\\s]*screen/ig).length;\n    this.testName = Interpreter.extract(this.currentTest.match(/test .*/i).toString(), 'test ');\n    this.currentCursor = 0;\n    this.currentPage = 0; //    this.currentPage = page; //persistent\n\n    if (page > 0) {\n      page--;\n\n      while (this.currentPage < page) {\n        this.nextpage();\n      }\n    } else {\n      console.log('weird paused at page 0; or 1;');\n    }\n\n    this.result.answers = answers; //reset answers\n  };\n\n  _proto.findPreviousObrazovka = function findPreviousObrazovka(testDSL) {\n    var splitted = testDSL.split('\\n');\n    this.currentCursor--;\n    this.currentPage -= 2;\n\n    while (this.currentCursor > 0 && !splitted[this.currentCursor].startsWith('screen')) {\n      this.currentCursor--;\n    }\n\n    if (this.currentCursor > 0) this.currentCursor--; //step over the curent item\n\n    while (this.currentCursor > 0 && !splitted[this.currentCursor].startsWith('screen')) {\n      this.currentCursor--;\n    }\n  }\n  /*nextpage(){\n    return \"<p>some demo test</p>\";\n  }*/\n  ;\n\n  Interpreter.makeSlider = function makeSlider(sliderVal, sliderMin, sliderMax, sliderStep, sliderId, myQuestionPage) {\n    //console.log(\"slider\");\n    this.result.setDefaultAnswer(\n    /*parser*/\n    this.currentPage, myQuestionPage);\n    var myslider = $('#slider' + sliderId);\n    myslider.labeledslider({\n      value: sliderVal,\n      min: sliderMin,\n      max: sliderMax,\n      step: sliderStep,\n      slide: function slide(event, ui) {\n        $('#slider' + sliderId + 'Value').val(\n        /*parser*/\n        this.sliderValues[sliderId][ui.value]); //ui.handle.style.backgroundColor = \"lightblue\";//css(\"background-color\",\"lightblue\"); jquery ui\n\n        this.style.background = 'lightblue';\n        setAnswer(\n        /*parser*/\n        this.currentPage, myQuestionPage,\n        /*parser*/\n        this.sliderValues[sliderId][ui.value]);\n      },\n      start: function start(event, ui) {\n        $('#slider' + sliderId + 'Value').val(\n        /*parser*/\n        this.sliderValues[\n        /*parser*/\n        this.sliderId][ui.value]); //ui.handle.style.backgroundColor = \"lightblue\";\n\n        this.style.background = 'lightblue';\n        setAnswer(\n        /*parser*/\n        this.currentPage, myQuestionPage,\n        /*parser*/\n        this.sliderValues[\n        /*parser*/\n        this.sliderId][ui.value]);\n      },\n      tickLabels:\n      /*parser*/\n      this.sliderValues[sliderId]\n    });\n    var width = myslider.width() / (\n    /*parser*/\n    this.sliderValues[\n    /*parser*/\n    this.sliderId].length - 1);\n  };\n\n  Interpreter.makeVASlider = function makeVASlider(sliderId, sliderMin, sliderMax, myQuestionPage, sliderStep) {\n    if (sliderStep === void 0) {\n      sliderStep = 1;\n    }\n\n    //console.log(\"VAslider\");\n    this.result.setDefaultAnswer(\n    /*parser*/\n    this.currentPage, myQuestionPage);\n    var sliderKeysstr = Object.keys(\n    /*parser*/\n    this.sliderValues[sliderId]);\n    var sliderKeys = sliderKeysstr.map(Number); //fix bug #269 new version of labeledslider requires numbers\n\n    $('#slider' + sliderId).labeledslider({\n      value: sliderMin,\n      min: sliderMin,\n      max: sliderMax,\n      step: sliderStep,\n      slide: function slide(event, ui) {\n        $('#slider' + sliderId + 'Value').val(ui.value);\n        this.style.background = 'lightblue';\n        setAnswer(\n        /*parser*/\n        this.currentPage, myQuestionPage, ui.value);\n      },\n      start: function start(event, ui) {\n        $('#slider' + sliderId + 'Value').val(ui.value);\n        this.style.background = 'lightblue'; //$(\"#slider\" + sliderId).css(\"background\",\"lightblue\");\n\n        setAnswer(\n        /*parser*/\n        this.currentPage, myQuestionPage, ui.value);\n      },\n      //tickInterval:sliderStep,\n      tickArray: sliderKeys,\n      tickLabels:\n      /*parser*/\n      this.sliderValues[sliderId]\n    });\n  };\n\n  _proto.starttest = function starttest() {\n    $('#tab2help').hide(); //.fadeOut(500); TODO html specific\n\n    var currentRawTest = this.selectedTestDefinition;\n    if (typeof this.editor !== 'undefined') currentRawTest = this.editor.getValue(); //    parser = new Interpreter();\n\n    this.initTest(currentRawTest);\n    this.hideNonAnswered();\n    this.controller.preview.innerHTML = this.nextpage(); ///*parser*/this.currentTest);\n    //console.log(this.controller.preview.innerHTML);\n\n    this.evaluateScripts();\n  };\n\n  _proto.resumetest = function resumetest() {\n    $('#tab2help').hide(); //.fadeOut(500); TODO html specific\n    //var currentRawTest = selectedTestDefinition;\n    //if (typeof editor !== \"undefined\") currentRawTest = editor.getValue();\n    //parser = new Interpreter();\n\n    this.resumeTest(this.selectedTestDefinition, this.selectedTestScreennumber, this.selectedTestAnswers, this.selectedTestId);\n    this.hideNonAnswered();\n    this.controller.preview.innerHTML = this.nextpage(); ///*parser*/this.currentTest);\n    //console.log(this.controller.preview.innerHTML);\n\n    this.evaluateScripts();\n  };\n\n  _proto.nextpage = function nextpage() {\n    var testDSL = this.currentTest;\n    this.currentPage++;\n    this.questionPage = 0;\n    this.stimul.audioid = 0; //reset audioid\n\n    console.log('next page', this.currentPage);\n    if (this.currentPage === this.maxPages) this.controller.lastPage();else if (this.currentPage === 1) this.controller.firstPage();else this.controller.middlePage();\n    var translatedheader = '';\n    var splitted = testDSL.split('\\n'); //go from cursor to the first \"screen\" which will be start of interpretation\n\n    while (\n    /*parser*/\n    this.currentCursor < splitted.length && !_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isObrazovka(splitted[\n    /*parser*/\n    this.currentCursor])) {\n      /*parser*/\n      this.currentCursor++;\n    } //translate obrazovka row\n\n\n    if (\n    /*parser*/\n    this.currentCursor < splitted.length) {\n      translatedheader +=\n      /*parser*/\n      this.translateObrazovka(splitted[\n      /*parser*/\n      this.currentCursor]);\n      /*parser*/\n\n      this.currentCursor++;\n    } //interpret everything until next 'obrazovka or end'\n\n\n    while (\n    /*parser*/\n    this.currentCursor < splitted.length && !_dsl__WEBPACK_IMPORTED_MODULE_5__[\"Dsl\"].isObrazovka(splitted[\n    /*parser*/\n    this.currentCursor])) {\n      translatedheader +=\n      /*parser*/\n      this.translateTestItems(splitted[\n      /*parser*/\n      this.currentCursor]);\n      /*parser*/\n\n      this.currentCursor++;\n    } //console.log(\"translated 0:\" + translatedheader);\n\n\n    translatedheader +=\n    /*parser*/\n    this.closeOtazka(); //close open questions without values\n\n    translatedheader +=\n    /*parser*/\n    this.closeSloupce();\n    translatedheader +=\n    /*parser*/\n    this.stimul.closeQuestionDiv();\n    translatedheader +=\n    /*parser*/\n    this.footerPageNumber();\n    console.log(\"translated header:\", translatedheader);\n    return translatedheader;\n  };\n\n  _proto.traversetest = function traversetest(definition, callback, errorcallback) {\n    /*parser*/\n    this.initTest(definition);\n\n    while (\n    /*parser*/\n    this.currentPage <\n    /*parser*/\n    this.maxPages) {\n      this.nextpage();\n    } //evaluateScripts(); //there are no scripts, only innerhtml\n\n\n    this.postAnswers(callback, errorcallback);\n  } //TODO check if needed - remove\n  ;\n\n  _proto.cleartest = function cleartest() {\n    this.controller.preview.innerHTML = '';\n    this.showButtonsStart();\n  } //TODO check if needed - remove\n  ;\n\n  _proto.previoustestitem = function previoustestitem() {\n    /*parser*/\n    this.findPreviousObrazovka(\n    /*parser*/\n    this.currentTest);\n    this.controller.preview.innerHTML = this.nextpage();\n    this.evaluateScripts();\n  } //TODO violation of separation, mixed parser-interpreter and content\n  ;\n\n  _proto.checkAnswersInScreen = function checkAnswersInScreen() {\n    var foundNA = false;\n    var item;\n\n    if (\n    /*parser*/\n    this.result.answers[\n    /*parser*/\n    this.currentPage - 1]) {\n      for (var i = 0; i <\n      /*parser*/\n      this.result.answers[\n      /*parser*/\n      this.currentPage - 1].length; i++) {\n        if (\n        /*parser*/\n        this.result.answers[\n        /*parser*/\n        this.currentPage - 1][i] &&\n        /*parser*/\n        this.result.answers[\n        /*parser*/\n        this.currentPage - 1][i].answer) {\n          if (\n          /*parser*/\n          this.result.answers[\n          /*parser*/\n          this.currentPage - 1][i].answer === 'N/A') {\n            //highlight - /*parser*/this.result\n            item = $('#q' +\n            /*parser*/\n            this.currentPage + '\\\\.' + (i + 1) + '>fieldset'); //document.getElementById('q' + /*parser*/this.currentPage + '.' + (i + 1));\n\n            if (!item.length) item = $('#q' +\n            /*parser*/\n            this.currentPage + '\\\\.' + (i + 1)); //if (item.length)\n\n            item.css('background-color', '#ffdddd');\n            foundNA = true;\n          } else {\n            item = $('#q' +\n            /*parser*/\n            this.currentPage + '\\\\.' + (i + 1) + '>fieldset'); //document.getElementById('q' + /*parser*/this.currentPage + '.' + (i + 1));\n\n            if (!item.length) item = $('#q' +\n            /*parser*/\n            this.currentPage + '\\\\.' + (i + 1));\n            if (item.length) item.css('background-color', '#ffffff'); //if (item) item.style.backgroundColor = \"#ffffff\";\n          }\n        }\n      }\n    }\n\n    return foundNA;\n  }\n  /* returns true if all questions are answered, false if at least one answer is not*/\n  ;\n\n  _proto.checkAnswers = function checkAnswers() {\n    //for each answers[pagenum-1] answer!= N/A\n    //var foundNA = false;\n    var dontcheckanswers = document.getElementById('dontcheckanswers');\n    if (dontcheckanswers && dontcheckanswers.prop('checked')) return true; //don't check in editor mode\n\n    var foundNA = this.checkAnswersInScreen();\n    return !foundNA;\n  };\n\n  _proto.highlightNonAnswered = function highlightNonAnswered() {\n    var item = $('#notification');\n    item.css('background-color', '#fdd');\n    item.html(' Pro pokračování, prosím, vyplňte vyznačené otázky!');\n  };\n\n  _proto.hideNonAnswered = function hideNonAnswered() {\n    document.getElementById('notification').innerHTML = '';\n  };\n\n  _proto.nexttestitem = function nexttestitem() {\n    if (this.checkAnswers()) {\n      //check whether all mandatory questions are answered - set to non-default value\n      if (this.highlightEducation()) {\n        this.controller.preview.innerHTML = this.nextpage();\n        /*parser*/\n\n        this.highlighted = false;\n        this.evaluateScripts();\n        this.hideNonAnswered();\n      } else {//not highlighted\n      }\n    } else {\n      this.highlightNonAnswered();\n    }\n  };\n\n  _proto.highlightEducation = function highlightEducation() {\n    var atleastoneeduanswer = false;\n\n    if (\n    /*parser*/\n    this.educational) {\n      if (!\n      /*parser*/\n      this.result.answers[\n      /*parser*/\n      this.currentPage - 1]) return true;\n\n      if (\n      /*parser*/\n      this.highlighted) {\n        document.getElementById('notification').innerHTML = '';\n        return true;\n      }\n      /*parser*/\n\n\n      this.highlighted = true;\n\n      if (\n      /*parser*/\n      this.result.answers[\n      /*parser*/\n      this.currentPage - 1]) {\n        for (var i = 0; i <\n        /*parser*/\n        this.result.answers[\n        /*parser*/\n        this.currentPage - 1].length; i++) {\n          if (\n          /*parser*/\n          this.result.answers[\n          /*parser*/\n          this.currentPage - 1][i] && 'answer' in\n          /*parser*/\n          this.result.answers[\n          /*parser*/\n          this.currentPage - 1][i]) {\n            //fix bug 268\n            var item = $('#q' +\n            /*parser*/\n            this.currentPage + '\\\\.' + (i + 1)); //document.getElementById('q' + currentPage + '.' + (i + 1));\n            //disable editing the subelement within this form\n\n            item.find('input').prop('disabled', true);\n            item.find('option').prop('disabled', true);\n            item.find('.ui-slider').labeledslider('disable'); //console.log(\"#q\" + currentPage + \"\\\\.\" + (i + 1));\n            //if (item) item.style.backgroundColor = \"#eeffee\";\n\n            var aquestion =\n            /*parser*/\n            this.result.answers[\n            /*parser*/\n            this.currentPage - 1][i].question.trim();\n            var acase =\n            /*parser*/\n            this.result.answers[\n            /*parser*/\n            this.currentPage - 1][i].case;\n            var answer =\n            /*parser*/\n            this.result.answers[\n            /*parser*/\n            this.currentPage - 1][i].answer; //var myeduanswer;\n\n            if (\n            /*parser*/\n            this.eduresults[acase]) {\n              var myeduanswer =\n              /*parser*/\n              this.eduresults[acase].answer[aquestion];\n              console.log('eduanswer');\n              console.log(\n              /*parser*/\n              this.eduresults[acase]);\n              console.log(\"'\" + aquestion + \"'\");\n              console.log(Object.keys(\n              /*parser*/\n              this.eduresults[acase].answer));\n              console.log(myeduanswer);\n\n              if (myeduanswer) {\n                atleastoneeduanswer = true; //creating tooltip div\n\n                $(\"<div class='tooltipContent'>\" +\n                /*parser*/\n                this.eduresults[acase].note[aquestion] + '</div>').appendTo(item); //adding tooltip class to the form\n\n                item.addClass('tooltip'); //process all eduanswers;\n\n                var eduanswermulti = myeduanswer.split(';'); //show multiple values delimited by ;\n\n                eduanswermulti.forEach(function (eduanswer) {\n                  var hitem = item.find(\"[value|='\" + eduanswer + \"']\"); //selects <input>\n\n                  if (hitem.length > 0) {\n                    var nexthitem = hitem.next(); //selects related <label>\n                    //console.log(\"item:\" + item.prop('nodeName') + \" hitem:\" + hitem.prop('nodeName') + \" nexthitem:\" + nexthitem.prop('nodeName'));\n\n                    if (nexthitem.is('label')) {\n                      nexthitem.attr('style', 'background-color: lightgreen');\n                    } else if (hitem.is('option')) {\n                      hitem.attr('style', 'background-color: lightgreen;border:solid 2px green');\n                    }\n                  } else {\n                    // show in slider handle\n                    hitem = item.find('.ui-slider');\n\n                    if (hitem.length > 0) {\n                      //var idhitem = hitem.prop(\"id\");\n                      var currentvalue = hitem.labeledslider('value'); //keep current value\n\n                      var sliderid = hitem.prop('id');\n                      var slidernum = parseInt(Interpreter.extract(sliderid, 'slider'), 10);\n                      var eduanswerint = parseInt(eduanswer, 10);\n                      var eduanswerindex =\n                      /*parser*/\n                      this.sliderValues[slidernum].indexOf(eduanswerint); //moves slider handle to educational value\n\n                      if (eduanswerindex > -1) //move to edu value from sequence\n                        {\n                          //console.log(\"slidervalue:\" + sliderValues[slidernum][eduanswerindex]);\n                          hitem.labeledslider('value',\n                          /*parser*/\n                          this.sliderValues[slidernum][eduanswerindex]);\n                        } else //move to edu value\n                        {\n                          //console.log(\"normal value:\" + eduanswerint);\n                          hitem.labeledslider('value', eduanswerint); //move to edu value\n                        } //var handle = item.find(\".ui-slider-handle\");\n\n\n                      var oldhandle = hitem.find('.ui-slider-handle');\n                      var newhandle = hitem.find('.ui-slider-handle').clone(); //.appendTo(hitem); //clone the handle\n                      //slider already has some style - position, whihc must be preserved\n\n                      hitem.labeledslider('value', currentvalue); //return to current value - the clone will remain on the edu value\n\n                      var oldstyle = oldhandle.attr('style') + 'border:solid 2px blue;';\n                      var newstyle = newhandle.attr('style') + 'background:lightgreen;';\n                      newhandle.attr('style', newstyle);\n                      oldhandle.attr('style', oldstyle);\n                      hitem.labeledslider('disable');\n                      newhandle.appendTo(hitem); //hitem.find(\".ui-slider-handle\").last().attr(\"style\", \"background:green\");\n                    } else {//select\n                      }\n                  }\n                });\n              }\n            }\n          }\n        } //allanswers highlighted, enable tooltip\n\n\n        $('.tooltip').hover(function () {\n          var tooltip = $('> div', this).show();\n          var pos = tooltip.offset();\n          tooltip.hide();\n          var right = pos.left + tooltip.width();\n          var pageWidth = $(document).width();\n\n          if (pos.left < 0) {\n            tooltip.css('marginLeft', '+=' + -pos.left + 'px');\n          } else if (right > pageWidth) {\n            tooltip.css('marginLeft', '-=' + (right - pageWidth));\n          }\n\n          tooltip.fadeIn();\n        }, function () {\n          $('> div', this).fadeOut(function () {\n            $(this).css('marginLeft', '');\n          });\n        });\n      }\n\n      if (atleastoneeduanswer) {\n        var item2 = $('#notification');\n        item2.css('background-color', 'lightgreen');\n        item2.html('Vyznačeny jsou průměrné, nejvíce vybírané hodnoty na uvedené otázky.');\n      } else\n        /*parser*/\n        this.highlighted = false;\n\n      return !atleastoneeduanswer;\n    }\n\n    return true;\n  } //TODO add PsychoTestPauseUrl, construct pausedtestresult, implement resumetest(), add a select box with tests to resume into HTML, after selection load raw test, load results and go into the last screen,\n  ;\n\n  _proto.pausetest = function pausetest() {\n    if (!confirm('Do you want to postpone the test execution? Postponed test can be resumed later from the current screen.')) return; //store results, raw test and screen number into server\n\n    var pausedtestResult = {};\n    pausedtestResult.testname =\n    /*parser*/\n    this.testName; //{ get; set; }\n\n    pausedtestResult.screennumber =\n    /*parser*/\n    this.currentPage; //{ get; set; }\n\n    pausedtestResult.rawtestdefinition =\n    /*parser*/\n    this.currentTest; //{ get; set; }\n    //pausedtestResult.loginname = prompt(\"Enter your unique ID, e.g. email address\");\n\n    pausedtestResult.temporalresults = JSON.stringify(\n    /*parser*/\n    this.result.answers);\n    var METHOD = 'PUT';\n\n    if (\n    /*parser*/\n    this.resumeid > 0) {\n      pausedtestResult.id =\n      /*parser*/\n      this.resumeid;\n      METHOD = 'POST';\n    }\n\n    $.ajax({\n      type: METHOD,\n      url: PsychoTestPauseUrl,\n      contentType: 'application/json',\n      dataType: 'json',\n      data: JSON.stringify(pausedtestResult),\n      processData: false,\n      success: this.pausetestcallback,\n      error: this.postAnswerErrorCallback\n    }); //console.log(\"TODO, not yet implemented pausetest()\");\n  };\n\n  _proto.pausetestcallback = function pausetestcallback(data) {\n    console.log('saved paused test. Response:'); //console.log(data)\n\n    pausedtestid = data.id;\n    this.focusPaused(); //calling back to focus the paused Tab\n  };\n\n  _proto.evaluateScripts = function evaluateScripts() {\n    //evaluate graphs\n    var codes = this.controller.preview.getElementsByTagName('script'); //document.getElementById('preview').getElementsByTagName('script');\n    //console.log(\"codes\"+codes);\n    //console.log(codes);\n\n    for (var i = 0; i < codes.length; i++) {\n      eval(codes[i].text);\n    }\n  };\n\n  return Interpreter;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9pbnRlcnByZXRlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2ludGVycHJldGVyLmpzP2RkMDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdqcXVlcnknO1xuaW1wb3J0IHtTdGltdWx1c2ludGVycHJldGVyfSBmcm9tICcuL3N0aW11bHVzaW50ZXJwcmV0ZXInO1xuaW1wb3J0IHtSZXNwb25zZWludGVycHJldGVyfSBmcm9tICcuL3Jlc3BvbnNlaW50ZXJwcmV0ZXInO1xuaW1wb3J0IHtSYW5raW5nMmRpbnRlcnByZXRlcn0gZnJvbSAnLi9yYW5raW5nMmRpbnRlcnByZXRlcic7XG5pbXBvcnQge1ByZXByb2Nlc29yfSBmcm9tICcuL3ByZXByb2Nlc29yJztcbmltcG9ydCB7RHNsfSBmcm9tICcuL2RzbCc7XG5cbmV4cG9ydCBjbGFzcyBJbnRlcnByZXRlciB7XG4gIGNvbnN0cnVjdG9yKGNvbnRyb2xsZXIpIHtcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyOyAvL2lzIHVzZWQgdG8gbm90aWZ5IGZpcnN0IG9yIGxhc3QgcGFnZSBvZiB0ZXN0IGFuZCB0byBjb250cm9sIHRlc3QgcGFnZSBmbG93XG4gICAgdGhpcy5jdXJyZW50Q3Vyc29yID0gMDtcbiAgICB0aGlzLmN1cnJlbnRQYWdlID0gMDtcbiAgICB0aGlzLm1heFBhZ2VzID0gMDtcbiAgICB0aGlzLnF1ZXN0aW9uUGFnZSA9IDA7XG4gICAgdGhpcy5zbGlkZXJWYWx1ZXMgPSBbXTtcbiAgICB0aGlzLnRlc3ROYW1lID0gJyc7XG4gICAgdGhpcy5jdXJyZW50VGVzdCA9ICcnO1xuICAgIHRoaXMuc2xvdXBjZSA9IGZhbHNlO1xuICAgIHRoaXMuc2xpZGVySWQgPSAwO1xuICAgIHRoaXMucHJldmlvdXN0b2tlbiA9ICcnOyAvL2hvbGRzIHByZXZpb3VzIHRva2VuIC0gZm9yIGRpc3Rpbmd1aXNoaW5nIHN0YXRlcyBkdXJpbmcgaW50ZXJwcmV0YXRpb25cbiAgICB0aGlzLnByZXZpb3Vzcm93ID0gJyc7Ly9ob2xkcyBwcmV2aW91cyByb3dcbiAgICB0aGlzLnRzdGF0ZSA9IHt9OyAvL2hvbGRzIHN0cnVjdHVyZSBvZiBzdGF0ZSB2YXJpYWJsZXNcbiAgICAvL2tlZXAgdGhlIGxhc3QgcXVlc3Rpb24gYW5kIHZhbHVlcyBmb3IgYW5zd2VyXG4gICAgdGhpcy5hbGxvd3ByZXYgPSB0cnVlO1xuICAgIHRoaXMuZWR1Y2F0aW9uYWwgPSBmYWxzZTtcbiAgICB0aGlzLmhpZ2hsaWdodGVkID0gZmFsc2U7XG4gICAgdGhpcy5lZHVpZCA9IDA7XG4gICAgdGhpcy5lZHVyZXN1bHRzID0ge307Ly9uZXcgUmVzcG9uc2VzKCk7XG4gICAgdGhpcy5yZXN1bWVpZCA9IDA7IC8vaWQgb2YgcGF1c2VkIHRlc3Q7IGZvciBmdXR1cmUgdXBkYXRlXG5cbiAgICB0aGlzLmhvZG5vdHkgPSBbXTtcbiAgICB0aGlzLmhvZG5vdHlTZXR0ZWQgPSB0cnVlO1xuICAgIC8vICAgIHRoaXMuY29sdW1ubnVtYmVyID0gMDtcbiAgICB0aGlzLmxhc3Rmb3JtaWQgPSAnJztcbiAgICB0aGlzLmxhc3Rmb3JtaWRlc2NhcGVkID0gJyc7XG4gICAgdGhpcy5wYXVzZWR0ZXN0aWQgPSAwO1xuICAgIHRoaXMucGFyb3Zhb3RhemthID0gZmFsc2U7XG5cbiAgICB0aGlzLnJlc3VsdCA9IG5ldyBSZXNwb25zZWludGVycHJldGVyKCk7XG4gICAgdGhpcy5zdGltdWwgPSBuZXcgU3RpbXVsdXNpbnRlcnByZXRlcigpO1xuICAgIHRoaXMucmFua2luZzJkID0gbmV3IFJhbmtpbmcyZGludGVycHJldGVyKHRoaXMpO1xuICB9XG5cbiAgc3RhdGljIGV4dHJhY3Qocywgc3Vicykge1xuICAgIHJldHVybiBzLnN1YnN0cmluZyhzLmluZGV4T2Yoc3VicykgKyBzdWJzLmxlbmd0aCk7XG4gIH1cblxuICBzdGF0aWMgZW5kc1dpdGgocywgc3VmZml4KSB7XG4gICAgcmV0dXJuIHMuaW5kZXhPZihzdWZmaXgsIHMubGVuZ3RoIC0gc3VmZml4Lmxlbmd0aCkgIT09IC0xO1xuICB9XG5cbiAgdHJhbnNsYXRlT2JyYXpvdmthKHJvdykge1xuICAgIHRoaXMucmVzdWx0LnJlc2V0TGFzdCgpO1xuICAgIHRoaXMuc2xvdXBjZSA9IGZhbHNlO1xuICAgIGxldCB0cmFuc2xhdGVkUm93ID0gXCI8c3BhbiBjbGFzcz0nbGVmdGhlYWQnPlwiICsgdGhpcy5jdXJyZW50UGFnZSArICcuICcgKyBJbnRlcnByZXRlci5leHRyYWN0KHJvdywgJ3NjcmVlbicpICsgXCIgPC9zcGFuPjxzcGFuIGNsYXNzPSdyaWdodGhlYWQnPlwiICsgdGhpcy50ZXN0TmFtZSArIFwiPC9zcGFuPjxwIHN0eWxlPSdjbGVhcjpib3RoO21hcmdpbjoyMHB4Oyc+PC9wPlxcblwiO1xuICAgIHRoaXMucHJldmlvdXN0b2tlbiA9ICdzY3JlZW4nO1xuICAgIHJldHVybiB0cmFuc2xhdGVkUm93O1xuICB9XG5cbiAgdHJhbnNsYXRlVGV4dChyb3cpIHtcbiAgICBsZXQgb3V0cHV0ID0gJyc7XG4gICAgaWYgKHRoaXMuc2xvdXBjZSkgb3V0cHV0ICs9IFwiPHRyPjx0ZCBjb2xzcGFuPScyJz5cIjtcbiAgICBvdXRwdXQgKz0gJzxwPicgKyBJbnRlcnByZXRlci5leHRyYWN0KHJvdywgJ3RleHQnKSArICc8L3A+JztcbiAgICBpZiAodGhpcy5zbG91cGNlKSBvdXRwdXQgKz0gJzwvdGQ+PC90cj4nO1xuICAgIHJldHVybiBvdXRwdXQ7XG4gIH1cbiAgLy91c2VkIG11bHRpcGxldGltZXNcbiAgZ2VuZXJhdGVIdG1sT3RhemthUm93KHN1ZmZpeCkge1xuICAgIHRoaXMubGFzdGZvcm1pZCA9ICdxJyArIHRoaXMuY3VycmVudFBhZ2UgKyAnLicgKyB0aGlzLnF1ZXN0aW9uUGFnZTtcbiAgICB0aGlzLmxhc3Rmb3JtaWRlc2NhcGVkID0gJ3EnICsgdGhpcy5jdXJyZW50UGFnZSArICdcXFxcXFxcXC4nICsgdGhpcy5xdWVzdGlvblBhZ2U7XG4gICAgbGV0IG15c3VmZml4ID0gJyc7XG4gICAgaWYgKHN1ZmZpeCkgbXlzdWZmaXggPSBzdWZmaXg7XG4gICAgcmV0dXJuIFwiPGZvcm0gaWQ9J1wiICsgdGhpcy5sYXN0Zm9ybWlkICsgXCInIG5hbWU9J3FcIiArIHRoaXMuY3VycmVudFBhZ2UgKyAnLicgKyB0aGlzLnF1ZXN0aW9uUGFnZSArIFwiJz48ZmllbGRzZXQ+PGxlZ2VuZD5cIiArIHRoaXMucmVzdWx0Lmxhc3RvdGF6a2EgKyBteXN1ZmZpeCArICcgPC9sZWdlbmQ+JztcbiAgfVxuXG4gIGdlbmVyYXRlRWRpdEhlYWRlclJvdygpIHtcbiAgICB0aGlzLmxhc3Rmb3JtaWQgPSAncScgKyB0aGlzLmN1cnJlbnRQYWdlICsgJy4nICsgdGhpcy5xdWVzdGlvblBhZ2U7XG4gICAgdGhpcy5sYXN0Zm9ybWlkZXNjYXBlZCA9ICdxJyArIHRoaXMuY3VycmVudFBhZ2UgKyAnXFxcXFxcXFwuJyArIHRoaXMucXVlc3Rpb25QYWdlO1xuICAgIHJldHVybiBcIjxmb3JtIGlkPSdcIiArIHRoaXMubGFzdGZvcm1pZCArIFwiJyBuYW1lPSdxXCIgKyB0aGlzLmN1cnJlbnRQYWdlICsgJy4nICsgdGhpcy5xdWVzdGlvblBhZ2UgKyBcIic+PGZpZWxkc2V0PjxsZWdlbmQ+XCIgKyB0aGlzLnJlc3VsdC5sYXN0b3RhemthICsgJzwvbGVnZW5kPic7XG4gIH1cblxuICB0cmFuc2xhdGVUYXNrRm9yU3RpbXVsaShyb3cpIHtcbiAgICB0aGlzLnBhcm92YW90YXprYSA9IGZhbHNlO1xuICAgIHRoaXMucmVzdWx0Lmxhc3RvdGF6a2EgPSBJbnRlcnByZXRlci5leHRyYWN0KHJvdywgJ3Rhc2tmb3JzdGltdWxpICcpOyAvL2FkZHMgdG8gdGhlICMxIHRvIHRoZSBxdWVzdGlvblxuICAgIHRoaXMuaG9kbm90eVNldHRlZCA9IGZhbHNlO1xuICAgIHRoaXMucXVlc3Rpb25QYWdlKys7XG4gICAgLy92YXIgbXl0YWJsZSA9IFwiXCI7XG4gICAgLy9teXRhYmxlICs9IHRoaXMuZ2VuZXJhdGVIdG1sT3RhemthUm93KCk7XG4gICAgLy9pZiAodGhpcy5zbG91cGNlKSB7IC8vbWFrZSByb3cgb2YgdGFibGVcbiAgICAvLyAgICAgICAgdmFyIG15dGFibGUgPSAgKyBteXRhYmxlOy8vICArIFwiPC90ZD5cIjsgLy9cbiAgICAvL31cbiAgICByZXR1cm4gXCI8dHI+PHRkIGNsYXNzPSd0YXNrJz5cIiArIHRoaXMuZ2VuZXJhdGVIdG1sT3RhemthUm93KCcgIzEnKTtcbiAgfVxuXG4gIC8qXG4gICAqXHR0cmFuc2xhdGVzIFwidGFzayAuLi5cIiB0byB0aGUgSFRNTCBmb3JtXG4gICAqL1xuICB0cmFuc2xhdGVPdGF6a2Eocm93KSB7XG4gICAgdGhpcy5wYXJvdmFvdGF6a2EgPSBmYWxzZTtcbiAgICB0aGlzLnJlc3VsdC5sYXN0b3RhemthID0gSW50ZXJwcmV0ZXIuZXh0cmFjdChyb3csICd0YXNrICcpO1xuICAgIHRoaXMuaG9kbm90eVNldHRlZCA9IGZhbHNlO1xuICAgIHRoaXMucXVlc3Rpb25QYWdlKys7XG4gICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVIdG1sT3RhemthUm93KCk7XG4gIH1cbiAgLy9teXRhYmxlZW5kID0gXCI8L3RkPlwiO1xuICAvL2lmIChjb2x1bW5udW1iZXIgPT0gMSkgbXl0YWJsZWVuZCArPSBcIjwvdHI+XCI7XG4gIC8vVE9ETyBmaW5pc2ggb3RhemthIGFuZCBwYXJvdmFvdGF6a2EgaW4gdGFibGUgd2l0aCAyIGNvbHVtbnNcbiAgLypcbiAgICpcdHRyYW5zbGF0ZXMgXCJwYXJvdmFvdGF6a2EgLi4uIFwiIHRvIHRoZSBIVE1MIGZvcm0gd2l0aCAyIHNvdW5kcyBlYWNoIGluIDEgY29sdW1uIGFuZCBlYWNoIHJvdyBoYXMgdGhlIHNhbWUgcXVlc3Rpb25cbiAgICovXG4gIHRyYW5zbGF0ZVBhcm92YU90YXprYShyb3cpIHtcbiAgICAvL2xhc3RvdGF6a2EgPSByb3cuc3Vic3RyaW5nKFwib3RhemthXCIubGVuZ3RoKTtcbiAgICAvL2hvZG5vdHlTZXR0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnBhcm92YW90YXprYSA9IHRydWU7XG4gICAgdGhpcy5xdWVzdGlvblBhZ2UrKztcbiAgICB0aGlzLnJlc3VsdC5sYXN0b3RhemthID0gSW50ZXJwcmV0ZXIuZXh0cmFjdChyb3csICd0YXNrICcpO1xuICAgIHRoaXMubGFzdGZvcm1pZCA9ICdxJyArIHRoaXMuY3VycmVudFBhZ2UgKyAnLicgKyB0aGlzLnF1ZXN0aW9uUGFnZTtcbiAgICB0aGlzLmxhc3Rmb3JtaWRlc2NhcGVkID0gJ3EnICsgdGhpcy5jdXJyZW50UGFnZSArICdcXFxcXFxcXC4nICsgdGhpcy5xdWVzdGlvblBhZ2U7XG4gICAgcmV0dXJuIFwiPHRyPjx0ZCBjb2xzcGFuPScyJz48Zm9ybSBpZD0nXCIgKyB0aGlzLmxhc3Rmb3JtaWQgKyBcIic+PGZpZWxkc2V0PjxsZWdlbmQ+XCIgKyB0aGlzLnJlc3VsdC5sYXN0b3RhemthICsgJzwvbGVnZW5kPic7XG4gIH1cbiAgLypcbiAgICpcdHRyYW5zbGF0ZXMgXCJob25kb3R5IC4uLlwiIHRvIHRoZSBvcGVuZWQgSFRNTCBmb3JtLCBpbnRlcnByZXRzIGFzIGFsbG93ZWQgdmFsdWVzIHRvIGJlIGNob3NlbiBieSB1c2VyXG4gICAqL1xuICAvKmZ1bmN0aW9uIHRyYW5zbGF0ZUhvZG5vdHkocm93c3BsaXR0ZWQpIHtcbiAgIHJldHVybiB0cmFuc2xhdGVIb2Rub3R5KHJvd3NwbGl0dGVkLCB0cnVlLGZhbHNlKTtcbiAgIH1cbiAgICovXG5cbiAgaGFzaENvZGUocykge1xuICAgIHJldHVybiBzLnNwbGl0KCcnKS5yZWR1Y2UoZnVuY3Rpb24oYSwgYikgeyBhID0gKChhIDw8IDUpIC0gYSkgKyBiLmNoYXJDb2RlQXQoMCk7IHJldHVybiBhICYgYTsgfSwgMCk7XG4gIH1cblxuICBnZW5lcmF0ZUh0bWxSb3cocm93c3BsaXR0ZWQsIHJhZGlvYnV0dG9ucywgdGFza2luZGV4KSB7XG4gICAgbGV0IHRyYW5zbGF0ZWRSb3cgPSAnJztcbiAgICBmb3IgKGxldCBqID0gMTsgaiA8IHJvd3NwbGl0dGVkLmxlbmd0aDsgaisrKSB7XG4gICAgICBsZXQgbXliciA9ICc8YnIgLz4nO1xuICAgICAgbGV0IG15dmFsdWUgPSByb3dzcGxpdHRlZFtqXTtcbiAgICAgIGxldCBteWlkID0gdGhpcy5oYXNoQ29kZSh0aGlzLmxhc3Rmb3JtaWQgKyAndicgKyBteXZhbHVlKTtcbiAgICAgIGlmICh0aGlzLnBhcm92YW90YXprYSB8fCB0aGlzLnZhbHVlc29ucm93KSBteWJyID0gJyZuYnNwOyAmbmJzcDsnOyAvL2Rvbid0IG1ha2UgbmV3IGxpbmUgaW4gcGFyb3ZhIG90YXprYSBvciB3aGVuIHZhbHVlcyBvbiByb3dcbiAgICAgIGlmIChyYWRpb2J1dHRvbnMpIHt0cmFuc2xhdGVkUm93ICs9IFwiPGlucHV0IGlkPSdcIiArIG15aWQgKyBcIid0eXBlPSdyYWRpbycgbmFtZT0nb3RhemthJyB2YWx1ZT0nXCIgKyBteXZhbHVlICsgXCInIG9uY2xpY2s9J3NldEFuc3dlcihcIiArIHRoaXMuY3VycmVudFBhZ2UgKyAnLCcgKyB0aGlzLnF1ZXN0aW9uUGFnZSArIFwiLHRoaXMpJy8+PGxhYmVsIGZvcj0nXCIgKyBteWlkICsgXCInIGNsYXNzPSdhbnN3ZXInPjxzcGFuPjxzcGFuPjwvc3Bhbj48L3NwYW4+XCIgKyBteXZhbHVlICsgJzwvbGFiZWw+JyArIG15YnI7fSBlbHNlIHt0cmFuc2xhdGVkUm93ICs9IFwiPGlucHV0IGlkPSdcIiArIG15aWQgKyBcIicgdHlwZT0nY2hlY2tib3gnIG5hbWU9J290YXprYScgdmFsdWU9J1wiICsgbXl2YWx1ZSArIFwiJyBvbmNsaWNrPSdzZXRDaGVja0Fuc3dlcihcIiArIHRoaXMuY3VycmVudFBhZ2UgKyAnLCcgKyB0aGlzLnF1ZXN0aW9uUGFnZSArIFwiLHRoaXMpJy8+PGxhYmVsIGZvcj0nXCIgKyBteWlkICsgXCInc3BhbiBjbGFzcz0nYW5zd2VyJz48c3Bhbj48L3NwYW4+XCIgKyBteXZhbHVlICsgJzwvbGFiZWw+JyArIG15YnI7fVxuICAgICAgdGhpcy5yZXN1bHQuc2V0RGVmYXVsdEFuc3dlcih0aGlzLmN1cnJlbnRQYWdlLCB0aGlzLnF1ZXN0aW9uUGFnZSwgdGFza2luZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zbGF0ZWRSb3c7XG4gIH1cblxuICB0cmFuc2xhdGVIb2Rub3R5KHJvd3NwbGl0dGVkKSB7XG4gICAgbGV0IHJhZGlvYnV0dG9ucyA9ICEgRHNsLmlzQ2hlY2tib3h2YWx1ZXMocm93c3BsaXR0ZWRbMF0pO1xuICAgIHRoaXMudmFsdWVzb25yb3cgPSBEc2wuaXNDaGVja2JveHZhbHVlc09uUm93KHJvd3NwbGl0dGVkWzBdKSB8fCBEc2wuaXNWYWx1ZXNPblJvdyhyb3dzcGxpdHRlZFswXSk7XG4gICAgbGV0IHRyYW5zbGF0ZWRSb3cgPSAnJztcbiAgICBsZXQgdGFza2luZGV4ID0gJyc7IGlmICh0aGlzLnNsb3VwY2UgJiYgIXRoaXMucGFyb3Zhb3RhemthKSB0YXNraW5kZXggPSAnICMxJztcbiAgICB0cmFuc2xhdGVkUm93ICs9IHRoaXMuZ2VuZXJhdGVIdG1sUm93KHJvd3NwbGl0dGVkLCByYWRpb2J1dHRvbnMsIHRhc2tpbmRleCk7XG4gICAgdHJhbnNsYXRlZFJvdyArPSAnPC9maWVsZHNldD48L2Zvcm0+XFxuJztcbiAgICBpZiAodGhpcy5zbG91cGNlKSAvL2NvcHBpZXMgdGhlIHNhbWUgdGFzayBhbmQgdmFsdWVzIHRvIHRoZSBzZWNvbmQgY29sbHVtbiBvZiB0aGUgcGFpcnNcbiAgICB7XG4gICAgICBpZiAodGhpcy5wYXJvdmFvdGF6a2EpIHtcbiAgICAgICAgdHJhbnNsYXRlZFJvdyArPSAnPC90ZD48L3RyPic7XG4gICAgICB9IGVsc2Ugey8vY2xvc2UgdGhlIGNvbHVtbiwgZHVwbGljYXRlIHF1ZXN0aW9uIHRvIHNlY29uZCBjb2x1bW4gYW5kIGNsb3NlIHRoZSByb3dcbiAgICAgICAgdGhpcy5xdWVzdGlvblBhZ2UrKztcbiAgICAgICAgdGFza2luZGV4ID0gJyAjMic7XG4gICAgICAgIHRyYW5zbGF0ZWRSb3cgKz0gXCI8L2ZpZWxkc2V0PjwvZm9ybT48L3RkPjx0ZCBjbGFzcz0ndGFzayc+XCIgKyB0aGlzLmdlbmVyYXRlSHRtbE90YXprYVJvdyh0YXNraW5kZXgpOyAvL2ZpeCBidWcjMjQ5IGFkZGVkIGNsb3NpbmcgZm9ybSB0YWdcbiAgICAgICAgdHJhbnNsYXRlZFJvdyArPSB0aGlzLmdlbmVyYXRlSHRtbFJvdyhyb3dzcGxpdHRlZCwgcmFkaW9idXR0b25zLCB0YXNraW5kZXgpO1xuICAgICAgICB0cmFuc2xhdGVkUm93ICs9ICc8L2ZpZWxkc2V0PjwvZm9ybT48L3RkPjwvdHI+JztcbiAgICAgIH1cbiAgICB9XG4gICAgLy93aWxsIHJlbWVtYmVyIHRoZSB2YWx1ZXMgb2YgbGFzdCBxdWVzdGlvbiAtIGl0IGlzIG5vdCBuZWVkZWQgdG8gcmVwZWF0IHRoZW1cbiAgICB0aGlzLmhvZG5vdHlbdGhpcy5yZXN1bHQubGFzdG90YXprYV0gPSByb3dzcGxpdHRlZDtcbiAgICB0aGlzLmhvZG5vdHlTZXR0ZWQgPSB0cnVlO1xuICAgIHJldHVybiB0cmFuc2xhdGVkUm93O1xuICB9XG5cbiAgc3BsaXRWYWx1ZXMocm93KSB7XG4gICAgbGV0IHJlMSA9IC9bIDssXSsvOyAvLyBmaXggZmVhdHVyZSBidWcgIzI0MCwgY29tYSAnLCcgaXMgdXNlZCB0byBzZXBhcmF0ZSBpbnRlcnZhbCBudW1iZXJzXG4gICAgaWYgKCFyb3cuY29udGFpbnMoJ1wiJykpIHJldHVybiByb3cuc3BsaXQocmUxKTtcbiAgICBsZXQgcm93c3BsaXR0ZWQgPSBbXTtcbiAgICBsZXQgcXVvdGUgPSBmYWxzZTtcbiAgICBsZXQgY3VycmVudGl0ZW0gPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvdy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFxdW90ZSkgLy9ub3JtYWwgc3BsaXRcbiAgICAgIHtcbiAgICAgICAgaWYgKC9bXFxcIl0vLnRlc3Qocm93W2ldKSkgcXVvdGUgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmICgvWywgO10vLnRlc3Qocm93W2ldKSkge1xuICAgICAgICAgIGlmIChjdXJyZW50aXRlbS5sZW5ndGggPiAwKSByb3dzcGxpdHRlZC5wdXNoKGN1cnJlbnRpdGVtKTtcbiAgICAgICAgICBjdXJyZW50aXRlbSA9ICcnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN1cnJlbnRpdGVtICs9IHJvd1tpXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHsgLy9xdW90ZXMgYWRkIGV2ZXJ5dGhpbmcgYmV0d2VlbiBxdW90ZXNcbiAgICAgICAgaWYgKC9bXFxcIl0vLnRlc3Qocm93W2ldKSkge1xuICAgICAgICAgIHJvd3NwbGl0dGVkLnB1c2goY3VycmVudGl0ZW0pO1xuICAgICAgICAgIGN1cnJlbnRpdGVtID0gJyc7XG4gICAgICAgICAgcXVvdGUgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJyZW50aXRlbSArPSByb3dbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGN1cnJlbnRpdGVtLmxlbmd0aCA+IDApIHJvd3NwbGl0dGVkLnB1c2goY3VycmVudGl0ZW0pO1xuICAgIHJldHVybiByb3dzcGxpdHRlZDtcbiAgfVxuXG4gIHRyYW5zbGF0ZVNjYWxlKHByZXZpb3Vzcm93LCByb3dzcGxpdHRlZCkge1xuICAgIGlmICh0aGlzLnNsb3VwY2UgJiYgISB0aGlzLnBhcm92YW90YXprYSkgeyAvL21ha2VzIHR3byBjb3BwaWVzIG9mIHRoZSB0YXNrIGZvciBlYWNoIHN0aW11bHVzIGluIHBhaXJcbiAgICAgIGxldCB0cmFuc2xhdGVkID0gJ1xcbicgKyB0aGlzLnRyYW5zbGF0ZVNrYWxvdmFjaSgpICsgdGhpcy50cmFuc2xhdGVTa2Fsb3ZhY2lIb2Rub3R5KHJvd3NwbGl0dGVkLCAnICMxJyk7XG4gICAgICB0aGlzLnF1ZXN0aW9uUGFnZSsrO1xuICAgICAgdHJhbnNsYXRlZCArPSAnPC9maWVsZHNldD48L2Zvcm0+PC90ZD48dGQ+JyArIHRoaXMuZ2VuZXJhdGVIdG1sT3RhemthUm93KCcgIzInKSArIHRoaXMudHJhbnNsYXRlU2thbG92YWNpKCkgKyB0aGlzLnRyYW5zbGF0ZVNrYWxvdmFjaUhvZG5vdHkocm93c3BsaXR0ZWQsICcgIzInKSArICc8L2ZpZWxkc2V0PjwvZm9ybT48L3RyPjwvdGQ+XFxuJztcbiAgICAgIHJldHVybiB0cmFuc2xhdGVkO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy50cmFuc2xhdGVTa2Fsb3ZhY2kocHJldmlvdXNyb3cpICsgdGhpcy50cmFuc2xhdGVTa2Fsb3ZhY2lIb2Rub3R5KHJvd3NwbGl0dGVkKTtcbiAgfVxuXG4gIHRyYW5zbGF0ZVZBU2NhbGUocHJldmlvdXNyb3csIHJvd3NwbGl0dGVkKSB7XG4gICAgaWYgKHRoaXMuc2xvdXBjZSAmJiAhIHRoaXMucGFyb3Zhb3RhemthKSB7Ly9tYWtlcyB0d28gY29wcGllcyBvZiB0aGUgdGFzayBmb3IgZWFjaCBzdGltdWx1cyBpbiBwYWlyXG4gICAgICBsZXQgdHJhbnNsYXRlZCA9ICdcXG4nICsgdGhpcy50cmFuc2xhdGVTa2Fsb3ZhY2koKSArIHRoaXMudHJhbnNsYXRlU2thbG92YWNpVkFIb2Rub3R5KHJvd3NwbGl0dGVkLCAnICMxJyk7XG4gICAgICB0aGlzLnF1ZXN0aW9uUGFnZSsrO1xuICAgICAgdHJhbnNsYXRlZCArPSAnPC9maWVsZHNldD48L2Zvcm0+PC90ZD48dGQ+JyArIHRoaXMuZ2VuZXJhdGVIdG1sT3RhemthUm93KCcgIzInKSArIHRoaXMudHJhbnNsYXRlU2thbG92YWNpKCkgKyB0aGlzLnRyYW5zbGF0ZVNrYWxvdmFjaVZBSG9kbm90eShyb3dzcGxpdHRlZCwgJyAjMicpICsgJzwvZmllbGRzZXQ+PC9mb3JtPjwvdHI+PC90ZD5cXG4nO1xuICAgICAgcmV0dXJuIHRyYW5zbGF0ZWQ7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRyYW5zbGF0ZVNrYWxvdmFjaShwcmV2aW91c3JvdykgKyB0aGlzLnRyYW5zbGF0ZVNrYWxvdmFjaVZBSG9kbm90eShyb3dzcGxpdHRlZCk7XG4gIH1cblxuICAvKiAgdHJhbnNsYXRlU2thbG92YWNpSG9kbm90eShyb3dzcGxpdHRlZCkge1xuICAgIHJldHVybiB0aGlzLnRyYW5zbGF0ZVNrYWxvdmFjaUhvZG5vdHkocm93c3BsaXR0ZWQsXCJcIik7XG4gIH07XG4qL1xuICB0cmFuc2xhdGVTa2Fsb3ZhY2lIb2Rub3R5KHJvd3NwbGl0dGVkLCB0YXNraW5kZXggPSAnJykge1xuICAgIC8vbW92ZWQgdG8gdHJhbnNsYXRlU2thbG92YWNpIHF1ZXN0aW9uUGFnZSsrOyAvL2luY3JlYXNlIGluZGV4IG9mIGFuc3dlclxuICAgIHRoaXMucmVzdWx0LnNldERlZmF1bHRBbnN3ZXIodGhpcy5jdXJyZW50UGFnZSwgdGhpcy5xdWVzdGlvblBhZ2UsIHRhc2tpbmRleCk7IC8vZml4IGJ1ZyAjIDE5OFxuICAgIC8vdmFyIHJvd3NwbGl0dGVkID0gc3BsaXRWYWx1ZXMocm93KTtcbiAgICBsZXQgdHJhbnNsYXRlZFJvdyA9ICcnO1xuICAgIHRoaXMuc2xpZGVyVmFsdWVzW3RoaXMuc2xpZGVySWRdID0gcm93c3BsaXR0ZWQuc2xpY2UoMSk7XG4gICAgdHJhbnNsYXRlZFJvdyArPSAnPHNjcmlwdD5JbnRlcnByZXRlci5tYWtlU2xpZGVyKDAsIDAsJyArICh0aGlzLnNsaWRlclZhbHVlc1t0aGlzLnNsaWRlcklkXS5sZW5ndGggLSAxKSArICcsIDEsICcgKyB0aGlzLnNsaWRlcklkICsgJywnICsgdGhpcy5xdWVzdGlvblBhZ2UgKyAnKTs8L3NjcmlwdD4nO1xuICAgIC8vICAgIGlmICh0aGlzLnNsb3VwY2UpXG4gICAgLy8gICAgICAgIGlmICh0aGlzLnBhcm92YW90YXprYSkge1xuICAgIC8vICAgICAgICAgICAgdHJhbnNsYXRlZFJvdyArPSBcIjwvdGQ+PC90cj5cIjtcbiAgICAvKiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXN0aW9uUGFnZSsrO1xuICAgICAgICAgICAgICAgIHRoaXMuc2xpZGVySWQrKztcbiAgICAgICAgICAgICAgICB0aGlzLnNsaWRlclZhbHVlc1t0aGlzLnNsaWRlcklkXSA9IHJvd3NwbGl0dGVkLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0LnNldERlZmF1bHRBbnN3ZXIodGhpcy5jdXJyZW50UGFnZSwgdGhpcy5xdWVzdGlvblBhZ2UpOyAvL2ZpeCBidWcgIyAxOThcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGVkUm93ICs9IFwiPHNjcmlwdD5tYWtlU2xpZGVyKDAsIDAsXCIgKyAodGhpcy5zbGlkZXJWYWx1ZXNbdGhpcy5zbGlkZXJJZF0ubGVuZ3RoLTEpICsgXCIsIDEsIFwiICsgdGhpcy5zbGlkZXJJZCArIFwiLFwiICsgdGhpcy5xdWVzdGlvblBhZ2UgKyBcIik7PC9zY3JpcHQ+XCI7XG4gICAgICAgICAgICB9Ki9cbiAgICAvL30gZWxzZSB7XG4gICAgLy8gICAgdGhpcy5xdWVzdGlvblBhZ2UrKztcbiAgICAvLyAgICB0aGlzLnNsaWRlcklkKys7XG4gICAgLy8gICAgdGhpcy5yZXN1bHQuc2V0RGVmYXVsdEFuc3dlcih0aGlzLmN1cnJlbnRQYWdlLCB0aGlzLnF1ZXN0aW9uUGFnZSk7IC8vZml4IGJ1ZyAjIDE5OFxuICAgIC8vICAgIC8vdmFyIHJvd3NwbGl0dGVkID0gc3BsaXRWYWx1ZXMocm93KTtcbiAgICAvLyAgICAvL3RyYW5zbGF0ZWRSb3cgPSBcIlwiO1xuICAgIC8vICAgIHRoaXMuc2xpZGVyVmFsdWVzW3RoaXMuc2xpZGVySWRdID0gcm93c3BsaXR0ZWQuc2xpY2UoMSk7XG4gICAgLy8gICAgdHJhbnNsYXRlZFJvdyArPSBcIjx0ZD48dHI+PHNjcmlwdD5tYWtlU2xpZGVyKDAsIDAsXCIgKyAodGhpcy5zbGlkZXJWYWx1ZXNbdGhpcy5zbGlkZXJJZF0ubGVuZ3RoLTEpICsgXCIsIDEsIFwiICsgdGhpcy5zbGlkZXJJZCArIFwiLFwiICsgdGhpcy5xdWVzdGlvblBhZ2UgKyBcIik7PC9zY3JpcHQ+XCI7XG4gICAgLy99XG4gICAgcmV0dXJuIHRyYW5zbGF0ZWRSb3c7XG4gIH1cblxuICAvKiB0cmFuc2xhdGVTa2Fsb3ZhY2lWQUhvZG5vdHkocm93c3BsaXR0ZWQpIHtcbiAgICByZXR1cm4gdGhpcy50cmFuc2xhdGVTa2Fsb3ZhY2lWQUhvZG5vdHkocm93c3BsaXR0ZWQsXCJcIik7XG4gIH07XG5cbiAgKi9cblxuICB0cmFuc2xhdGVTa2Fsb3ZhY2lWQUhvZG5vdHkocm93c3BsaXR0ZWQsIHRhc2tpbmRleCA9ICcnKSB7XG4gICAgLy9tb3ZlZCB0byB0cmFuc2xhdGVTa2Fsb3ZhY2kgcXVlc3Rpb25QYWdlKys7IC8vaW5jcmVhc2UgaW5kZXggb2YgYW5zd2VyXG4gICAgdGhpcy5yZXN1bHQuc2V0RGVmYXVsdEFuc3dlcih0aGlzLmN1cnJlbnRQYWdlLCB0aGlzLnF1ZXN0aW9uUGFnZSwgdGFza2luZGV4KTsgLy9maXggYnVnICMxOThcbiAgICBsZXQgdHJhbnNsYXRlZFJvdyA9ICcnO1xuICAgIGxldCBteVNsaWRlclZhbHVlcyA9IFtdO1xuICAgIC8vY29uc29sZS5sb2coXCJ0cmFuc2xhdGVTa2Fsb2Nhdmkgcm93c3BsaXR0ZWQ6XCIpO1xuICAgIC8vY29uc29sZS5sb2cocm93c3BsaXR0ZWQpXG4gICAgLypmb3IgKHZhciBpID0gMzsgaSA8IHJvd3NwbGl0dGVkLmxlbmd0aDtpPWkrMiApIHtcbiAgICAgbXlTbGlkZXJWYWx1ZXNbcGFyc2VJbnQocm93c3BsaXR0ZWRbaV0pXT0gcm93c3BsaXR0ZWRbaSsxXTtcbiAgICAgfVxuICAgICBzbGlkZXJWYWx1ZXNbc2xpZGVySWRdID0gbXlTbGlkZXJWYWx1ZXM7XG4gICAgICovXG4gICAgaWYgKHJvd3NwbGl0dGVkWzJdLmluZGV4T2YoJygnKSA+IDApIHsgLy9maXggYnVnICMyNjkgc2NhbGUgMCAxMDAoMC41KSB3aWxsIGJlIHRyYW5zbGF0ZWQgYXMgMCAxMDAgd2l0aCBzdGVwIDAuNVxuICAgICAgbGV0IG1heHN0ZXAgPSByb3dzcGxpdHRlZFsyXS5zcGxpdCgvW1xcKFxcKV0vKTtcbiAgICAgIC8vY29uc29sZS5sb2coXCJtYXhzdGVwXCIpO1xuICAgICAgLy9jb25zb2xlLmxvZyhtYXhzdGVwKVxuICAgICAgZm9yICh2YXIgaSA9IDM7IGkgPCByb3dzcGxpdHRlZC5sZW5ndGg7IGkgPSBpICsgMikge1xuICAgICAgICAvL215U2xpZGVyVmFsdWVzW01hdGguZmxvb3IocGFyc2VJbnQocm93c3BsaXR0ZWRbaV0pL21heHN0ZXBbMV0gLSByb3dzcGxpdHRlZFsxXSldID0gcm93c3BsaXR0ZWRbaSArIDFdOy8vZml4IGJ1ZyAjMjY5IGFkZCBjb3JyZWN0IGluZGljZXMgdG8gdGlja3MgLTEwMCAxMDAoMC41KSB3aWxsIG1ha2UgLTIwMCAyMDBcbiAgICAgICAgbXlTbGlkZXJWYWx1ZXNbcGFyc2VGbG9hdChyb3dzcGxpdHRlZFtpXSldID0gcm93c3BsaXR0ZWRbaSArIDFdOyAvL2ZpeCBidWcgIzI2OSBuZXcgdmVyc2lvbiBvZiBsYWJlbGVkLCBjaGFuZ2VkIHRvIHBhcnNlZmxvYXRcbiAgICAgICAgLy9teVNsaWRlclZhbHVlc1tyb3dzcGxpdHRlZFtpXV0gPSByb3dzcGxpdHRlZFtpICsgMV07IC8vZml4IGJ1ZyAjbWludXMgZmxvYXQgdmFsdWVzIG5vdCBkZXRlcm1pbmVkPz9cbiAgICAgIH1cbiAgICAgIHRoaXMuc2xpZGVyVmFsdWVzW3RoaXMuc2xpZGVySWRdID0gbXlTbGlkZXJWYWx1ZXM7XG5cbiAgICAgIHRyYW5zbGF0ZWRSb3cgKz0gJzxzY3JpcHQ+SW50ZXJwcmV0ZXIubWFrZVZBU2xpZGVyKCcgKyB0aGlzLnNsaWRlcklkICsgJywnICsgcm93c3BsaXR0ZWRbMV0gKyAnLCcgKyBtYXhzdGVwWzBdICsgJywgJyArIHRoaXMucXVlc3Rpb25QYWdlICsgJywnICsgbWF4c3RlcFsxXSArICcpOzwvc2NyaXB0Pic7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoaSA9IDM7IGkgPCByb3dzcGxpdHRlZC5sZW5ndGg7IGkgPSBpICsgMikge1xuICAgICAgICBteVNsaWRlclZhbHVlc1twYXJzZUludChyb3dzcGxpdHRlZFtpXSldID0gcm93c3BsaXR0ZWRbaSArIDFdO1xuICAgICAgfVxuICAgICAgdGhpcy5zbGlkZXJWYWx1ZXNbdGhpcy5zbGlkZXJJZF0gPSBteVNsaWRlclZhbHVlcztcbiAgICAgIHRyYW5zbGF0ZWRSb3cgKz0gJzxzY3JpcHQ+SW50ZXJwcmV0ZXIubWFrZVZBU2xpZGVyKCcgKyB0aGlzLnNsaWRlcklkICsgJywnICsgcm93c3BsaXR0ZWRbMV0gKyAnLCcgKyByb3dzcGxpdHRlZFsyXSArICcsICcgKyB0aGlzLnF1ZXN0aW9uUGFnZSArICcpOzwvc2NyaXB0Pic7XG4gICAgfVxuICAgIC8vY29uc29sZS5sb2coXCJ2YSBob2Rub3R5IGpzOlwiICsgdHJhbnNsYXRlZFJvdyk7XG5cbiAgICByZXR1cm4gdHJhbnNsYXRlZFJvdztcbiAgfVxuXG5cbiAgdHJhbnNsYXRlU2thbG92YWNpKHJvdykge1xuICAgIGxldCB0cmFuc2xhdGVkUm93ID0gJyc7Ly9cIjxiciAvPlwiO1xuICAgIHRoaXMuc2xpZGVySWQrKztcbiAgICBpZiAocm93KSB0aGlzLnJlc3VsdC5sYXN0b3RhemthID0gSW50ZXJwcmV0ZXIuZXh0cmFjdChyb3csICd0YXNrICcpOyAgLy9maXggYnVnICMxOThcbiAgICAvL21vdmUgdG8gdGFzayBxdWVzdGlvblBhZ2UrKzsgLy9tb3ZlZCBmcm9tIHNrYWxvdmFjaT8/aG9kbm90eVxuICAgIC8vZml4ICMyMTIgICAgdHJhbnNsYXRlZFJvdyArPSBcIjxwIGlkPSdxXCIgKyBjdXJyZW50UGFnZSArIFwiLlwiICsgcXVlc3Rpb25QYWdlICsgXCInIGNsYXNzPSdsYWJlbCc+PGlucHV0IGNsYXNzPSdzbGlkZXJsYWJlbCcgcmVhZG9ubHk9J3RydWUnIHR5cGU9J3RleHQnIGlkPSdzbGlkZXJcIiArIHNsaWRlcklkICsgXCJWYWx1ZSc+PC9wPlwiO1xuICAgIHRyYW5zbGF0ZWRSb3cgKz0gXCI8cCBjbGFzcz0nbGFiZWwnPjxpbnB1dCBjbGFzcz0nc2xpZGVybGFiZWwnIHJlYWRvbmx5PSd0cnVlJyB0eXBlPSd0ZXh0JyBpZD0nc2xpZGVyXCIgKyB0aGlzLnNsaWRlcklkICsgXCJWYWx1ZSc+PC9wPlwiO1xuICAgIHRyYW5zbGF0ZWRSb3cgKz0gXCI8ZGl2IGlkPSdzbGlkZXJcIiArIHRoaXMuc2xpZGVySWQgKyBcIic+PC9kaXY+XCI7XG4gICAgLy90cmFuc2xhdGVkUm93ICs9IFwiPGJyIC8+PGJyIC8+XCI7XG4gICAgLy9jb25zb2xlLmxvZyhcInRyYW5zbGF0ZVNrYWxvdmFjaSBcIiArIHNsaWRlcklkKTtcbiAgICAvL21vdmUgaXQgdG8gc2thbG92YWNpaG9kbm90eVxuICAgIHJldHVybiB0cmFuc2xhdGVkUm93O1xuICB9XG5cblxuICB0cmFuc2xhdGVQb3Bpcyhyb3cpIHtcbiAgICBsZXQgdGFza2luZGV4ID0gJyc7IGlmICh0aGlzLnNsb3VwY2UgJiYgIXRoaXMucGFyb3Zhb3RhemthKSB0YXNraW5kZXggPSAnICMxJztcbiAgICBpZiAoSW50ZXJwcmV0ZXIuZW5kc1dpdGgocm93LCAnPycpKSB0aGlzLnJlc3VsdC5zZXREZWZhdWx0T3B0aW9uYWxBbnN3ZXIodGhpcy5jdXJyZW50UGFnZSwgdGhpcy5xdWVzdGlvblBhZ2UsIHRhc2tpbmRleCk7XG4gICAgZWxzZSB0aGlzLnJlc3VsdC5zZXREZWZhdWx0QW5zd2VyKHRoaXMuY3VycmVudFBhZ2UsIHRoaXMucXVlc3Rpb25QYWdlLCB0YXNraW5kZXgpO1xuICAgIGxldCB0cmFuc2xhdGVkcm93ID0gXCI8dGV4dGFyZWEgcm93cz0nMScgb25rZXl1cD0nc2V0QW5zd2VyKFwiICsgdGhpcy5jdXJyZW50UGFnZSArICcsJyArIHRoaXMucXVlc3Rpb25QYWdlICsgXCIsdGhpcyknPjwvdGV4dGFyZWE+XCI7XG4gICAgaWYgKHRoaXMuc2xvdXBjZSkge1xuICAgICAgaWYgKHRoaXMucGFyb3Zhb3RhemthKSB7XG4gICAgICAgIHRyYW5zbGF0ZWRyb3cgKz0gJzwvZmllbGRzZXQ+PC9mb3JtPjwvdGQ+PC90cj4nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5xdWVzdGlvblBhZ2UrKztcbiAgICAgICAgdGFza2luZGV4ID0gJyAjMic7XG4gICAgICAgIHRyYW5zbGF0ZWRyb3cgKz0gJzwvZmllbGRzZXQ+PC9mb3JtPjwvdGQ+PHRkPicgKyB0aGlzLmdlbmVyYXRlSHRtbE90YXprYVJvdyh0YXNraW5kZXgpOyAvL2ZpeCBidWcjMjQ5IGFkZGVkIGNsb3NpbmcgZm9ybSB0YWdcbiAgICAgICAgaWYgKEludGVycHJldGVyLmVuZHNXaXRoKHJvdywgJz8nKSkgdGhpcy5yZXN1bHQuc2V0RGVmYXVsdE9wdGlvbmFsQW5zd2VyKHRoaXMuY3VycmVudFBhZ2UsIHRoaXMucXVlc3Rpb25QYWdlLCAnICMyJyk7XG4gICAgICAgIGVsc2UgdGhpcy5yZXN1bHQuc2V0RGVmYXVsdEFuc3dlcih0aGlzLmN1cnJlbnRQYWdlLCB0aGlzLnF1ZXN0aW9uUGFnZSwgdGFza2luZGV4KTtcbiAgICAgICAgdHJhbnNsYXRlZHJvdyArPSBcIjx0ZXh0YXJlYSByb3dzPScxJyBvbmtleXVwPSdzZXRBbnN3ZXIoXCIgKyB0aGlzLmN1cnJlbnRQYWdlICsgJywnICsgdGhpcy5xdWVzdGlvblBhZ2UgKyBcIix0aGlzKSc+PC90ZXh0YXJlYT5cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRyYW5zbGF0ZWRyb3c7XG4gIH1cblxuICAvL2lmIHRoZSBxdWVzdGlvbiBpcyBub3QgY2xvc2VkIHB1dCB2YWx1ZXMgZnJvbSBwcmV2aW91c2x5IGRlZmluZWQgcXVlc3Rpb24gd2l0aCB2YWx1ZXNcbiAgY2xvc2VPdGF6a2EoKSB7XG4gICAgaWYgKCF0aGlzLmhvZG5vdHlTZXR0ZWQpIHtcbiAgICAgIC8vY29uc29sZS5sb2coXCJjbG9zZU90YXprYSgpIGxhc3QgdmFsdWVzIG5vdCBzZXRcIik7XG4gICAgICAvL2NvbnNvbGUubG9nKGhvZG5vdHkpO1xuICAgICAgLy9jb25zb2xlLmxvZyhsYXN0b3RhemthKTtcXFxuICAgICAgdGhpcy5ob2Rub3R5U2V0dGVkID0gdHJ1ZTtcbiAgICAgIGlmICh0aGlzLmhvZG5vdHlbdGhpcy5yZXN1bHQubGFzdG90YXprYV0pIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcInNldHRpbmcgZnJvbSBsYXN0IHZhbHVlc1wiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRlSG9kbm90eSh0aGlzLmhvZG5vdHlbdGhpcy5yZXN1bHQubGFzdG90YXprYV0pO1xuICAgICAgfSByZXR1cm4gJzwvZmllbGRzZXQ+PC9mb3JtPlxcbic7XG4gICAgfSByZXR1cm4gJyc7XG4gIH1cbiAgLypcbiAgICpcdFwic2xvdXBjZVwiIGNvbW1hbmQgaW5pdGlhdGUgdGhlIEhUTUwgb3V0cHV0IHRvIGJlIGdlbmVyYXRlIGludG8gdGhlIEhUTUwgdGFibGUgd2l0aCAyIGNvbGx1bW5zXG4gICAqL1xuICB0cmFuc2xhdGVTbG91cGNlKCkge1xuICAgIGlmICghdGhpcy5zbG91cGNlKSB7XG4gICAgICB0aGlzLnNsb3VwY2UgPSB0cnVlO1xuICAgICAgLy9yZXR1cm4gXCI8dGFibGU+PHRoZWFkPjx0cj48dGggY2xhc3M9J3RhYmxlZmlyc3QnLz48dGggY2xhc3M9J3RhYmxlc2Vjb25kJy8+PC90aGVhZD48dGJvZHk+PHRyPlwiO1xuICAgICAgcmV0dXJuICc8dGFibGU+PHRyPic7XG4gICAgfSByZXR1cm4gJyc7XG4gIH1cblxuICBjbG9zZVNsb3VwY2UoKSB7XG4gICAgaWYgKHRoaXMuc2xvdXBjZSkge1xuICAgICAgdGhpcy5zbG91cGNlID0gZmFsc2U7XG4gICAgICByZXR1cm4gJzwvdHI+PC90Ym9keT48L3RhYmxlPic7XG4gICAgfSByZXR1cm4gJyc7XG4gIH1cblxuICAvL3NlbGVjdCBnZW5lcmF0ZXMgc2VsZWN0IG1lbnVcbiAgdHJhbnNsYXRlU2VsZWN0KHJvd3NwbGl0dGVkKSB7XG4gICAgLy9maXggYnVnIC4uLiBpbmRpY2F0ZSB0aGF0IHRoZSBlbGVtZW50IHdhcyBhbnN3ZXJlZCBieSBjaGFuZ2luZyB0aGUgYmFja2dyb3VuZFxuICAgIGxldCByb3cgPSBcIjxzZWxlY3Qgb25jbGljaz0ndGhpcy5zdHlsZS5iYWNrZ3JvdW5kPVxcXCJsaWdodGJsdWVcXFwiOyBzZXRBbnN3ZXIoXCIgKyB0aGlzLmN1cnJlbnRQYWdlICsgJywnICsgdGhpcy5xdWVzdGlvblBhZ2UgKyBcIix0aGlzKTsnIG9uY2hhbmdlPSdzZXRBbnN3ZXIoXCIgKyB0aGlzLmN1cnJlbnRQYWdlICsgJywnICsgdGhpcy5xdWVzdGlvblBhZ2UgKyBcIix0aGlzKTsnPlwiO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcm93c3BsaXR0ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJvdyArPSBcIjxvcHRpb24gdmFsdWU9J1wiICsgcm93c3BsaXR0ZWRbaV0gKyBcIic+XCIgKyByb3dzcGxpdHRlZFtpXSArICc8L29wdGlvbj4nO1xuICAgIH1cbiAgICByb3cgKz0gJzwvc2VsZWN0Pic7XG4gICAgdGhpcy5yZXN1bHQuc2V0RGVmYXVsdEFuc3dlcih0aGlzLmN1cnJlbnRQYWdlLCB0aGlzLnF1ZXN0aW9uUGFnZSk7IC8vZml4IGJ1ZyAjIDE5OFxuICAgIHJldHVybiByb3c7XG4gIH1cblxuICB0cmFuc2xhdGVTdHlsZShwcmV2aW91c3Rva2VuLCByb3cpIHtcbiAgICBsZXQgZmlyc3R0b2tlbiA9IHJvdy50cmltKCkuc3BsaXQoJyAnLCAyKVswXTsgLy9nZXRzICNzdHlsZSBvciAjc3R5bGVidXR0b24gb3IgI3N0eWxlZm9ybVxuICAgIGxldCBzdHlsZWRlZmluaXRpb24gPSBJbnRlcnByZXRlci5leHRyYWN0KHJvdywgZmlyc3R0b2tlbik7IC8vZXh0cmFjdCB0aGUgcHJldmlvdXNseSBvYnRhaW5lZCB0b2tlblxuICAgIGlmIChEc2wuaXNPYnJhem92a2EocHJldmlvdXN0b2tlbikpIC8vc3R5bGUgb2YgYm9keSBlLmcuOm1heC13aWR0aDo0MGVtXG4gICAge3JldHVybiBcIlxcbjxzY3JpcHQ+ZG9jdW1lbnQuYm9keS5zdHlsZT0nXCIgKyBzdHlsZWRlZmluaXRpb24gKyBcIic8L3NjcmlwdD5cXG5cIjt9XG4gICAgaWYgKERzbC5pc1p2dWsocHJldmlvdXN0b2tlbikpIC8vc3R5bGUgb2YgYWxsIHN0aW11bHVzIGF0dHJpYnV0ZSBlLmcuOiB3aWR0aDoxMCU7XG4gICAge3JldHVybiBcIlxcbjxzY3JpcHQ+JCgnLnN0aW11bHVzJykuYXR0cignc3R5bGUnLCdcIiArIHN0eWxlZGVmaW5pdGlvbiArIFwiJyk7PC9zY3JpcHQ+XFxuXCI7fVxuICAgIGlmIChwcmV2aW91c3Rva2VuID09PSAnYnV0dG9uJykge3JldHVybiBcIlxcbjxzY3JpcHQ+JCgnLnNvdW5kLWJ1dHRvbicpLmF0dHIoJ3N0eWxlJywnXCIgKyBzdHlsZWRlZmluaXRpb24gKyBcIicpOzwvc2NyaXB0PlxcblwiO31cbiAgICBpZiAoRHNsLmlzT3RhemthKHByZXZpb3VzdG9rZW4pKSB7cmV0dXJuIFwiXFxuPHNjcmlwdD4kKCcudGFzaycpLmF0dHIoJ3N0eWxlJywnXCIgKyBzdHlsZWRlZmluaXRpb24gKyBcIicpOzwvc2NyaXB0PlxcblwiO31cbiAgICBpZiAocHJldmlvdXN0b2tlbiA9PT0gJ2Zvcm0nKSB7XG4gICAgICByZXR1cm4gJ1xcbjxzY3JpcHQ+JyArXG4gICAgICAgIC8vXCJjb25zb2xlLmxvZygnXCIgK2xhc3Rmb3JtaWRlc2NhcGVkK1wiJyk7XCIrIC8vbG9nc1xuICAgICAgICBcIiQoJyNcIiArIHRoaXMubGFzdGZvcm1pZGVzY2FwZWQgKyBcIicpLmF0dHIoJ3N0eWxlJywnXCIgKyBzdHlsZWRlZmluaXRpb24gKyBcIicpO1wiICsgLy9zZXRzIHN0eWxlIGZvciB0aGUgZm9ybSBlbGVtZW50IHdpdGggbGFzdCBmb3JtaWRcbiAgICAgICAgXCIkKCcjXCIgKyB0aGlzLmxhc3Rmb3JtaWRlc2NhcGVkICsgXCIgfiBmb3JtJykuYXR0cignc3R5bGUnLCdcIiArIHN0eWxlZGVmaW5pdGlvbiArIFwiJyk7XCIgKyAvL2FuZCBzZXRzIHN0eWxlIGZvciBhbGwgb3RoZXIgc2libGluZyBmb3Jtc1xuICAgICAgICAnPC9zY3JpcHQ+XFxuJztcbiAgICB9XG4gICAgLy9maXggIzIxMiwgMjQ4XG4gICAgLy9yZXR1cm4gXCJcXG48c2NyaXB0PiQoJy50YXNrJykuY2hpbGRyZW4oJ2Zvcm0nKS5hdHRyKCdzdHlsZScsJ1wiICsgc3R5bGVkZWZpbml0aW9uICsgXCInKTs8L3NjcmlwdD5cXG5cIjtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuXG4gIHRyYW5zbGF0ZVR5cGUocm93KSB7XG4gICAgLy90cmFuc2xhdGVzIHR5cGUgLSBlZHVjYXRpb25hbCBtb2RlLCBwcmV2aW91cyBidXR0b24gYWxsb3dlZC9ub3RhbGxvd2VkIGV0Yy5cbiAgICBpZiAocm93LmNvbnRhaW5zKCdub3ByZXZpb3VzYnV0dG9uJykpIHRoaXMuYWxsb3dwcmV2ID0gZmFsc2U7XG4gICAgaWYgKHJvdy5jb250YWlucygneWVzcHJldmlvdXNidXR0b24nKSkgdGhpcy5hbGxvd3ByZXYgPSB0cnVlO1xuICAgIGlmIChyb3cuY29udGFpbnMoJ2VkdWNhdGlvbmFsJykpIHRoaXMuZWR1Y2F0aW9uYWwgPSB0cnVlO1xuICAgIGlmICh0aGlzLmVkdWNhdGlvbmFsKSB7XG4gICAgICB0aGlzLmVkdWlkID0gcm93Lm1hdGNoKC9lZHVjYXRpb25hbFxcKChbXFxkXSspXFwpLylbMV07XG4gICAgICBpZiAodGhpcy5lZHVpZCAhPT0gJycpIHRoaXMuZ2V0RWR1UmVzdWx0cygpO1xuICAgIH0gLy9pbmRleE9mKFwiZWR1Y2F0aW9uYWxcIikrMVxuICB9XG5cbiAgZ2V0RWR1UmVzdWx0cygpIHtcbiAgICAkLmdldEpTT04oUHN5Y2hvUmVzdWx0SWRVcmwgKyB0aGlzLmVkdWlkLCBudWxsLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAvL2NvbnNvbGUubG9nKFwicmV0cmlldmVkIGVkdWNhdGlvbmFsIHJhdyByZXN1bHRzXCIpO1xuICAgICAgLy9jb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgIHRoaXMuZWR1cmVzdWx0cyA9IHt9O1xuICAgICAgZGF0YVswXS5yZXN1bHRJdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcInBhcnNpbmcgaXRlbTpcIik7XG4gICAgICAgIC8vY29uc29sZS5sb2coaXRlbSk7XG4gICAgICAgIGxldCBpdGVtb2JqID0gUmVwYWlySlNPTlJlc3VsdEl0ZW0oaXRlbSk7XG4gICAgICAgIGlmICghdGhpcy5lZHVyZXN1bHRzW2l0ZW1vYmouY2FzZV0pIHRoaXMuZWR1cmVzdWx0c1tpdGVtb2JqLmNhc2VdID0ge307XG4gICAgICAgIGlmICghdGhpcy5lZHVyZXN1bHRzW2l0ZW1vYmouY2FzZV0uYW5zd2VyKSB0aGlzLmVkdXJlc3VsdHNbaXRlbW9iai5jYXNlXS5hbnN3ZXIgPSBbXTtcbiAgICAgICAgdGhpcy5lZHVyZXN1bHRzW2l0ZW1vYmouY2FzZV0uYW5zd2VyW2l0ZW1vYmoucXVlc3Rpb24udHJpbSgpXSA9IGl0ZW1vYmouYW5zd2VyO1xuICAgICAgICBpZiAoIXRoaXMuZWR1cmVzdWx0c1tpdGVtb2JqLmNhc2VdLm5vdGUpIHRoaXMuZWR1cmVzdWx0c1tpdGVtb2JqLmNhc2VdLm5vdGUgPSBbXTtcbiAgICAgICAgaWYgKCFpdGVtb2JqLm5vdGUpIHRoaXMuZWR1cmVzdWx0c1tpdGVtb2JqLmNhc2VdLm5vdGVbaXRlbW9iai5xdWVzdGlvbi50cmltKCldID0gaXRlbW9iai5kYXRlOyAvL1RPRE8gbmV3IGNvbGx1bW4gZm9yIG5vdGUsIGN1cnJlbnQgd29ya2Fyb3VuZCwgbm90ZSBpbnRvIGRhdGUgY29sbHVtblxuICAgICAgICBlbHNlIHRoaXMuZWR1cmVzdWx0c1tpdGVtb2JqLmNhc2VdLm5vdGVbaXRlbW9iai5xdWVzdGlvbi50cmltKCldID0gaXRlbW9iai5ub3RlO1xuICAgICAgfSk7XG4gICAgICAvL2NvbnNvbGUubG9nKFwicmV0cmlldmVkIGVkdWNhdGlvbmFsIHJlc3VsdHNcIik7XG4gICAgICAvL2NvbnNvbGUubG9nKGVkdXJlc3VsdHMpO1xuICAgIH0pO1xuICB9XG4gIC8vdHJhbnNsYXRlIG9uZSByb3dcbiAgdHJhbnNsYXRlVGVzdEl0ZW1zKHJvdykge1xuICAgIGxldCB0cmFuc2xhdGVkUm93ID0gJyc7XG4gICAgcm93ID0gcm93LnRyaW0oKTtcbiAgICAvL2NvbnNvbGUubG9nKCd0ZXN0IGl0ZW06Jyk7XG4gICAgLy9jb25zb2xlLmxvZyhyb3cpO1xuICAgIC8qdmFyIHJlMSA9IC9bIDssXSsvOyAvLyBmaXggZmVhdHVyZSBidWcgIzI0MCwgY29tYSAnLCcgaXMgdXNlZCB0byBzZXBhcmF0ZSBpbnRlcnZhbCBudW1iZXJzXG4gICAgIHZhciByb3dzcGxpdHRlZCA9IHJvdy5zcGxpdChyZTEpOyovXG4gICAgbGV0IHJvd3NwbGl0dGVkID0gdGhpcy5zcGxpdFZhbHVlcyhyb3cpOyAvL2ZpeCBidWcsIGNvbWFzIGFuZCBzcGFjZXMgaW4gcXVvdGVzXG4gICAgaWYgKHJvd3NwbGl0dGVkLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRyYW5zbGF0ZWRSb3c7XG5cbiAgICBpZiAoRHNsLmlzWnZ1ayhyb3dzcGxpdHRlZFswXSkpIHRyYW5zbGF0ZWRSb3cgKz0gdGhpcy5zdGltdWwudHJhbnNsYXRlWnZ1ayhyb3dzcGxpdHRlZCwgdGhpcy50c3RhdGUucG9yYWRpdm50aWNpbmFob2RuZSwgdGhpcy5yZXN1bHQsIHRoaXMuc2xvdXBjZSk7XG4gICAgZWxzZSBpZiAoIXN0YXJ0c1dpdGhDb21tZW50KHJvd3NwbGl0dGVkWzBdKSkgdHJhbnNsYXRlZFJvdyArPSB0aGlzLnN0aW11bC50cmFuc2xhdGVOb25adnVrKHJvdyk7IC8vZG8gc2VwYXJhdGlvbiBiZXR3ZWVuIHN0aW11bGkgYW5kIG90aGVyIGVsZW1lbnRzXG5cbiAgICBpZiAoRHNsLmlzWnZ1ayhyb3dzcGxpdHRlZFswXSkpIHsgLyogYWxyZWFkeSBkb25lIGluIHByZXZpb3VzIGNhbGwsIG5vIGFjdGlvbiovIH1cbiAgICAvL2Vsc2UgaWYgKERzbC5pc1ZpZGVvKHJvd3NwbGl0dGVkWzBdKSkgdHJhbnNsYXRlZFJvdyArPSB0aGlzLnN0aW11bC50cmFuc2xhdGVWaWRlbyhyb3dzcGxpdHRlZCk7IC8vZGVwcmVjYXRlZFxuICAgIGVsc2UgaWYgKERzbC5pc1RleHQocm93c3BsaXR0ZWRbMF0pKSB0cmFuc2xhdGVkUm93ICs9IHRoaXMudHJhbnNsYXRlVGV4dChyb3cpO1xuICAgIGVsc2UgaWYgKERzbC5pc1Nsb3VwY2Uocm93c3BsaXR0ZWRbMF0pKSB0cmFuc2xhdGVkUm93ICs9IHRoaXMudHJhbnNsYXRlU2xvdXBjZSgpO1xuICAgIC8qZWxzZSBpZiAoRHNsLmlzUGFyb3ZhT3RhemthKHJvd3NwbGl0dGVkWzBdKSkgeyAvL3ByaW9yaXR5IG92ZXIgRHNsLmlzT3RhemthXG4gICAgICAgIHRyYW5zbGF0ZWRSb3cgKz0gdGhpcy5jbG9zZU90YXprYSgpO1xuICAgICAgICB0cmFuc2xhdGVkUm93ICs9IHRoaXMudHJhbnNsYXRlUGFyb3ZhT3RhemthKHJvdyk7XG4gICAgfSAvL2Vsc2UgaWYgKERzbC5pc1NrYWxvdmFjaShyb3dzcGxpdHRlZFswXSkpIHRyYW5zbGF0ZWRSb3cgKz0gdHJhbnNsYXRlU2thbG92YWNpKHJvdyk7IC8vcHJpb3JpdHkgb3ZlciBEc2wuaXNPdGF6a2FcbiAgICAqL1xuICAgIGVsc2UgaWYgKERzbC5pc1Rhc2tGb3JTdGltdWxpKHJvd3NwbGl0dGVkWzBdKSkge1xuICAgICAgdHJhbnNsYXRlZFJvdyArPSB0aGlzLmNsb3NlT3RhemthKCk7XG4gICAgICBpZiAodGhpcy5zbG91cGNlKSB0cmFuc2xhdGVkUm93ICs9IHRoaXMudHJhbnNsYXRlVGFza0ZvclN0aW11bGkocm93KTtcbiAgICAgIGVsc2UgQ29uc29sZS5sb2coXCJXYXJuaW5nOiB1bmV4cGVjdGVkIHRva2VuICd0YXNrZm9yc3RpbXVsaScgbm90IGluIHBhaXIgXCIpO1xuICAgIH0gZWxzZSBpZiAoRHNsLmlzT3RhemthKHJvd3NwbGl0dGVkWzBdKSkge1xuICAgICAgdHJhbnNsYXRlZFJvdyArPSB0aGlzLmNsb3NlT3RhemthKCk7XG4gICAgICBpZiAodGhpcy5zbG91cGNlKSB0cmFuc2xhdGVkUm93ICs9IHRoaXMudHJhbnNsYXRlUGFyb3ZhT3RhemthKHJvdyk7XG4gICAgICBlbHNlIHRyYW5zbGF0ZWRSb3cgKz0gdGhpcy50cmFuc2xhdGVPdGF6a2Eocm93KTtcbiAgICB9IGVsc2UgaWYgKERzbC5pc1BhbmVsKHJvd3NwbGl0dGVkWzBdKSkge1xuICAgICAgdHJhbnNsYXRlZFJvdyArPSB0aGlzLmNsb3NlT3RhemthKCk7XG4gICAgfSBlbHNlIGlmIChEc2wuaXNIb2Rub3R5KHJvd3NwbGl0dGVkWzBdKSB8fCBEc2wuaXNDaGVja2JveHZhbHVlcyhyb3dzcGxpdHRlZFswXSkpIHRyYW5zbGF0ZWRSb3cgKz0gdGhpcy50cmFuc2xhdGVIb2Rub3R5KHJvd3NwbGl0dGVkKTsgLy93aWxsIG1hdGNoIGFsc28gdmFsdWVzb25yb3cgYW5kIGNoZWNrYm94dmFsdWVzb25yb3dcbiAgICAvLyBtb3ZlIGRlY0RzbC5pc2lvbiBvbiB0eXBlIG9mIGhvZG5vdHkgb24gZnVuY3Rpb24gdHJhbnNsYXRlVmFsdWVzIGVsc2UgaWYgKERzbC5pc0hvZG5vdHkocm93c3BsaXR0ZWRbMF0pKSB0cmFuc2xhdGVkUm93ICs9IHRyYW5zbGF0ZUhvZG5vdHkocm93c3BsaXR0ZWQsdHJ1ZSk7XG4gICAgLy9lbHNlIGlmIChEc2wuaXNDaGVja2JveHZhbHVlcyhyb3dzcGxpdHRlZFswXSkpIHRyYW5zbGF0ZWRSb3cgKz0gdHJhbnNsYXRlSG9kbm90eShyb3dzcGxpdHRlZCwgZmFsc2UpO1xuXG4gICAgZWxzZSBpZiAoRHNsLmlzU2thbG92YWNpSG9kbm90eShyb3dzcGxpdHRlZFswXSkpIHRyYW5zbGF0ZWRSb3cgKz0gdGhpcy50cmFuc2xhdGVTY2FsZSh0aGlzLnByZXZpb3Vzcm93LCByb3dzcGxpdHRlZCk7XG4gICAgZWxzZSBpZiAoRHNsLmlzU2thbGEocm93c3BsaXR0ZWRbMF0pKSB0cmFuc2xhdGVkUm93ICs9IHRoaXMudHJhbnNsYXRlVkFTY2FsZSh0aGlzLnByZXZpb3Vzcm93LCByb3dzcGxpdHRlZCk7XG4gICAgZWxzZSBpZiAoRHNsLmlzUG9waXMocm93c3BsaXR0ZWRbMF0pKSB0cmFuc2xhdGVkUm93ICs9IHRoaXMudHJhbnNsYXRlUG9waXMocm93KTtcbiAgICBlbHNlIGlmIChEc2wuaXNTZXJhZDJkKHJvd3NwbGl0dGVkWzBdKSkgdHJhbnNsYXRlZFJvdyArPSB0aGlzLnJhbmtpbmcyZC50cmFuc2xhdGVTZXJhZDJkKHJvdy5zbGljZSgncmFua2luZzJkJy5sZW5ndGgpLCB0aGlzLnN0aW11bC5hdWRpb2lkLCB0aGlzLmN1cnJlbnRQYWdlLCB0aGlzLnF1ZXN0aW9uUGFnZSsrKTtcbiAgICBlbHNlIGlmIChEc2wuaXNTZWxlY3Qocm93c3BsaXR0ZWRbMF0pKSB0cmFuc2xhdGVkUm93ICs9IHRoaXMudHJhbnNsYXRlU2VsZWN0KHJvd3NwbGl0dGVkKTtcbiAgICBlbHNlIGlmIChEc2wuaXNTdHlsZUJ1dHRvbihyb3dzcGxpdHRlZFswXSkpIHRyYW5zbGF0ZWRSb3cgKz0gdGhpcy50cmFuc2xhdGVTdHlsZSgnYnV0dG9uJywgcm93KTtcbiAgICBlbHNlIGlmIChEc2wuaXNTdHlsZUZvcm0ocm93c3BsaXR0ZWRbMF0pKSB0cmFuc2xhdGVkUm93ICs9IHRoaXMudHJhbnNsYXRlU3R5bGUoJ2Zvcm0nLCByb3cpO1xuICAgIGVsc2UgaWYgKERzbC5pc1N0eWxlKHJvd3NwbGl0dGVkWzBdKSkgdHJhbnNsYXRlZFJvdyArPSB0aGlzLnRyYW5zbGF0ZVN0eWxlKHRoaXMucHJldmlvdXN0b2tlbiwgcm93KTtcbiAgICBlbHNlIGlmIChEc2wuaXNUeXBlKHJvd3NwbGl0dGVkWzBdKSkgdGhpcy50cmFuc2xhdGVUeXBlKHJvdyk7XG4gICAgdGhpcy5wcmV2aW91c3Rva2VuID0gcm93c3BsaXR0ZWRbMF07XG4gICAgaWYgKCFzdGFydHNXaXRoQ29tbWVudChyb3dzcGxpdHRlZFswXSkpIHRoaXMucHJldmlvdXNyb3cgPSByb3c7XG4gICAgcmV0dXJuIHRyYW5zbGF0ZWRSb3c7XG4gIH1cblxuICBmb290ZXJQYWdlTnVtYmVyKCkge1xuICAgIHJldHVybiBcIjxwIGFsaWduPSdjZW50ZXInIGNsYXNzPSdmb290ZXInPk9icmF6b3ZrYSBcIiArIHRoaXMuY3VycmVudFBhZ2UgKyAnIHogY2Vsa2VtICcgKyB0aGlzLm1heFBhZ2VzICsgJy48L3A+JztcbiAgfVxuXG4gIC8vc2h1ZmZsZSByYW5kb21seSB0aGUgYXJyYXlcbiAgc2h1ZmZsZSgpIHtcbiAgICBsZXQgaSA9IHRoaXMubGVuZ3RoOyBsZXQgajsgbGV0IHRlbXA7XG4gICAgaWYgKGkgPT0gMCkgcmV0dXJuIHRoaXM7XG4gICAgd2hpbGUgKC0taSkge1xuICAgICAgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xuICAgICAgdGVtcCA9IHRoaXNbaV07XG4gICAgICB0aGlzW2ldID0gdGhpc1tqXTtcbiAgICAgIHRoaXNbal0gPSB0ZW1wO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG5cbiAgLypcbiAgICpcdHRoaXMgc2NyaXB0IHdpbGwgcHJlcHJvY2VzcyB0aGUgdGVzdCAtIG1ha2UgY29tYmluYXRpb24gb2Ygc2NyZWVucyBldGMuIGJlZm9yZSBpdCBpcyBpbnRlcnByZXR0ZWRcbiAgICogZS5nLiBcInBhcm92eXRlc3RcIiwgdGhlcmUgYXJlIG1hZGUgcGFpcnMgZnJvbSB0aGUgc291bmRzIHdpdGhpbiB0aGlzIHRlc3QgYW5kIGdlbmVyYXRlZCBzY3JlZW5zLFxuICAgKiAgICAgIGZvciAyIHNvdW5kIHRoZXJlIGlzIDEgcGFpciwgZm9yIDMgc291bmRzIHRoZXJlIGFyZSAzIHBhaXIgY29tYmluYXRpb24gWzEsMl1bMSwzXVsyLDNdLCAuLi5cbiAgICovXG4gIFRlc3RTdGF0ZSA9IHsgVU5EOiAwLCBPQlI6IDEsIFBBUjogMiwgS0FUOiAzLCAgRU5EOiA0LCBTVEFSVDogNSwgRVhUOiA2LCBTVElNR1I6IDcsIFJFUFNUSU06IDgsIFJFUEdSUDogOSB9O1xuICAvLyAgICB0aGlzLnByZXAgPSBuZXcgUHJlcHJvY2Vzb3IodGhpcyk7IC8vYmFja3dhcmQgcmVmZXJlbmNlXG4gIGlzWnZ1aztcblxuICAvL3Jlc2V0IGFsbCB2YWx1ZXNcbiAgaW5pdFRlc3QoY3VycmVudFJhd1Rlc3QpIHtcbiAgICAvKnRoaXMudHN0YXRlLnBvcmFkaXZudGljaW5haG9kbmUgPSBmYWxzZTtcbiAgICB0aGlzLnRzdGF0ZS5wb3JhZGl6dnVrdW5haG9kbmUgPSBmYWxzZTtcbiAgICB0aGlzLnRzdGF0ZS5wb3JhZGljYXNlbmFob2RuZSA9IGZhbHNlOyovXG4gICAgdGhpcy5lZHVjYXRpb25hbCA9IGZhbHNlO1xuICAgIHRoaXMuaGlnaGxpZ2h0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLnByZXAgPSBuZXcgUHJlcHJvY2Vzb3IodGhpcyk7XG5cbiAgICB0aGlzLmN1cnJlbnRUZXN0ID0gdGhpcy5wcmVwLnByZXByb2Nlc3NUZXN0KGN1cnJlbnRSYXdUZXN0KTsgLy9wcmVwcm9jZXNzIGZyb20gY3VycmVudFJhd1Rlc3QgdG8gY3VycmVudFRlc3RcbiAgICB0aGlzLnRzdGF0ZSA9IHRoaXMucHJlcC50c3RhdGU7XG4gICAgLy9jb25zb2xlLmxvZyhjdXJyZW50VGVzdCk7XG4gICAgdGhpcy5tYXhQYWdlcyA9IHRoaXMuY3VycmVudFRlc3QubWF0Y2goL1xcbltcXHNdKnNjcmVlbi9pZykubGVuZ3RoO1xuICAgIHRoaXMudGVzdE5hbWUgPSBJbnRlcnByZXRlci5leHRyYWN0KHRoaXMuY3VycmVudFRlc3QubWF0Y2goL3Rlc3QgLiovaSkudG9TdHJpbmcoKSwgJ3Rlc3QgJyk7XG5cbiAgICB0aGlzLmN1cnJlbnRDdXJzb3IgPSAwO1xuICAgIHRoaXMuY3VycmVudFBhZ2UgPSAwO1xuICAgIHRoaXMucmVzdW1laWQgPSAwO1xuXG4gICAgdGhpcy5yZXN1bHQuYW5zd2VycyA9IFtdOy8vcmVzZXQgYW5zd2VycyBUT0RPIGNoZWNrXG4gICAgdGhpcy5zbGlkZXJWYWx1ZXMgPSBbXTsvL3Jlc2V0IHNsaWRlciB2YWx1ZXNcbiAgfVxuXG4gIHJlc3VtZVRlc3QoY3VycmVudFJhd1Rlc3QsIHBhZ2UsIGFuc3dlcnMsIHJlc3VtZWlkKSB7XG4gICAgdGhpcy5lZHVjYXRpb25hbCA9IGZhbHNlOyAvL1RPRE8gcGVyc2lzdFxuICAgIHRoaXMuaGlnaGxpZ2h0ZWQgPSBmYWxzZTsgLy9UT0RPIHBlcnNpc3RcbiAgICB0aGlzLnNsaWRlclZhbHVlcyA9IFtdOy8vVE9ETyBwZXJzaXN0P1xuICAgIHRoaXMucmVzdW1laWQgPSByZXN1bWVpZDtcbiAgICB0aGlzLnByZXAgPSBuZXcgUHJlcHJvY2Vzb3IodGhpcyk7XG5cbiAgICB0aGlzLmN1cnJlbnRUZXN0ID0gY3VycmVudFJhd1Rlc3Q7IC8vYTtyZWFkeSBwcmVwcm9jZXNzZWRcbiAgICB0aGlzLnRzdGF0ZSA9IHRoaXMucHJlcC50c3RhdGU7XG4gICAgLy9jb25zb2xlLmxvZyhjdXJyZW50VGVzdCk7XG4gICAgdGhpcy5tYXhQYWdlcyA9IHRoaXMuY3VycmVudFRlc3QubWF0Y2goL1xcbltcXHNdKnNjcmVlbi9pZykubGVuZ3RoO1xuICAgIHRoaXMudGVzdE5hbWUgPSBJbnRlcnByZXRlci5leHRyYWN0KHRoaXMuY3VycmVudFRlc3QubWF0Y2goL3Rlc3QgLiovaSkudG9TdHJpbmcoKSwgJ3Rlc3QgJyk7XG5cbiAgICB0aGlzLmN1cnJlbnRDdXJzb3IgPSAwO1xuICAgIHRoaXMuY3VycmVudFBhZ2UgPSAwO1xuICAgIC8vICAgIHRoaXMuY3VycmVudFBhZ2UgPSBwYWdlOyAvL3BlcnNpc3RlbnRcbiAgICBpZiAocGFnZSA+IDApIHtcbiAgICAgIHBhZ2UtLTtcbiAgICAgIHdoaWxlICh0aGlzLmN1cnJlbnRQYWdlIDwgcGFnZSkgdGhpcy5uZXh0cGFnZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnd2VpcmQgcGF1c2VkIGF0IHBhZ2UgMDsgb3IgMTsnKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlc3VsdC5hbnN3ZXJzID0gYW5zd2VyczsvL3Jlc2V0IGFuc3dlcnNcbiAgfVxuXG4gIGZpbmRQcmV2aW91c09icmF6b3ZrYSh0ZXN0RFNMKSB7XG4gICAgbGV0IHNwbGl0dGVkID0gdGVzdERTTC5zcGxpdCgnXFxuJyk7XG4gICAgdGhpcy5jdXJyZW50Q3Vyc29yLS07XG4gICAgdGhpcy5jdXJyZW50UGFnZSAtPSAyO1xuICAgIHdoaWxlICgodGhpcy5jdXJyZW50Q3Vyc29yID4gMCkgJiYgKCFzcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3JdLnN0YXJ0c1dpdGgoJ3NjcmVlbicpKSkgdGhpcy5jdXJyZW50Q3Vyc29yLS07XG4gICAgaWYgKHRoaXMuY3VycmVudEN1cnNvciA+IDApIHRoaXMuY3VycmVudEN1cnNvci0tOyAvL3N0ZXAgb3ZlciB0aGUgY3VyZW50IGl0ZW1cbiAgICB3aGlsZSAoKHRoaXMuY3VycmVudEN1cnNvciA+IDApICYmICghc3BsaXR0ZWRbdGhpcy5jdXJyZW50Q3Vyc29yXS5zdGFydHNXaXRoKCdzY3JlZW4nKSkpIHRoaXMuY3VycmVudEN1cnNvci0tO1xuICB9XG5cbiAgLypuZXh0cGFnZSgpe1xuICAgIHJldHVybiBcIjxwPnNvbWUgZGVtbyB0ZXN0PC9wPlwiO1xuICB9Ki9cblxuICBzdGF0aWMgbWFrZVNsaWRlcihzbGlkZXJWYWwsIHNsaWRlck1pbiwgc2xpZGVyTWF4LCBzbGlkZXJTdGVwLCBzbGlkZXJJZCwgbXlRdWVzdGlvblBhZ2UpIHtcbiAgICAvL2NvbnNvbGUubG9nKFwic2xpZGVyXCIpO1xuICAgIHRoaXMucmVzdWx0LnNldERlZmF1bHRBbnN3ZXIoLypwYXJzZXIqL3RoaXMuY3VycmVudFBhZ2UsIG15UXVlc3Rpb25QYWdlKTtcbiAgICBsZXQgbXlzbGlkZXIgPSAkKCcjc2xpZGVyJyArIHNsaWRlcklkKTtcbiAgICBteXNsaWRlci5sYWJlbGVkc2xpZGVyKHtcbiAgICAgIHZhbHVlOiBzbGlkZXJWYWwsIG1pbjogc2xpZGVyTWluLCBtYXg6IHNsaWRlck1heCwgc3RlcDogc2xpZGVyU3RlcCwgc2xpZGU6IGZ1bmN0aW9uKGV2ZW50LCB1aSkge1xuICAgICAgICAkKCcjc2xpZGVyJyArIHNsaWRlcklkICsgJ1ZhbHVlJykudmFsKC8qcGFyc2VyKi90aGlzLnNsaWRlclZhbHVlc1tzbGlkZXJJZF1bdWkudmFsdWVdKTtcbiAgICAgICAgLy91aS5oYW5kbGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJsaWdodGJsdWVcIjsvL2NzcyhcImJhY2tncm91bmQtY29sb3JcIixcImxpZ2h0Ymx1ZVwiKTsganF1ZXJ5IHVpXG4gICAgICAgIHRoaXMuc3R5bGUuYmFja2dyb3VuZCA9ICdsaWdodGJsdWUnO1xuICAgICAgICBzZXRBbnN3ZXIoLypwYXJzZXIqL3RoaXMuY3VycmVudFBhZ2UsIG15UXVlc3Rpb25QYWdlLCAvKnBhcnNlciovdGhpcy5zbGlkZXJWYWx1ZXNbc2xpZGVySWRdW3VpLnZhbHVlXSk7XG4gICAgICB9LFxuICAgICAgc3RhcnQ6IGZ1bmN0aW9uKGV2ZW50LCB1aSkge1xuICAgICAgICAkKCcjc2xpZGVyJyArIHNsaWRlcklkICsgJ1ZhbHVlJykudmFsKC8qcGFyc2VyKi90aGlzLnNsaWRlclZhbHVlc1svKnBhcnNlciovdGhpcy5zbGlkZXJJZF1bdWkudmFsdWVdKTtcbiAgICAgICAgLy91aS5oYW5kbGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJsaWdodGJsdWVcIjtcbiAgICAgICAgdGhpcy5zdHlsZS5iYWNrZ3JvdW5kID0gJ2xpZ2h0Ymx1ZSc7XG4gICAgICAgIHNldEFuc3dlcigvKnBhcnNlciovdGhpcy5jdXJyZW50UGFnZSwgbXlRdWVzdGlvblBhZ2UsIC8qcGFyc2VyKi90aGlzLnNsaWRlclZhbHVlc1svKnBhcnNlciovdGhpcy5zbGlkZXJJZF1bdWkudmFsdWVdKTtcbiAgICAgIH0sXG4gICAgICB0aWNrTGFiZWxzOiAvKnBhcnNlciovdGhpcy5zbGlkZXJWYWx1ZXNbc2xpZGVySWRdXG4gICAgfSk7XG4gICAgbGV0IHdpZHRoID0gbXlzbGlkZXIud2lkdGgoKSAvICgvKnBhcnNlciovdGhpcy5zbGlkZXJWYWx1ZXNbLypwYXJzZXIqL3RoaXMuc2xpZGVySWRdLmxlbmd0aCAtIDEpO1xuICB9XG5cbiAgc3RhdGljIG1ha2VWQVNsaWRlcihzbGlkZXJJZCwgc2xpZGVyTWluLCBzbGlkZXJNYXgsIG15UXVlc3Rpb25QYWdlLCBzbGlkZXJTdGVwID0gMSkge1xuICAgIC8vY29uc29sZS5sb2coXCJWQXNsaWRlclwiKTtcbiAgICB0aGlzLnJlc3VsdC5zZXREZWZhdWx0QW5zd2VyKC8qcGFyc2VyKi90aGlzLmN1cnJlbnRQYWdlLCBteVF1ZXN0aW9uUGFnZSk7XG4gICAgbGV0IHNsaWRlcktleXNzdHIgPSBPYmplY3Qua2V5cygvKnBhcnNlciovdGhpcy5zbGlkZXJWYWx1ZXNbc2xpZGVySWRdKTtcbiAgICBsZXQgc2xpZGVyS2V5cyA9IHNsaWRlcktleXNzdHIubWFwKE51bWJlcik7IC8vZml4IGJ1ZyAjMjY5IG5ldyB2ZXJzaW9uIG9mIGxhYmVsZWRzbGlkZXIgcmVxdWlyZXMgbnVtYmVyc1xuXG4gICAgJCgnI3NsaWRlcicgKyBzbGlkZXJJZCkubGFiZWxlZHNsaWRlcih7XG4gICAgICB2YWx1ZTogc2xpZGVyTWluLCBtaW46IHNsaWRlck1pbiwgbWF4OiBzbGlkZXJNYXgsIHN0ZXA6IHNsaWRlclN0ZXAsIHNsaWRlOiBmdW5jdGlvbihldmVudCwgdWkpIHtcbiAgICAgICAgJCgnI3NsaWRlcicgKyBzbGlkZXJJZCArICdWYWx1ZScpLnZhbCh1aS52YWx1ZSk7XG4gICAgICAgIHRoaXMuc3R5bGUuYmFja2dyb3VuZCA9ICdsaWdodGJsdWUnO1xuICAgICAgICBzZXRBbnN3ZXIoLypwYXJzZXIqL3RoaXMuY3VycmVudFBhZ2UsIG15UXVlc3Rpb25QYWdlLCB1aS52YWx1ZSk7XG4gICAgICB9LFxuICAgICAgc3RhcnQ6IGZ1bmN0aW9uKGV2ZW50LCB1aSkge1xuICAgICAgICAkKCcjc2xpZGVyJyArIHNsaWRlcklkICsgJ1ZhbHVlJykudmFsKHVpLnZhbHVlKTtcbiAgICAgICAgdGhpcy5zdHlsZS5iYWNrZ3JvdW5kID0gJ2xpZ2h0Ymx1ZSc7XG4gICAgICAgIC8vJChcIiNzbGlkZXJcIiArIHNsaWRlcklkKS5jc3MoXCJiYWNrZ3JvdW5kXCIsXCJsaWdodGJsdWVcIik7XG4gICAgICAgIHNldEFuc3dlcigvKnBhcnNlciovdGhpcy5jdXJyZW50UGFnZSwgbXlRdWVzdGlvblBhZ2UsIHVpLnZhbHVlKTtcbiAgICAgIH0sXG4gICAgICAvL3RpY2tJbnRlcnZhbDpzbGlkZXJTdGVwLFxuICAgICAgdGlja0FycmF5OiBzbGlkZXJLZXlzLFxuICAgICAgdGlja0xhYmVsczogLypwYXJzZXIqL3RoaXMuc2xpZGVyVmFsdWVzW3NsaWRlcklkXVxuICAgIH0pO1xuICB9XG5cbiAgc3RhcnR0ZXN0KCkge1xuICAgICQoJyN0YWIyaGVscCcpLmhpZGUoKTsvLy5mYWRlT3V0KDUwMCk7IFRPRE8gaHRtbCBzcGVjaWZpY1xuICAgIGxldCBjdXJyZW50UmF3VGVzdCA9IHRoaXMuc2VsZWN0ZWRUZXN0RGVmaW5pdGlvbjtcbiAgICBpZiAodHlwZW9mIHRoaXMuZWRpdG9yICE9PSAndW5kZWZpbmVkJykgY3VycmVudFJhd1Rlc3QgPSB0aGlzLmVkaXRvci5nZXRWYWx1ZSgpO1xuICAgIC8vICAgIHBhcnNlciA9IG5ldyBJbnRlcnByZXRlcigpO1xuICAgIHRoaXMuaW5pdFRlc3QoY3VycmVudFJhd1Rlc3QpO1xuICAgIHRoaXMuaGlkZU5vbkFuc3dlcmVkKCk7XG4gICAgdGhpcy5jb250cm9sbGVyLnByZXZpZXcuaW5uZXJIVE1MID0gdGhpcy5uZXh0cGFnZSgpOy8vLypwYXJzZXIqL3RoaXMuY3VycmVudFRlc3QpO1xuICAgIC8vY29uc29sZS5sb2codGhpcy5jb250cm9sbGVyLnByZXZpZXcuaW5uZXJIVE1MKTtcbiAgICB0aGlzLmV2YWx1YXRlU2NyaXB0cygpO1xuICB9XG5cbiAgcmVzdW1ldGVzdCgpIHtcbiAgICAkKCcjdGFiMmhlbHAnKS5oaWRlKCk7Ly8uZmFkZU91dCg1MDApOyBUT0RPIGh0bWwgc3BlY2lmaWNcbiAgICAvL3ZhciBjdXJyZW50UmF3VGVzdCA9IHNlbGVjdGVkVGVzdERlZmluaXRpb247XG4gICAgLy9pZiAodHlwZW9mIGVkaXRvciAhPT0gXCJ1bmRlZmluZWRcIikgY3VycmVudFJhd1Rlc3QgPSBlZGl0b3IuZ2V0VmFsdWUoKTtcbiAgICAvL3BhcnNlciA9IG5ldyBJbnRlcnByZXRlcigpO1xuICAgIHRoaXMucmVzdW1lVGVzdCh0aGlzLnNlbGVjdGVkVGVzdERlZmluaXRpb24sIHRoaXMuc2VsZWN0ZWRUZXN0U2NyZWVubnVtYmVyLCB0aGlzLnNlbGVjdGVkVGVzdEFuc3dlcnMsIHRoaXMuc2VsZWN0ZWRUZXN0SWQpO1xuICAgIHRoaXMuaGlkZU5vbkFuc3dlcmVkKCk7XG4gICAgdGhpcy5jb250cm9sbGVyLnByZXZpZXcuaW5uZXJIVE1MID0gdGhpcy5uZXh0cGFnZSgpOy8vLypwYXJzZXIqL3RoaXMuY3VycmVudFRlc3QpO1xuICAgIC8vY29uc29sZS5sb2codGhpcy5jb250cm9sbGVyLnByZXZpZXcuaW5uZXJIVE1MKTtcbiAgICB0aGlzLmV2YWx1YXRlU2NyaXB0cygpO1xuICB9XG5cblxuICBuZXh0cGFnZSgpIHtcbiAgICBsZXQgdGVzdERTTCA9IHRoaXMuY3VycmVudFRlc3Q7XG4gICAgdGhpcy5jdXJyZW50UGFnZSsrO1xuICAgIHRoaXMucXVlc3Rpb25QYWdlID0gMDtcbiAgICB0aGlzLnN0aW11bC5hdWRpb2lkID0gMDsgLy9yZXNldCBhdWRpb2lkXG4gICAgY29uc29sZS5sb2coJ25leHQgcGFnZScsdGhpcy5jdXJyZW50UGFnZSk7XG4gICAgaWYgKHRoaXMuY3VycmVudFBhZ2UgPT09IHRoaXMubWF4UGFnZXMpIHRoaXMuY29udHJvbGxlci5sYXN0UGFnZSgpO1xuICAgIGVsc2UgaWYgKHRoaXMuY3VycmVudFBhZ2UgPT09IDEpIHRoaXMuY29udHJvbGxlci5maXJzdFBhZ2UoKTtcbiAgICBlbHNlIHRoaXMuY29udHJvbGxlci5taWRkbGVQYWdlKCk7XG4gICAgbGV0IHRyYW5zbGF0ZWRoZWFkZXIgPSAnJztcblxuICAgIGxldCBzcGxpdHRlZCA9IHRlc3REU0wuc3BsaXQoJ1xcbicpO1xuICAgIC8vZ28gZnJvbSBjdXJzb3IgdG8gdGhlIGZpcnN0IFwic2NyZWVuXCIgd2hpY2ggd2lsbCBiZSBzdGFydCBvZiBpbnRlcnByZXRhdGlvblxuICAgIHdoaWxlICgoLypwYXJzZXIqL3RoaXMuY3VycmVudEN1cnNvciA8IHNwbGl0dGVkLmxlbmd0aCkgJiYgKCFEc2wuaXNPYnJhem92a2Eoc3BsaXR0ZWRbLypwYXJzZXIqL3RoaXMuY3VycmVudEN1cnNvcl0pKSkgLypwYXJzZXIqL3RoaXMuY3VycmVudEN1cnNvcisrO1xuXG4gICAgLy90cmFuc2xhdGUgb2JyYXpvdmthIHJvd1xuICAgIGlmICgvKnBhcnNlciovdGhpcy5jdXJyZW50Q3Vyc29yIDwgc3BsaXR0ZWQubGVuZ3RoKSB7XG4gICAgICB0cmFuc2xhdGVkaGVhZGVyICs9IC8qcGFyc2VyKi90aGlzLnRyYW5zbGF0ZU9icmF6b3ZrYShzcGxpdHRlZFsvKnBhcnNlciovdGhpcy5jdXJyZW50Q3Vyc29yXSk7XG4gICAgICAvKnBhcnNlciovdGhpcy5jdXJyZW50Q3Vyc29yKys7XG4gICAgfVxuXG4gICAgLy9pbnRlcnByZXQgZXZlcnl0aGluZyB1bnRpbCBuZXh0ICdvYnJhem92a2Egb3IgZW5kJ1xuICAgIHdoaWxlICgoLypwYXJzZXIqL3RoaXMuY3VycmVudEN1cnNvciA8IHNwbGl0dGVkLmxlbmd0aCkgJiYgKCFEc2wuaXNPYnJhem92a2Eoc3BsaXR0ZWRbLypwYXJzZXIqL3RoaXMuY3VycmVudEN1cnNvcl0pKSkge1xuICAgICAgdHJhbnNsYXRlZGhlYWRlciArPSAvKnBhcnNlciovdGhpcy50cmFuc2xhdGVUZXN0SXRlbXMoc3BsaXR0ZWRbLypwYXJzZXIqL3RoaXMuY3VycmVudEN1cnNvcl0pO1xuICAgICAgLypwYXJzZXIqL3RoaXMuY3VycmVudEN1cnNvcisrO1xuICAgIH1cbiAgICAvL2NvbnNvbGUubG9nKFwidHJhbnNsYXRlZCAwOlwiICsgdHJhbnNsYXRlZGhlYWRlcik7XG4gICAgdHJhbnNsYXRlZGhlYWRlciArPSAvKnBhcnNlciovdGhpcy5jbG9zZU90YXprYSgpOyAvL2Nsb3NlIG9wZW4gcXVlc3Rpb25zIHdpdGhvdXQgdmFsdWVzXG4gICAgdHJhbnNsYXRlZGhlYWRlciArPSAvKnBhcnNlciovdGhpcy5jbG9zZVNsb3VwY2UoKTtcblxuICAgIHRyYW5zbGF0ZWRoZWFkZXIgKz0gLypwYXJzZXIqL3RoaXMuc3RpbXVsLmNsb3NlUXVlc3Rpb25EaXYoKTtcbiAgICB0cmFuc2xhdGVkaGVhZGVyICs9IC8qcGFyc2VyKi90aGlzLmZvb3RlclBhZ2VOdW1iZXIoKTtcbiAgICBjb25zb2xlLmxvZyhcInRyYW5zbGF0ZWQgaGVhZGVyOlwiLCB0cmFuc2xhdGVkaGVhZGVyKTtcbiAgICByZXR1cm4gdHJhbnNsYXRlZGhlYWRlcjtcbiAgfVxuXG4gIHRyYXZlcnNldGVzdChkZWZpbml0aW9uLCBjYWxsYmFjaywgZXJyb3JjYWxsYmFjaykge1xuICAgIC8qcGFyc2VyKi90aGlzLmluaXRUZXN0KGRlZmluaXRpb24pO1xuICAgIHdoaWxlICgvKnBhcnNlciovdGhpcy5jdXJyZW50UGFnZSA8IC8qcGFyc2VyKi90aGlzLm1heFBhZ2VzKSB0aGlzLm5leHRwYWdlKCk7XG4gICAgLy9ldmFsdWF0ZVNjcmlwdHMoKTsgLy90aGVyZSBhcmUgbm8gc2NyaXB0cywgb25seSBpbm5lcmh0bWxcbiAgICB0aGlzLnBvc3RBbnN3ZXJzKGNhbGxiYWNrLCBlcnJvcmNhbGxiYWNrKTtcbiAgfVxuXG4gIC8vVE9ETyBjaGVjayBpZiBuZWVkZWQgLSByZW1vdmVcbiAgY2xlYXJ0ZXN0KCkge1xuICAgIHRoaXMuY29udHJvbGxlci5wcmV2aWV3LmlubmVySFRNTCA9ICcnO1xuICAgIHRoaXMuc2hvd0J1dHRvbnNTdGFydCgpO1xuICB9XG5cbiAgLy9UT0RPIGNoZWNrIGlmIG5lZWRlZCAtIHJlbW92ZVxuICBwcmV2aW91c3Rlc3RpdGVtKCkge1xuICAgIC8qcGFyc2VyKi90aGlzLmZpbmRQcmV2aW91c09icmF6b3ZrYSgvKnBhcnNlciovdGhpcy5jdXJyZW50VGVzdCk7XG4gICAgdGhpcy5jb250cm9sbGVyLnByZXZpZXcuaW5uZXJIVE1MID0gdGhpcy5uZXh0cGFnZSgpO1xuICAgIHRoaXMuZXZhbHVhdGVTY3JpcHRzKCk7XG4gIH1cblxuICAvL1RPRE8gdmlvbGF0aW9uIG9mIHNlcGFyYXRpb24sIG1peGVkIHBhcnNlci1pbnRlcnByZXRlciBhbmQgY29udGVudFxuICBjaGVja0Fuc3dlcnNJblNjcmVlbigpIHtcbiAgICBsZXQgZm91bmROQSA9IGZhbHNlO1xuICAgIGxldCBpdGVtO1xuICAgIGlmICgvKnBhcnNlciovdGhpcy5yZXN1bHQuYW5zd2Vyc1svKnBhcnNlciovdGhpcy5jdXJyZW50UGFnZSAtIDFdKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8LypwYXJzZXIqL3RoaXMucmVzdWx0LmFuc3dlcnNbLypwYXJzZXIqL3RoaXMuY3VycmVudFBhZ2UgLSAxXS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoLypwYXJzZXIqL3RoaXMucmVzdWx0LmFuc3dlcnNbLypwYXJzZXIqL3RoaXMuY3VycmVudFBhZ2UgLSAxXVtpXSAmJiAvKnBhcnNlciovdGhpcy5yZXN1bHQuYW5zd2Vyc1svKnBhcnNlciovdGhpcy5jdXJyZW50UGFnZSAtIDFdW2ldLmFuc3dlcikge1xuICAgICAgICAgIGlmICgvKnBhcnNlciovdGhpcy5yZXN1bHQuYW5zd2Vyc1svKnBhcnNlciovdGhpcy5jdXJyZW50UGFnZSAtIDFdW2ldLmFuc3dlciA9PT0gJ04vQScpIHtcbiAgICAgICAgICAvL2hpZ2hsaWdodCAtIC8qcGFyc2VyKi90aGlzLnJlc3VsdFxuXG4gICAgICAgICAgICBpdGVtID0gJCgnI3EnICsgLypwYXJzZXIqL3RoaXMuY3VycmVudFBhZ2UgKyAnXFxcXC4nICsgKGkgKyAxKSArICc+ZmllbGRzZXQnKTsvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxJyArIC8qcGFyc2VyKi90aGlzLmN1cnJlbnRQYWdlICsgJy4nICsgKGkgKyAxKSk7XG4gICAgICAgICAgICBpZiAoIWl0ZW0ubGVuZ3RoKSBpdGVtID0gJCgnI3EnICsgLypwYXJzZXIqL3RoaXMuY3VycmVudFBhZ2UgKyAnXFxcXC4nICsgKGkgKyAxKSk7XG4gICAgICAgICAgICAvL2lmIChpdGVtLmxlbmd0aClcbiAgICAgICAgICAgIGl0ZW0uY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJyNmZmRkZGQnKTtcbiAgICAgICAgICAgIGZvdW5kTkEgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVtID0gJCgnI3EnICsgLypwYXJzZXIqL3RoaXMuY3VycmVudFBhZ2UgKyAnXFxcXC4nICsgKGkgKyAxKSArICc+ZmllbGRzZXQnKTsvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxJyArIC8qcGFyc2VyKi90aGlzLmN1cnJlbnRQYWdlICsgJy4nICsgKGkgKyAxKSk7XG4gICAgICAgICAgICBpZiAoIWl0ZW0ubGVuZ3RoKSBpdGVtID0gJCgnI3EnICsgLypwYXJzZXIqL3RoaXMuY3VycmVudFBhZ2UgKyAnXFxcXC4nICsgKGkgKyAxKSk7XG4gICAgICAgICAgICBpZiAoaXRlbS5sZW5ndGgpIGl0ZW0uY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJyNmZmZmZmYnKTtcbiAgICAgICAgICAvL2lmIChpdGVtKSBpdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2ZmZmZmZlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZm91bmROQTtcbiAgfVxuXG5cbiAgLyogcmV0dXJucyB0cnVlIGlmIGFsbCBxdWVzdGlvbnMgYXJlIGFuc3dlcmVkLCBmYWxzZSBpZiBhdCBsZWFzdCBvbmUgYW5zd2VyIGlzIG5vdCovXG4gIGNoZWNrQW5zd2VycygpIHtcbiAgICAvL2ZvciBlYWNoIGFuc3dlcnNbcGFnZW51bS0xXSBhbnN3ZXIhPSBOL0FcbiAgICAvL3ZhciBmb3VuZE5BID0gZmFsc2U7XG4gICAgbGV0IGRvbnRjaGVja2Fuc3dlcnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZG9udGNoZWNrYW5zd2VycycpO1xuICAgIGlmIChkb250Y2hlY2thbnN3ZXJzICYmIGRvbnRjaGVja2Fuc3dlcnMucHJvcCgnY2hlY2tlZCcpKSByZXR1cm4gdHJ1ZTsgLy9kb24ndCBjaGVjayBpbiBlZGl0b3IgbW9kZVxuICAgIGxldCBmb3VuZE5BID0gdGhpcy5jaGVja0Fuc3dlcnNJblNjcmVlbigpO1xuICAgIHJldHVybiAhZm91bmROQTtcbiAgfVxuXG4gIGhpZ2hsaWdodE5vbkFuc3dlcmVkKCkge1xuICAgIGxldCBpdGVtID0gJCgnI25vdGlmaWNhdGlvbicpO1xuICAgIGl0ZW0uY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJyNmZGQnKTtcbiAgICBpdGVtLmh0bWwoJyBQcm8gcG9rcmHEjW92w6Fuw60sIHByb3PDrW0sIHZ5cGzFiHRlIHZ5em5hxI1lbsOpIG90w6F6a3khJyk7XG4gIH1cblxuICBoaWRlTm9uQW5zd2VyZWQoKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vdGlmaWNhdGlvbicpLmlubmVySFRNTCA9ICcnO1xuICB9XG5cbiAgbmV4dHRlc3RpdGVtKCkge1xuICAgIGlmICh0aGlzLmNoZWNrQW5zd2VycygpKSB7IC8vY2hlY2sgd2hldGhlciBhbGwgbWFuZGF0b3J5IHF1ZXN0aW9ucyBhcmUgYW5zd2VyZWQgLSBzZXQgdG8gbm9uLWRlZmF1bHQgdmFsdWVcbiAgICAgIGlmICh0aGlzLmhpZ2hsaWdodEVkdWNhdGlvbigpKSB7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci5wcmV2aWV3LmlubmVySFRNTCA9IHRoaXMubmV4dHBhZ2UoKTtcbiAgICAgICAgLypwYXJzZXIqL3RoaXMuaGlnaGxpZ2h0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ldmFsdWF0ZVNjcmlwdHMoKTtcbiAgICAgICAgdGhpcy5oaWRlTm9uQW5zd2VyZWQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vbm90IGhpZ2hsaWdodGVkXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0Tm9uQW5zd2VyZWQoKTtcbiAgICB9XG4gIH1cblxuICBoaWdobGlnaHRFZHVjYXRpb24oKSB7XG4gICAgbGV0IGF0bGVhc3RvbmVlZHVhbnN3ZXIgPSBmYWxzZTtcbiAgICBpZiAoLypwYXJzZXIqL3RoaXMuZWR1Y2F0aW9uYWwpIHtcbiAgICAgIGlmICghIC8qcGFyc2VyKi90aGlzLnJlc3VsdC5hbnN3ZXJzWy8qcGFyc2VyKi90aGlzLmN1cnJlbnRQYWdlIC0gMV0pIHJldHVybiB0cnVlO1xuICAgICAgaWYgKC8qcGFyc2VyKi90aGlzLmhpZ2hsaWdodGVkKSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3RpZmljYXRpb24nKS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICAvKnBhcnNlciovdGhpcy5oaWdobGlnaHRlZCA9IHRydWU7XG4gICAgICBpZiAoLypwYXJzZXIqL3RoaXMucmVzdWx0LmFuc3dlcnNbLypwYXJzZXIqL3RoaXMuY3VycmVudFBhZ2UgLSAxXSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IC8qcGFyc2VyKi90aGlzLnJlc3VsdC5hbnN3ZXJzWy8qcGFyc2VyKi90aGlzLmN1cnJlbnRQYWdlIC0gMV0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoLypwYXJzZXIqL3RoaXMucmVzdWx0LmFuc3dlcnNbLypwYXJzZXIqL3RoaXMuY3VycmVudFBhZ2UgLSAxXVtpXSAmJiAoJ2Fuc3dlcicgaW4gLypwYXJzZXIqL3RoaXMucmVzdWx0LmFuc3dlcnNbLypwYXJzZXIqL3RoaXMuY3VycmVudFBhZ2UgLSAxXVtpXSkpIHsvL2ZpeCBidWcgMjY4XG4gICAgICAgICAgICB2YXIgaXRlbSA9ICQoJyNxJyArIC8qcGFyc2VyKi90aGlzLmN1cnJlbnRQYWdlICsgJ1xcXFwuJyArIChpICsgMSkpOyAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdxJyArIGN1cnJlbnRQYWdlICsgJy4nICsgKGkgKyAxKSk7XG4gICAgICAgICAgICAvL2Rpc2FibGUgZWRpdGluZyB0aGUgc3ViZWxlbWVudCB3aXRoaW4gdGhpcyBmb3JtXG4gICAgICAgICAgICBpdGVtLmZpbmQoJ2lucHV0JykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgICAgIGl0ZW0uZmluZCgnb3B0aW9uJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgICAgIGl0ZW0uZmluZCgnLnVpLXNsaWRlcicpLmxhYmVsZWRzbGlkZXIoJ2Rpc2FibGUnKTtcblxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIiNxXCIgKyBjdXJyZW50UGFnZSArIFwiXFxcXC5cIiArIChpICsgMSkpO1xuICAgICAgICAgICAgLy9pZiAoaXRlbSkgaXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNlZWZmZWVcIjtcbiAgICAgICAgICAgIGxldCBhcXVlc3Rpb24gPSAvKnBhcnNlciovdGhpcy5yZXN1bHQuYW5zd2Vyc1svKnBhcnNlciovdGhpcy5jdXJyZW50UGFnZSAtIDFdW2ldLnF1ZXN0aW9uLnRyaW0oKTtcbiAgICAgICAgICAgIGxldCBhY2FzZSA9IC8qcGFyc2VyKi90aGlzLnJlc3VsdC5hbnN3ZXJzWy8qcGFyc2VyKi90aGlzLmN1cnJlbnRQYWdlIC0gMV1baV0uY2FzZTtcbiAgICAgICAgICAgIGxldCBhbnN3ZXIgPSAvKnBhcnNlciovdGhpcy5yZXN1bHQuYW5zd2Vyc1svKnBhcnNlciovdGhpcy5jdXJyZW50UGFnZSAtIDFdW2ldLmFuc3dlcjtcbiAgICAgICAgICAgIC8vdmFyIG15ZWR1YW5zd2VyO1xuICAgICAgICAgICAgaWYgKC8qcGFyc2VyKi90aGlzLmVkdXJlc3VsdHNbYWNhc2VdKSB7XG4gICAgICAgICAgICAgIGxldCBteWVkdWFuc3dlciA9IC8qcGFyc2VyKi90aGlzLmVkdXJlc3VsdHNbYWNhc2VdLmFuc3dlclthcXVlc3Rpb25dO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZWR1YW5zd2VyJyk7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKC8qcGFyc2VyKi90aGlzLmVkdXJlc3VsdHNbYWNhc2VdKTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCInXCIgKyBhcXVlc3Rpb24gKyBcIidcIik7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKE9iamVjdC5rZXlzKC8qcGFyc2VyKi90aGlzLmVkdXJlc3VsdHNbYWNhc2VdLmFuc3dlcikpO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhteWVkdWFuc3dlcik7XG4gICAgICAgICAgICAgIGlmIChteWVkdWFuc3dlcikge1xuICAgICAgICAgICAgICAgIGF0bGVhc3RvbmVlZHVhbnN3ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vY3JlYXRpbmcgdG9vbHRpcCBkaXZcbiAgICAgICAgICAgICAgICAkKFwiPGRpdiBjbGFzcz0ndG9vbHRpcENvbnRlbnQnPlwiICsgLypwYXJzZXIqL3RoaXMuZWR1cmVzdWx0c1thY2FzZV0ubm90ZVthcXVlc3Rpb25dICsgJzwvZGl2PicpLmFwcGVuZFRvKGl0ZW0pO1xuICAgICAgICAgICAgICAgIC8vYWRkaW5nIHRvb2x0aXAgY2xhc3MgdG8gdGhlIGZvcm1cbiAgICAgICAgICAgICAgICBpdGVtLmFkZENsYXNzKCd0b29sdGlwJyk7XG4gICAgICAgICAgICAgICAgLy9wcm9jZXNzIGFsbCBlZHVhbnN3ZXJzO1xuICAgICAgICAgICAgICAgIGxldCBlZHVhbnN3ZXJtdWx0aSA9IG15ZWR1YW5zd2VyLnNwbGl0KCc7Jyk7IC8vc2hvdyBtdWx0aXBsZSB2YWx1ZXMgZGVsaW1pdGVkIGJ5IDtcbiAgICAgICAgICAgICAgICBlZHVhbnN3ZXJtdWx0aS5mb3JFYWNoKGZ1bmN0aW9uKGVkdWFuc3dlcikge1xuICAgICAgICAgICAgICAgICAgbGV0IGhpdGVtID0gaXRlbS5maW5kKFwiW3ZhbHVlfD0nXCIgKyBlZHVhbnN3ZXIgKyBcIiddXCIpOyAvL3NlbGVjdHMgPGlucHV0PlxuICAgICAgICAgICAgICAgICAgaWYgKGhpdGVtLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5leHRoaXRlbSA9IGhpdGVtLm5leHQoKTsgLy9zZWxlY3RzIHJlbGF0ZWQgPGxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiaXRlbTpcIiArIGl0ZW0ucHJvcCgnbm9kZU5hbWUnKSArIFwiIGhpdGVtOlwiICsgaGl0ZW0ucHJvcCgnbm9kZU5hbWUnKSArIFwiIG5leHRoaXRlbTpcIiArIG5leHRoaXRlbS5wcm9wKCdub2RlTmFtZScpKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dGhpdGVtLmlzKCdsYWJlbCcpKSB7bmV4dGhpdGVtLmF0dHIoJ3N0eWxlJywgJ2JhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JlZW4nKTt9IGVsc2UgaWYgKGhpdGVtLmlzKCdvcHRpb24nKSkge2hpdGVtLmF0dHIoJ3N0eWxlJywgJ2JhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JlZW47Ym9yZGVyOnNvbGlkIDJweCBncmVlbicpO31cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHNob3cgaW4gc2xpZGVyIGhhbmRsZVxuICAgICAgICAgICAgICAgICAgICBoaXRlbSA9IGl0ZW0uZmluZCgnLnVpLXNsaWRlcicpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGl0ZW0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vdmFyIGlkaGl0ZW0gPSBoaXRlbS5wcm9wKFwiaWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnR2YWx1ZSA9IGhpdGVtLmxhYmVsZWRzbGlkZXIoJ3ZhbHVlJyk7IC8va2VlcCBjdXJyZW50IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgbGV0IHNsaWRlcmlkID0gaGl0ZW0ucHJvcCgnaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgc2xpZGVybnVtID0gcGFyc2VJbnQoSW50ZXJwcmV0ZXIuZXh0cmFjdChzbGlkZXJpZCwgJ3NsaWRlcicpLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgICAgbGV0IGVkdWFuc3dlcmludCA9IHBhcnNlSW50KGVkdWFuc3dlciwgMTApO1xuICAgICAgICAgICAgICAgICAgICAgIGxldCBlZHVhbnN3ZXJpbmRleCA9IC8qcGFyc2VyKi90aGlzLnNsaWRlclZhbHVlc1tzbGlkZXJudW1dLmluZGV4T2YoZWR1YW5zd2VyaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAvL21vdmVzIHNsaWRlciBoYW5kbGUgdG8gZWR1Y2F0aW9uYWwgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoZWR1YW5zd2VyaW5kZXggPiAtMSkgLy9tb3ZlIHRvIGVkdSB2YWx1ZSBmcm9tIHNlcXVlbmNlXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInNsaWRlcnZhbHVlOlwiICsgc2xpZGVyVmFsdWVzW3NsaWRlcm51bV1bZWR1YW5zd2VyaW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdGVtLmxhYmVsZWRzbGlkZXIoJ3ZhbHVlJywgLypwYXJzZXIqL3RoaXMuc2xpZGVyVmFsdWVzW3NsaWRlcm51bV1bZWR1YW5zd2VyaW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgLy9tb3ZlIHRvIGVkdSB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJub3JtYWwgdmFsdWU6XCIgKyBlZHVhbnN3ZXJpbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGl0ZW0ubGFiZWxlZHNsaWRlcigndmFsdWUnLCBlZHVhbnN3ZXJpbnQpOyAvL21vdmUgdG8gZWR1IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIC8vdmFyIGhhbmRsZSA9IGl0ZW0uZmluZChcIi51aS1zbGlkZXItaGFuZGxlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgIGxldCBvbGRoYW5kbGUgPSBoaXRlbS5maW5kKCcudWktc2xpZGVyLWhhbmRsZScpO1xuICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdoYW5kbGUgPSBoaXRlbS5maW5kKCcudWktc2xpZGVyLWhhbmRsZScpLmNsb25lKCk7IC8vLmFwcGVuZFRvKGhpdGVtKTsgLy9jbG9uZSB0aGUgaGFuZGxlXG4gICAgICAgICAgICAgICAgICAgICAgLy9zbGlkZXIgYWxyZWFkeSBoYXMgc29tZSBzdHlsZSAtIHBvc2l0aW9uLCB3aGloYyBtdXN0IGJlIHByZXNlcnZlZFxuICAgICAgICAgICAgICAgICAgICAgIGhpdGVtLmxhYmVsZWRzbGlkZXIoJ3ZhbHVlJywgY3VycmVudHZhbHVlKTsgLy9yZXR1cm4gdG8gY3VycmVudCB2YWx1ZSAtIHRoZSBjbG9uZSB3aWxsIHJlbWFpbiBvbiB0aGUgZWR1IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgbGV0IG9sZHN0eWxlID0gb2xkaGFuZGxlLmF0dHIoJ3N0eWxlJykgKyAnYm9yZGVyOnNvbGlkIDJweCBibHVlOyc7XG4gICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld3N0eWxlID0gbmV3aGFuZGxlLmF0dHIoJ3N0eWxlJykgKyAnYmFja2dyb3VuZDpsaWdodGdyZWVuOyc7XG4gICAgICAgICAgICAgICAgICAgICAgbmV3aGFuZGxlLmF0dHIoJ3N0eWxlJywgbmV3c3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICAgIG9sZGhhbmRsZS5hdHRyKCdzdHlsZScsIG9sZHN0eWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICBoaXRlbS5sYWJlbGVkc2xpZGVyKCdkaXNhYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgbmV3aGFuZGxlLmFwcGVuZFRvKGhpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAvL2hpdGVtLmZpbmQoXCIudWktc2xpZGVyLWhhbmRsZVwiKS5sYXN0KCkuYXR0cihcInN0eWxlXCIsIFwiYmFja2dyb3VuZDpncmVlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAvL3NlbGVjdFxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvL2FsbGFuc3dlcnMgaGlnaGxpZ2h0ZWQsIGVuYWJsZSB0b29sdGlwXG4gICAgICAgICQoJy50b29sdGlwJykuaG92ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbGV0IHRvb2x0aXAgPSAkKCc+IGRpdicsIHRoaXMpLnNob3coKTtcbiAgICAgICAgICBsZXQgcG9zID0gdG9vbHRpcC5vZmZzZXQoKTtcbiAgICAgICAgICB0b29sdGlwLmhpZGUoKTtcbiAgICAgICAgICBsZXQgcmlnaHQgPSBwb3MubGVmdCArIHRvb2x0aXAud2lkdGgoKTtcbiAgICAgICAgICBsZXQgcGFnZVdpZHRoID0gJChkb2N1bWVudCkud2lkdGgoKTtcbiAgICAgICAgICBpZiAocG9zLmxlZnQgPCAwKSB7XG4gICAgICAgICAgICB0b29sdGlwLmNzcygnbWFyZ2luTGVmdCcsICcrPScgKyAoLXBvcy5sZWZ0KSArICdweCcpO1xuICAgICAgICAgIH0gZWxzZSBpZiAocmlnaHQgPiBwYWdlV2lkdGgpIHtcbiAgICAgICAgICAgIHRvb2x0aXAuY3NzKCdtYXJnaW5MZWZ0JywgJy09JyArIChyaWdodCAtIHBhZ2VXaWR0aCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b29sdGlwLmZhZGVJbigpO1xuICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkKCc+IGRpdicsIHRoaXMpLmZhZGVPdXQoZnVuY3Rpb24oKSB7ICQodGhpcykuY3NzKCdtYXJnaW5MZWZ0JywgJycpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoYXRsZWFzdG9uZWVkdWFuc3dlcikge1xuICAgICAgICBsZXQgaXRlbTIgPSAkKCcjbm90aWZpY2F0aW9uJyk7XG4gICAgICAgIGl0ZW0yLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICdsaWdodGdyZWVuJyk7XG4gICAgICAgIGl0ZW0yLmh0bWwoJ1Z5em5hxI1lbnkganNvdSBwcsWvbcSbcm7DqSwgbmVqdsOtY2Ugdnliw61yYW7DqSBob2Rub3R5IG5hIHV2ZWRlbsOpIG90w6F6a3kuJyk7XG4gICAgICB9IGVsc2UgLypwYXJzZXIqL3RoaXMuaGlnaGxpZ2h0ZWQgPSBmYWxzZTtcbiAgICAgIHJldHVybiAoIWF0bGVhc3RvbmVlZHVhbnN3ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG5cbiAgLy9UT0RPIGFkZCBQc3ljaG9UZXN0UGF1c2VVcmwsIGNvbnN0cnVjdCBwYXVzZWR0ZXN0cmVzdWx0LCBpbXBsZW1lbnQgcmVzdW1ldGVzdCgpLCBhZGQgYSBzZWxlY3QgYm94IHdpdGggdGVzdHMgdG8gcmVzdW1lIGludG8gSFRNTCwgYWZ0ZXIgc2VsZWN0aW9uIGxvYWQgcmF3IHRlc3QsIGxvYWQgcmVzdWx0cyBhbmQgZ28gaW50byB0aGUgbGFzdCBzY3JlZW4sXG4gIHBhdXNldGVzdCgpIHtcbiAgICBpZiAoIWNvbmZpcm0oJ0RvIHlvdSB3YW50IHRvIHBvc3Rwb25lIHRoZSB0ZXN0IGV4ZWN1dGlvbj8gUG9zdHBvbmVkIHRlc3QgY2FuIGJlIHJlc3VtZWQgbGF0ZXIgZnJvbSB0aGUgY3VycmVudCBzY3JlZW4uJykpIHJldHVybjtcbiAgICAvL3N0b3JlIHJlc3VsdHMsIHJhdyB0ZXN0IGFuZCBzY3JlZW4gbnVtYmVyIGludG8gc2VydmVyXG4gICAgbGV0IHBhdXNlZHRlc3RSZXN1bHQgPSB7fTtcbiAgICBwYXVzZWR0ZXN0UmVzdWx0LnRlc3RuYW1lID0gLypwYXJzZXIqL3RoaXMudGVzdE5hbWU7Ly97IGdldDsgc2V0OyB9XG4gICAgcGF1c2VkdGVzdFJlc3VsdC5zY3JlZW5udW1iZXIgPSAvKnBhcnNlciovdGhpcy5jdXJyZW50UGFnZTsvL3sgZ2V0OyBzZXQ7IH1cbiAgICBwYXVzZWR0ZXN0UmVzdWx0LnJhd3Rlc3RkZWZpbml0aW9uID0gLypwYXJzZXIqL3RoaXMuY3VycmVudFRlc3Q7Ly97IGdldDsgc2V0OyB9XG5cbiAgICAvL3BhdXNlZHRlc3RSZXN1bHQubG9naW5uYW1lID0gcHJvbXB0KFwiRW50ZXIgeW91ciB1bmlxdWUgSUQsIGUuZy4gZW1haWwgYWRkcmVzc1wiKTtcbiAgICBwYXVzZWR0ZXN0UmVzdWx0LnRlbXBvcmFscmVzdWx0cyA9IEpTT04uc3RyaW5naWZ5KC8qcGFyc2VyKi90aGlzLnJlc3VsdC5hbnN3ZXJzKTtcbiAgICBsZXQgTUVUSE9EID0gJ1BVVCc7XG4gICAgaWYgKC8qcGFyc2VyKi90aGlzLnJlc3VtZWlkID4gMCkge3BhdXNlZHRlc3RSZXN1bHQuaWQgPSAvKnBhcnNlciovdGhpcy5yZXN1bWVpZDsgTUVUSE9EID0gJ1BPU1QnO31cbiAgICAkLmFqYXgoe1xuICAgICAgdHlwZTogTUVUSE9ELFxuICAgICAgdXJsOiBQc3ljaG9UZXN0UGF1c2VVcmwsXG4gICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHBhdXNlZHRlc3RSZXN1bHQpLFxuICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxuICAgICAgc3VjY2VzczogdGhpcy5wYXVzZXRlc3RjYWxsYmFjayxcbiAgICAgIGVycm9yOiB0aGlzLnBvc3RBbnN3ZXJFcnJvckNhbGxiYWNrXG4gICAgfSk7XG4gICAgLy9jb25zb2xlLmxvZyhcIlRPRE8sIG5vdCB5ZXQgaW1wbGVtZW50ZWQgcGF1c2V0ZXN0KClcIik7XG4gIH1cblxuICBwYXVzZXRlc3RjYWxsYmFjayhkYXRhKSB7XG4gICAgY29uc29sZS5sb2coJ3NhdmVkIHBhdXNlZCB0ZXN0LiBSZXNwb25zZTonKTtcbiAgICAvL2NvbnNvbGUubG9nKGRhdGEpXG4gICAgcGF1c2VkdGVzdGlkID0gZGF0YS5pZDtcbiAgICB0aGlzLmZvY3VzUGF1c2VkKCk7IC8vY2FsbGluZyBiYWNrIHRvIGZvY3VzIHRoZSBwYXVzZWQgVGFiXG4gIH1cblxuICBldmFsdWF0ZVNjcmlwdHMoKSB7XG4gICAgLy9ldmFsdWF0ZSBncmFwaHNcbiAgICBsZXQgY29kZXMgPSB0aGlzLmNvbnRyb2xsZXIucHJldmlldy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0Jyk7XG4gICAgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJldmlldycpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcbiAgICAvL2NvbnNvbGUubG9nKFwiY29kZXNcIitjb2Rlcyk7XG4gICAgLy9jb25zb2xlLmxvZyhjb2Rlcyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgZXZhbChjb2Rlc1tpXS50ZXh0KTtcbiAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQTZlQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBN2VBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5DQTtBQXFDQTtBQUNBO0FBQ0E7QUF2Q0E7QUF5Q0E7QUFDQTtBQUNBO0FBM0NBO0FBQ0E7QUFEQTtBQTZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5EQTtBQXFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUExREE7QUFDQTtBQURBO0FBNkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbkVBO0FBcUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF6RUE7QUEyRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7OztBQXZGQTtBQUNBO0FBREE7QUEyRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7OztBQXBHQTtBQUNBO0FBREE7QUF3R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFHQTs7OztBQXBIQTtBQUNBO0FBREE7QUEwSEE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBNUhBO0FBOEhBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUF6SUE7QUEySUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxLQTtBQW9LQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBaE1BO0FBa01BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUExTUE7QUE0TUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTs7OztBQXJOQTtBQUNBO0FBREE7QUF5TkE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7Ozs7QUF0UEE7QUFDQTtBQURBO0FBNFBBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTs7Ozs7O0FBS0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQS9SQTtBQWtTQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUE5U0E7QUFpVEE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQWxVQTtBQUNBO0FBREE7QUFzVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTs7O0FBalZBO0FBQ0E7QUFEQTtBQXFWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUEzVkE7QUE2VkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFqV0E7QUFDQTtBQURBO0FBcVdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBOVdBO0FBZ1hBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBbllBO0FBc1lBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQS9ZQTtBQWlaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFuYUE7QUFDQTtBQURBO0FBc2FBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7OztBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFEQTtBQUlBOzs7OztBQURBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXRkQTtBQXdkQTtBQUNBO0FBemRBO0FBQ0E7QUFEQTtBQTZkQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7Ozs7O0FBemVBO0FBQ0E7QUFpZkE7QUFsZkE7QUFvZkE7OztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUF4Z0JBO0FBMGdCQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFsaUJBO0FBb2lCQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7OztBQTVpQkE7QUFDQTtBQURBO0FBaWpCQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBYkE7QUFlQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQXJrQkE7QUFza0JBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFkQTtBQWdCQTtBQUNBO0FBN2xCQTtBQStsQkE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUF6bUJBO0FBMm1CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQXJuQkE7QUF3bkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMXBCQTtBQTRwQkE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQWhxQkE7QUFDQTtBQURBO0FBb3FCQTtBQUNBO0FBQ0E7QUF0cUJBO0FBQ0E7QUFEQTtBQTBxQkE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUE3cUJBO0FBQ0E7QUFEQTtBQWlyQkE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUEzc0JBO0FBQ0E7QUFEQTtBQTZzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBcHRCQTtBQXN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTF0QkE7QUE0dEJBO0FBQ0E7QUFDQTtBQTl0QkE7QUFndUJBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBN3VCQTtBQSt1QkE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQTkxQkE7QUFDQTtBQURBO0FBbTJCQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVdBO0FBQ0E7QUExM0JBO0FBNDNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqNEJBO0FBbTRCQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTU0QkE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/interpreter.js\n");

/***/ }),

/***/ "./src/components/preprocesor.js":
/*!***************************************!*\
  !*** ./src/components/preprocesor.js ***!
  \***************************************/
/*! exports provided: Preprocesor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Preprocesor\", function() { return Preprocesor; });\n/* harmony import */ var _dsl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dsl */ \"./src/components/dsl.js\");\n //splice array into array\n\nArray.prototype.spliceArray = function (index, n, array) {\n  return Array.prototype.splice.apply(this, [index, n].concat(array));\n};\n\nvar Preprocesor =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Created by tomaton on 10/22/2015.\n   */\n  function Preprocesor(parent) {\n    this.currentCursor = 0;\n    this.state = TestState.UND; // getState(this.splitted, currentCursor++);\n\n    this.tstate = {};\n    this.myTest = '';\n    this.expandedTest = [];\n    this.expandedGroup = [];\n    this.replaceableStimuli = [];\n    this.tempTest = '';\n    this.parent = parent; //expects parser\n  } //console.log(this.splitted);\n\n\n  var _proto = Preprocesor.prototype;\n\n  _proto.getState = function getState() {\n    //console.log(\"getState() \"+currentCursor);\n    //console.log(this.splitted[currentCursor]);\n    if (this.currentCursor >= this.splitted.length) return TestState.END;\n    if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isParovy(this.splitted[this.currentCursor])) return TestState.PAR;\n    if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isKategorie(this.splitted[this.currentCursor])) return TestState.KAT;\n    if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isObrazovka(this.splitted[this.currentCursor])) return TestState.OBR;\n    if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isExtends(this.splitted[this.currentCursor])) return TestState.EXT;\n    if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isStimuliGroup(this.splitted[this.currentCursor])) return TestState.STIMGR; //        if (Dsl.isReplaceStimuli(this.splitted[this.currentCursor])) return TestState.REPSTIM;\n    //        if (Dsl.isReplaceGroup(this.splitted[this.currentCursor])) return TestState.REPGRP;\n\n    if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isRandomPairs(this.splitted[this.currentCursor])) {\n      this.tstate.randompairs = true;\n      return TestState.UND;\n    }\n\n    if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isPoradiVNtici(this.splitted[this.currentCursor])) {\n      this.tstate.poradivnticinahodne = true;\n      return TestState.UND;\n    }\n\n    if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isPoradiZvuku(this.splitted[this.currentCursor])) {\n      this.tstate.poradizvukunahodne = true;\n      return TestState.UND;\n    }\n\n    if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isPoradiCase(this.splitted[this.currentCursor])) {\n      this.tstate.poradicasenahodne = true;\n      return TestState.UND;\n    }\n\n    if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isType(this.splitted[this.currentCursor])) this.parent.translateType(this.splitted[this.currentCursor]); // feature #208, type in the beginning of test definition\n\n    return TestState.UND;\n  };\n\n  _proto.copyTest = function copyTest() {\n    this.currentCursor++;\n    this.myTest += this.splitted[this.currentCursor - 1] + '\\n'; //copy of row with obrazovka or test ...\n\n    while (this.getState() === TestState.UND) {\n      this.myTest += this.splitted[this.currentCursor++] + '\\n';\n    } //copy of rows\n\n  } //all after the cursor will be shuffled per screens\n  ;\n\n  _proto.shuffleTest = function shuffleTest() {\n    //readalltestToArray\n    var tempcursor = this.currentCursor++;\n    var testArray = [];\n\n    while (this.getState() !== TestState.END) {\n      this.tempTest = this.splitted[this.currentCursor - 1] + '\\n';\n\n      while (this.getState() === TestState.UND) {\n        this.tempTest += this.splitted[this.currentCursor++] + '\\n';\n      } //copy of rows\n\n\n      testArray.push(this.tempTest); //each item is a screen\n\n      this.currentCursor++;\n    } //shuffle screens\n\n\n    testArray.shuffle(); //expandArrayToText\n\n    this.currentCursor = tempcursor;\n    var testCase = [];\n\n    for (var i = 0; i < testArray.length; i++) {\n      testCase = testArray[i].split('\\n');\n\n      for (var j = 0; j < testCase.length; j++) {\n        this.splitted[this.currentCursor++] = testCase[j];\n      }\n    } //console.log(\"test after shuffle\", this.splitted);    //this.splitted[this.currentCursor]\n\n\n    this.currentCursor = tempcursor;\n  };\n\n  _proto.collectSounds = function collectSounds() {\n    var zvuks = [];\n\n    while (startsWithZvuk(this.splitted[this.currentCursor])) {\n      zvuks.push(this.splitted[this.currentCursor++]);\n    }\n\n    if (this.tstate.poradizvukunahodne) {\n      zvuks.shuffle(); //console.log(\"zvuks after random shuffling:\", zvuks);\n    }\n\n    return zvuks;\n  };\n\n  _proto.foreachSoundGenerateObrazovka = function foreachSoundGenerateObrazovka(zvuks, title) {\n    var obrazovkacontent = [];\n\n    while (this.getState() === TestState.UND) {\n      obrazovkacontent.push(this.splitted[this.currentCursor++]);\n    }\n\n    for (var i = 0; i < zvuks.length; i++) {\n      this.myTest += 'screen ' + Interpreter.extract('screen per 1') + '\\n' + zvuks[i] + '\\n';\n\n      for (var j = 0; j < obrazovkacontent.length; j++) {\n        this.myTest += obrazovkacontent[j] + '\\n';\n      }\n    }\n  };\n\n  _proto.expandKategorie = function expandKategorie() {\n    var title = this.splitted[this.currentCursor++]; //skip over the row defining the kategory test\n\n    while (startsWithComment(this.splitted[this.currentCursor])) {\n      //skip over comments - there might be some styling\n      title += '\\n' + this.splitted[this.currentCursor++];\n    }\n\n    var zvuks = this.collectSounds();\n    this.foreachSoundGenerateObrazovka(zvuks, title);\n  };\n\n  _proto.makePairs = function makePairs(zvuks) {\n    var combinations = []; //recursive generation of all possible pairs\n\n    var getpairs = function getpairs(active, rest) {\n      //console.log(\"iteration\");\n      //console.log(active);\n      //console.log(rest)\n      if (rest.length === 0) {\n        if (active.length === 2) {\n          combinations.push(active); //console.log(\"found:\");\n          //console.log(active);\n        }\n      } else {\n        var active1 = active.slice();\n        active.push(rest[0]);\n        getpairs(active, rest.slice(1));\n        getpairs(active1, rest.slice(1));\n      }\n    };\n\n    this.getpairs([], zvuks);\n    return combinations;\n  };\n\n  _proto.foreachPairofSoundsGenerateObrazovka = function foreachPairofSoundsGenerateObrazovka(pairs, title) {\n    var obrazovkacontent = [];\n\n    while (this.getState() === TestState.UND) {\n      obrazovkacontent.push(this.splitted[this.currentCursor++]);\n    }\n\n    for (var i = 0; i < pairs.length; i++) {\n      this.myTest += 'screen ' + Interpreter.extract('screen per 2') + '\\n' + 'column\\n' + pairs[i][0] + '\\n' + pairs[i][1] + '\\n';\n\n      for (var j = 0; j < obrazovkacontent.length; j++) {\n        this.myTest += obrazovkacontent[j] + '\\n';\n      }\n      /*myTest += \"sloupec\\n\" + pairs[i][1] + \"\\n\";\n       for (var j = 0; j < obrazovkacontent.length; j++) {\n       myTest += obrazovkacontent[j] + \"\\n\";\n       }*/\n\n    } //fix bug ranodm in tuple\n\n  };\n\n  _proto.expandParovy = function expandParovy() {\n    var title = this.splitted[this.currentCursor++]; //skip row defining par test\n\n    var zvuks = this.collectSounds();\n    var pairs = this.makePairs(zvuks);\n    if (this.tstate.poradicasenahodne || this.tstate.randompairs) pairs.shuffle();\n    if (pairs.length === 0) console.log('Expected more rows with stimulus to generate pairs, but no pairs generated.');\n    this.foreachPairofSoundsGenerateObrazovka(pairs, title);\n  } //expands inherited test - read definition into separated array.\n  ;\n\n  _proto.expandInheritance = function expandInheritance() {\n    var parentrow = this.splitted[this.currentCursor].split(/[ ;,]+/); //each inherited test is separated\n    //for (var i=indexofnames;i<parentrow.lengt h;i++){ //\n    //extends [0] test [1] withstimuli [2] a,b,c,d [3,4,5,6]\n\n    var parent = parentrow[1]; //gets from url test definition\n\n    var myurl = PsychoTest2Url + parent;\n    $.ajax({\n      dataType: 'json',\n      url: myurl,\n      data: null,\n      success: function success(testdto) {\n        if (parser.prep.expandedTest[parent]) console.log('expandInheritance, Warning: test definition already exists for ' + parent);\n        parser.prep.expandedTest[parent] = testdto[0].definition;\n      },\n      error: function error(jq, status, _error) {\n        console.log('expandInheritance, Error: When loading data for the test definition ' + myurl + ' ' + _error);\n      },\n      async: false\n    });\n\n    if (parentrow.length > 3) {\n      //extends with replacement of stimuli\n      if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isWithStimuli(parentrow[2])) {\n        var stimuli = parentrow.slice(3); //stimuli names without previous -- TODO parse with apostrophes\n        //this.replaceStimuli(parent,stimuli);//replace stimuli with new one from array\n        //inserts a extended test with replaced stimuli\n\n        this.splitted.spliceArray(this.currentCursor, 1, this.replaceStimuli(this.expandedTest[parent], stimuli));\n      } else if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isWithStimuligroup(parentrow[2])) {\n        var parent2 = parentrow[3];\n        myurl = PsychoTest2Url + parent2;\n        $.ajax({\n          dataType: 'json',\n          url: myurl,\n          data: null,\n          success: function success(testdto) {\n            if (parser.prep.expandedGroup[parent2]) console.log('expandGroup, Warning: test definition already loaded for ' + parent2);\n            parser.prep.expandedGroup[parent2] = testdto[0].definition;\n          },\n          error: function error(jq, status, _error2) {\n            console.log('expandGroup, Error: When loading data for the test definition ' + myurl + ' ' + _error2);\n          },\n          async: false\n        });\n\n        if (this.expandedTest[parent]) {\n          if (this.expandedGroup[parent2]) this.splitted.spliceArray(this.currentCursor, 1, this.replaceStimuliGroup(this.expandedTest[parent], this.expandedGroup[parent2]));else {\n            console.log('expandinheritance: Info, nothing to replace from group');\n            this.splitted.spliceArray(this.currentCursor, 1, this.expandedTest[parent]);\n          }\n        } else console.log('expandinheritance: Info, nothing to expand');\n      } else console.log('expandinheritance: Warning unrecognized extend attribute:' + parentrow[2]);\n    } else {\n      //extends without replacement\n      if (this.expandedTest[parent]) {\n        console.log('expandinheritance: Info, nothing to replace from group');\n        this.splitted.spliceArray(this.currentCursor, 1, this.splitExtendTestDefinition(this.expandedTest[parent]));\n      } else console.log('expandinheritance: Info, nothing to expand');\n    }\n\n    this.currentCursor++;\n  } //expands stimuligroup into the current test - reads all stimulus in a group into separate array\n  ;\n\n  _proto.expandStimuliGroup = function expandStimuliGroup() {\n    var parentrow = this.splitted[this.currentCursor].split(/[ ;,]+/); //each expanded group is split\n    //for (var i=indexofnames;i<parentrow.lengt h;i++){ //\n    //stimuligroup [0] [groupname] [1...]\n\n    var parent = parentrow[1]; //gets from url test definition\n\n    var myurl = PsychoTest2Url + parent; //TODO move ajax call to shared class\n\n    $.ajax({\n      dataType: 'json',\n      url: myurl,\n      data: null,\n      success: function success(testdto) {\n        if (this.expandedGroup[parent]) console.log('expandGroup, Warning: test definition already loaded for ' + parent);\n        this.expandedGroup[parent] = testdto[0].definition;\n      },\n      error: function error(jq, status, _error3) {\n        console.log('expandGroup, Error: When loading data for the test definition ' + myurl + ' ' + _error3);\n      },\n      async: false\n    });\n\n    if (this.expandedGroup[parent]) {\n      this.splitted.spliceArray(this.currentCursor, 1, this.splitStimuliDefinition(this.expandedGroup[parent]));\n    } else console.log('expandGroup: Info, nothing to expand from stimuligroup.'); //this.currentCursor++;\n\n  } //splits only stimulus from group definition into array\n  ;\n\n  _proto.splitExtendTestDefinition = function splitExtendTestDefinition(testdefinition) {\n    var rawtest = testdefinition.split('\\n'); //rawtest.shift(); //removes first row -- usually definition of test name\n\n    rawtest[0] = '# ' + rawtest[0]; //comments out the first row -- usually definition of test name\n\n    return rawtest;\n  } //splits only stimulus from group definition into array\n  ;\n\n  _proto.splitStimuliDefinition = function splitStimuliDefinition(groupdefinition) {\n    var rawstimuli = groupdefinition.split('\\n');\n    var stimuli = []; //    var newrows = [];\n\n    for (var i = 1; i < rawstimuli.length; i++) {\n      //step over first row\n      var mystimuli = rawstimuli[i].trim();\n\n      if (mystimuli.length > 0) {\n        stimuli.push('stimulus ' + rawstimuli[i]);\n      }\n    } //adds only rows with stimulus prefix\n\n\n    return stimuli;\n  } //replace each occurence of stimuli with a stimulus row from group definition,\n  // if some stimulus remains, it is inserted at the last position of stimulus in definition\n  ;\n\n  _proto.replaceStimuliGroup = function replaceStimuliGroup(definition, groupdefinition) {\n    var defrows = definition.split('\\n'); //splits per row\n\n    var stimuli = this.splitStimuliDefinition(groupdefinition);\n    var laststimulusindex = 0;\n\n    for (var i = 0; i < defrows.length; i++) {\n      //parse each row\n      if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isZvuk(defrows[i])) {\n        if (stimuli.length > 0) {\n          laststimulusindex = i;\n          defrows[i] = stimuli.shift();\n        } //stimulus keyword with new stimulus from array\n        else console.log('replaceStimuli: Warning not enough stimuli for replacement.');\n      }\n    }\n\n    if (stimuli.length > 0) {\n      console.log('replaceStimuli: Info adding remaining stimuli after last stimulus in extended test');\n      defrows.spliceArray(laststimulusindex, 0, stimuli);\n    }\n\n    return defrows;\n  } //replace each occurence of stimuli with a stimulus row from group definition,\n  // if some stimulus remains, it is inserted at the last position of stimulus in definition\n  ;\n\n  _proto.replaceStimuli = function replaceStimuli(definition, stimuli) {\n    var defrows = definition.split('\\n'); //splits per row\n\n    defrows[0] = '# ' + defrows[0]; //comment out first row of definition --usually testname\n    //    var newrows = [];\n\n    var laststimulusindex = 0;\n\n    for (var i = 0; i < stimuli.length; i++) {\n      stimuli[i] = 'stimulus ' + stimuli[i];\n    } //adds stimulus keyword as prefix\n\n\n    for (var _i = 0; _i < defrows.length; _i++) {\n      //parse each row\n      if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isZvuk(defrows[_i])) {\n        if (stimuli.length > 0) {\n          laststimulusindex = _i;\n          defrows[_i] = stimuli.shift();\n        } //stimulus keyword with new stimulus from array\n        else console.log('replaceStimuli: Warning not enough stimuli for replacement.');\n      }\n    }\n\n    if (stimuli.length > 0) {\n      console.log('replaceStimuli: Info adding remaining stimuli after last stimulus in extended test');\n      defrows.spliceArray(laststimulusindex + 1, 0, stimuli);\n    }\n\n    return defrows;\n  } //preprocessing\n  //copy everything before first state\n  //this.currentCursor++;\n  ;\n\n  _proto.preprocessTest = function preprocessTest(rawTest) {\n    this.currentCursor = 0;\n    this.splitted = rawTest.split('\\n'); //split to rows and parse rows\n\n    this.state = TestState.UND; // getState(this.splitted, currentCursor++);\n\n    this.tstate = {};\n    this.myTest = '';\n    this.tempTest = ''; //copy between test and first screen\n\n    this.copyTest();\n    if (this.tstate.poradicasenahodne) this.shuffleTest(); //console.log(\"cursor \" + this.currentCursor + \" row \" + this.splitted[this.currentCursor]);\n\n    this.state = this.getState();\n\n    while (this.state !== TestState.END) {\n      if (this.state === TestState.OBR) this.copyTest();else if (this.state === TestState.KAT) this.expandKategorie();else if (this.state === TestState.PAR) this.expandParovy();else if (this.state === TestState.EXT) this.expandInheritance();else if (this.state === TestState.STIMGR) this.expandStimuliGroup(); //        else if (this.state == TestState.REPSTIM) this.replaceStimuli();\n      //        else if (this.state == TestState.REPGRP) this.replaceStimuliGroup();\n      else {\n          //console.log(\"Parse error. \" + this.state + \". Not expected state. Line \" + this.currentCursor + \" row:\" + this.splitted[this.currentCursor++]);\n          this.myTest += this.splitted[this.currentCursor++] + '\\n'; //probably extension - copy test.\n        }\n      this.state = this.getState(); //if (this.currentCursor<this.splitted.length) console.log(\"cursor \" + this.currentCursor + \" row \" + this.splitted[this.currentCursor]);\n    } //return coppiedTest;\n\n\n    return this.myTest;\n  } //flatenize inheritance\n  //TODO continue with recursive - flatenize, remove statement from preprocess and add them to recursive call, or use ajax(async:false)\n  //flatenize -- collect artefacts\n  ;\n\n  _proto.flatenizeTest = function flatenizeTest(rawTest) {\n    this.splitted = rawTest.split('\\n');\n    var i = 0;\n    var j = 0;\n    var artefacts = [];\n\n    for (i = 0; i < this.splitted.length; i++) {\n      if (_dsl__WEBPACK_IMPORTED_MODULE_0__[\"Dsl\"].isExtends(this.splitted[i]) || isStimuliGroup(this.splitted[i])) {\n        var parentrow = this.splitted[i].split(/[ ;,]+/);\n\n        for (j = 1; j < parentrow.length; j++) {\n          artefacts.push(parentrow[j]); //add artefact names that will be recursively obtained from server\n        }\n      }\n    }\n  };\n\n  _proto.loadTestDefinition = function loadTestDefinition(row) {\n    var parentrow = this.splitted[this.currentCursor++].split(' ');\n\n    for (var i = 1; i < parentrow.length; i++) {\n      var parent = parentrow[i];\n      this.myTest += this.getTestDefinition(parent); //gets test definition by name, skip first row with test name and copy&paste to\n    }\n  };\n\n  return Preprocesor;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9wcmVwcm9jZXNvci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3ByZXByb2Nlc29yLmpzPzMyNjIiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQge0RzbH0gZnJvbSAnLi9kc2wnO1xuXG4vL3NwbGljZSBhcnJheSBpbnRvIGFycmF5XG5BcnJheS5wcm90b3R5cGUuc3BsaWNlQXJyYXkgPSBmdW5jdGlvbihpbmRleCwgbiwgYXJyYXkpIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkodGhpcywgW2luZGV4LCBuXS5jb25jYXQoYXJyYXkpKTtcbn07XG5cbmV4cG9ydCBjbGFzcyBQcmVwcm9jZXNvciB7XG4gIC8qKlxuICAgKiBDcmVhdGVkIGJ5IHRvbWF0b24gb24gMTAvMjIvMjAxNS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHBhcmVudCkge1xuICAgIHRoaXMuY3VycmVudEN1cnNvciA9IDA7XG4gICAgdGhpcy5zdGF0ZSA9IFRlc3RTdGF0ZS5VTkQ7Ly8gZ2V0U3RhdGUodGhpcy5zcGxpdHRlZCwgY3VycmVudEN1cnNvcisrKTtcbiAgICB0aGlzLnRzdGF0ZSA9IHt9O1xuICAgIHRoaXMubXlUZXN0ID0gJyc7XG4gICAgdGhpcy5leHBhbmRlZFRlc3QgPSBbXTtcbiAgICB0aGlzLmV4cGFuZGVkR3JvdXAgPSBbXTtcbiAgICB0aGlzLnJlcGxhY2VhYmxlU3RpbXVsaSA9IFtdO1xuICAgIHRoaXMudGVtcFRlc3QgPSAnJztcbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudDsgLy9leHBlY3RzIHBhcnNlclxuICB9XG4gIC8vY29uc29sZS5sb2codGhpcy5zcGxpdHRlZCk7XG4gIGdldFN0YXRlKCkge1xuICAgIC8vY29uc29sZS5sb2coXCJnZXRTdGF0ZSgpIFwiK2N1cnJlbnRDdXJzb3IpO1xuICAgIC8vY29uc29sZS5sb2codGhpcy5zcGxpdHRlZFtjdXJyZW50Q3Vyc29yXSk7XG4gICAgaWYgKHRoaXMuY3VycmVudEN1cnNvciA+PSB0aGlzLnNwbGl0dGVkLmxlbmd0aCkgcmV0dXJuIFRlc3RTdGF0ZS5FTkQ7XG4gICAgaWYgKERzbC5pc1Bhcm92eSh0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcl0pKSByZXR1cm4gVGVzdFN0YXRlLlBBUjtcbiAgICBpZiAoRHNsLmlzS2F0ZWdvcmllKHRoaXMuc3BsaXR0ZWRbdGhpcy5jdXJyZW50Q3Vyc29yXSkpIHJldHVybiBUZXN0U3RhdGUuS0FUO1xuICAgIGlmIChEc2wuaXNPYnJhem92a2EodGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3JdKSkgcmV0dXJuIFRlc3RTdGF0ZS5PQlI7XG4gICAgaWYgKERzbC5pc0V4dGVuZHModGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3JdKSkgcmV0dXJuIFRlc3RTdGF0ZS5FWFQ7XG4gICAgaWYgKERzbC5pc1N0aW11bGlHcm91cCh0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcl0pKSByZXR1cm4gVGVzdFN0YXRlLlNUSU1HUjtcbiAgICAvLyAgICAgICAgaWYgKERzbC5pc1JlcGxhY2VTdGltdWxpKHRoaXMuc3BsaXR0ZWRbdGhpcy5jdXJyZW50Q3Vyc29yXSkpIHJldHVybiBUZXN0U3RhdGUuUkVQU1RJTTtcbiAgICAvLyAgICAgICAgaWYgKERzbC5pc1JlcGxhY2VHcm91cCh0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcl0pKSByZXR1cm4gVGVzdFN0YXRlLlJFUEdSUDtcbiAgICBpZiAoRHNsLmlzUmFuZG9tUGFpcnModGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3JdKSkgeyB0aGlzLnRzdGF0ZS5yYW5kb21wYWlycyA9IHRydWU7IHJldHVybiBUZXN0U3RhdGUuVU5EO31cbiAgICBpZiAoRHNsLmlzUG9yYWRpVk50aWNpKHRoaXMuc3BsaXR0ZWRbdGhpcy5jdXJyZW50Q3Vyc29yXSkpIHsgdGhpcy50c3RhdGUucG9yYWRpdm50aWNpbmFob2RuZSA9IHRydWU7IHJldHVybiBUZXN0U3RhdGUuVU5EO31cbiAgICBpZiAoRHNsLmlzUG9yYWRpWnZ1a3UodGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3JdKSkgeyB0aGlzLnRzdGF0ZS5wb3JhZGl6dnVrdW5haG9kbmUgPSB0cnVlOyByZXR1cm4gVGVzdFN0YXRlLlVORDt9XG4gICAgaWYgKERzbC5pc1BvcmFkaUNhc2UodGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3JdKSkgeyB0aGlzLnRzdGF0ZS5wb3JhZGljYXNlbmFob2RuZSA9IHRydWU7IHJldHVybiBUZXN0U3RhdGUuVU5EO31cbiAgICBpZiAoRHNsLmlzVHlwZSh0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcl0pKSB0aGlzLnBhcmVudC50cmFuc2xhdGVUeXBlKHRoaXMuc3BsaXR0ZWRbdGhpcy5jdXJyZW50Q3Vyc29yXSk7IC8vIGZlYXR1cmUgIzIwOCwgdHlwZSBpbiB0aGUgYmVnaW5uaW5nIG9mIHRlc3QgZGVmaW5pdGlvblxuICAgIHJldHVybiBUZXN0U3RhdGUuVU5EO1xuICB9XG5cbiAgY29weVRlc3QoKSB7XG4gICAgdGhpcy5jdXJyZW50Q3Vyc29yKys7XG4gICAgdGhpcy5teVRlc3QgKz0gdGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3IgLSAxXSArICdcXG4nOyAvL2NvcHkgb2Ygcm93IHdpdGggb2JyYXpvdmthIG9yIHRlc3QgLi4uXG4gICAgd2hpbGUgKHRoaXMuZ2V0U3RhdGUoKSA9PT0gVGVzdFN0YXRlLlVORCkgdGhpcy5teVRlc3QgKz0gdGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3IrK10gKyAnXFxuJzsgLy9jb3B5IG9mIHJvd3NcbiAgfVxuXG4gIC8vYWxsIGFmdGVyIHRoZSBjdXJzb3Igd2lsbCBiZSBzaHVmZmxlZCBwZXIgc2NyZWVuc1xuICBzaHVmZmxlVGVzdCgpIHtcbiAgICAvL3JlYWRhbGx0ZXN0VG9BcnJheVxuICAgIGxldCB0ZW1wY3Vyc29yID0gdGhpcy5jdXJyZW50Q3Vyc29yKys7XG4gICAgbGV0IHRlc3RBcnJheSA9IFtdO1xuICAgIHdoaWxlICh0aGlzLmdldFN0YXRlKCkgIT09IFRlc3RTdGF0ZS5FTkQpIHtcbiAgICAgIHRoaXMudGVtcFRlc3QgPSB0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvciAtIDFdICsgJ1xcbic7XG4gICAgICB3aGlsZSAodGhpcy5nZXRTdGF0ZSgpID09PSBUZXN0U3RhdGUuVU5EKSB0aGlzLnRlbXBUZXN0ICs9IHRoaXMuc3BsaXR0ZWRbdGhpcy5jdXJyZW50Q3Vyc29yKytdICsgJ1xcbic7IC8vY29weSBvZiByb3dzXG4gICAgICB0ZXN0QXJyYXkucHVzaCh0aGlzLnRlbXBUZXN0KTsgLy9lYWNoIGl0ZW0gaXMgYSBzY3JlZW5cbiAgICAgIHRoaXMuY3VycmVudEN1cnNvcisrO1xuICAgIH1cbiAgICAvL3NodWZmbGUgc2NyZWVuc1xuICAgIHRlc3RBcnJheS5zaHVmZmxlKCk7XG5cbiAgICAvL2V4cGFuZEFycmF5VG9UZXh0XG4gICAgdGhpcy5jdXJyZW50Q3Vyc29yID0gdGVtcGN1cnNvcjtcbiAgICBsZXQgdGVzdENhc2UgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRlc3RBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgdGVzdENhc2UgPSB0ZXN0QXJyYXlbaV0uc3BsaXQoJ1xcbicpO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0ZXN0Q2FzZS5sZW5ndGg7IGorKykgdGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3IrK10gPSB0ZXN0Q2FzZVtqXTtcbiAgICB9XG4gICAgLy9jb25zb2xlLmxvZyhcInRlc3QgYWZ0ZXIgc2h1ZmZsZVwiLCB0aGlzLnNwbGl0dGVkKTsgICAgLy90aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcl1cbiAgICB0aGlzLmN1cnJlbnRDdXJzb3IgPSB0ZW1wY3Vyc29yO1xuICB9XG5cbiAgY29sbGVjdFNvdW5kcygpIHtcbiAgICBsZXQgenZ1a3MgPSBbXTtcbiAgICB3aGlsZSAoc3RhcnRzV2l0aFp2dWsodGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3JdKSkge1xuICAgICAgenZ1a3MucHVzaCh0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcisrXSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRzdGF0ZS5wb3JhZGl6dnVrdW5haG9kbmUpIHtcbiAgICAgIHp2dWtzLnNodWZmbGUoKTtcbiAgICAgIC8vY29uc29sZS5sb2coXCJ6dnVrcyBhZnRlciByYW5kb20gc2h1ZmZsaW5nOlwiLCB6dnVrcyk7XG4gICAgfVxuICAgIHJldHVybiB6dnVrcztcbiAgfVxuXG4gIGZvcmVhY2hTb3VuZEdlbmVyYXRlT2JyYXpvdmthKHp2dWtzLCB0aXRsZSkge1xuICAgIGxldCBvYnJhem92a2Fjb250ZW50ID0gW107XG4gICAgd2hpbGUgKHRoaXMuZ2V0U3RhdGUoKSA9PT0gVGVzdFN0YXRlLlVORCkge1xuICAgICAgb2JyYXpvdmthY29udGVudC5wdXNoKHRoaXMuc3BsaXR0ZWRbdGhpcy5jdXJyZW50Q3Vyc29yKytdKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB6dnVrcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5teVRlc3QgKz0gJ3NjcmVlbiAnICsgSW50ZXJwcmV0ZXIuZXh0cmFjdCgnc2NyZWVuIHBlciAxJykgKyAnXFxuJyArIHp2dWtzW2ldICsgJ1xcbic7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG9icmF6b3ZrYWNvbnRlbnQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgdGhpcy5teVRlc3QgKz0gb2JyYXpvdmthY29udGVudFtqXSArICdcXG4nO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGV4cGFuZEthdGVnb3JpZSgpIHtcbiAgICBsZXQgdGl0bGUgPSB0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcisrXTsgLy9za2lwIG92ZXIgdGhlIHJvdyBkZWZpbmluZyB0aGUga2F0ZWdvcnkgdGVzdFxuICAgIHdoaWxlIChzdGFydHNXaXRoQ29tbWVudCh0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcl0pKSB7Ly9za2lwIG92ZXIgY29tbWVudHMgLSB0aGVyZSBtaWdodCBiZSBzb21lIHN0eWxpbmdcbiAgICAgIHRpdGxlICs9ICdcXG4nICsgdGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3IrK107XG4gICAgfVxuICAgIGxldCB6dnVrcyA9IHRoaXMuY29sbGVjdFNvdW5kcygpO1xuICAgIHRoaXMuZm9yZWFjaFNvdW5kR2VuZXJhdGVPYnJhem92a2EoenZ1a3MsIHRpdGxlKTtcbiAgfVxuXG4gIG1ha2VQYWlycyh6dnVrcykge1xuICAgIGxldCBjb21iaW5hdGlvbnMgPSBbXTtcbiAgICAvL3JlY3Vyc2l2ZSBnZW5lcmF0aW9uIG9mIGFsbCBwb3NzaWJsZSBwYWlyc1xuICAgIHZhciBnZXRwYWlycyA9IGZ1bmN0aW9uKGFjdGl2ZSwgcmVzdCkge1xuICAgICAgLy9jb25zb2xlLmxvZyhcIml0ZXJhdGlvblwiKTtcbiAgICAgIC8vY29uc29sZS5sb2coYWN0aXZlKTtcbiAgICAgIC8vY29uc29sZS5sb2cocmVzdClcbiAgICAgIGlmIChyZXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBpZiAoYWN0aXZlLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgIGNvbWJpbmF0aW9ucy5wdXNoKGFjdGl2ZSk7XG4gICAgICAgICAgLy9jb25zb2xlLmxvZyhcImZvdW5kOlwiKTtcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKGFjdGl2ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBhY3RpdmUxID0gYWN0aXZlLnNsaWNlKCk7XG4gICAgICAgIGFjdGl2ZS5wdXNoKHJlc3RbMF0pO1xuICAgICAgICBnZXRwYWlycyhhY3RpdmUsIHJlc3Quc2xpY2UoMSkpO1xuICAgICAgICBnZXRwYWlycyhhY3RpdmUxLCByZXN0LnNsaWNlKDEpKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZ2V0cGFpcnMoW10sIHp2dWtzKTtcbiAgICByZXR1cm4gY29tYmluYXRpb25zO1xuICB9XG5cbiAgZm9yZWFjaFBhaXJvZlNvdW5kc0dlbmVyYXRlT2JyYXpvdmthKHBhaXJzLCB0aXRsZSkge1xuICAgIGxldCBvYnJhem92a2Fjb250ZW50ID0gW107XG4gICAgd2hpbGUgKHRoaXMuZ2V0U3RhdGUoKSA9PT0gVGVzdFN0YXRlLlVORCkge1xuICAgICAgb2JyYXpvdmthY29udGVudC5wdXNoKHRoaXMuc3BsaXR0ZWRbdGhpcy5jdXJyZW50Q3Vyc29yKytdKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5teVRlc3QgKz0gJ3NjcmVlbiAnICsgSW50ZXJwcmV0ZXIuZXh0cmFjdCgnc2NyZWVuIHBlciAyJykgKyAnXFxuJyArICdjb2x1bW5cXG4nICsgcGFpcnNbaV1bMF0gKyAnXFxuJyArIHBhaXJzW2ldWzFdICsgJ1xcbic7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG9icmF6b3ZrYWNvbnRlbnQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgdGhpcy5teVRlc3QgKz0gb2JyYXpvdmthY29udGVudFtqXSArICdcXG4nO1xuICAgICAgfVxuICAgICAgLypteVRlc3QgKz0gXCJzbG91cGVjXFxuXCIgKyBwYWlyc1tpXVsxXSArIFwiXFxuXCI7XG4gICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvYnJhem92a2Fjb250ZW50Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgbXlUZXN0ICs9IG9icmF6b3ZrYWNvbnRlbnRbal0gKyBcIlxcblwiO1xuICAgICAgIH0qL1xuICAgIH1cbiAgICAvL2ZpeCBidWcgcmFub2RtIGluIHR1cGxlXG4gIH1cblxuICBleHBhbmRQYXJvdnkoKSB7XG4gICAgbGV0IHRpdGxlID0gdGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3IrK107IC8vc2tpcCByb3cgZGVmaW5pbmcgcGFyIHRlc3RcbiAgICBsZXQgenZ1a3MgPSB0aGlzLmNvbGxlY3RTb3VuZHMoKTtcbiAgICBsZXQgcGFpcnMgPSB0aGlzLm1ha2VQYWlycyh6dnVrcyk7XG4gICAgaWYgKHRoaXMudHN0YXRlLnBvcmFkaWNhc2VuYWhvZG5lIHx8IHRoaXMudHN0YXRlLnJhbmRvbXBhaXJzKSBwYWlycy5zaHVmZmxlKCk7XG4gICAgaWYgKHBhaXJzLmxlbmd0aCA9PT0gMCkgY29uc29sZS5sb2coJ0V4cGVjdGVkIG1vcmUgcm93cyB3aXRoIHN0aW11bHVzIHRvIGdlbmVyYXRlIHBhaXJzLCBidXQgbm8gcGFpcnMgZ2VuZXJhdGVkLicpO1xuICAgIHRoaXMuZm9yZWFjaFBhaXJvZlNvdW5kc0dlbmVyYXRlT2JyYXpvdmthKHBhaXJzLCB0aXRsZSk7XG4gIH1cblxuXG4gIC8vZXhwYW5kcyBpbmhlcml0ZWQgdGVzdCAtIHJlYWQgZGVmaW5pdGlvbiBpbnRvIHNlcGFyYXRlZCBhcnJheS5cbiAgZXhwYW5kSW5oZXJpdGFuY2UoKSB7XG4gICAgbGV0IHBhcmVudHJvdyA9IHRoaXMuc3BsaXR0ZWRbdGhpcy5jdXJyZW50Q3Vyc29yXS5zcGxpdCgvWyA7LF0rLyk7IC8vZWFjaCBpbmhlcml0ZWQgdGVzdCBpcyBzZXBhcmF0ZWRcbiAgICAvL2ZvciAodmFyIGk9aW5kZXhvZm5hbWVzO2k8cGFyZW50cm93Lmxlbmd0IGg7aSsrKXsgLy9cbiAgICAvL2V4dGVuZHMgWzBdIHRlc3QgWzFdIHdpdGhzdGltdWxpIFsyXSBhLGIsYyxkIFszLDQsNSw2XVxuICAgIGxldCBwYXJlbnQgPSBwYXJlbnRyb3dbMV07XG4gICAgLy9nZXRzIGZyb20gdXJsIHRlc3QgZGVmaW5pdGlvblxuICAgIGxldCBteXVybCA9IFBzeWNob1Rlc3QyVXJsICsgcGFyZW50O1xuICAgICQuYWpheCh7XG4gICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgdXJsOiBteXVybCxcbiAgICAgIGRhdGE6IG51bGwsXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbih0ZXN0ZHRvKSB7XG4gICAgICAgIGlmIChwYXJzZXIucHJlcC5leHBhbmRlZFRlc3RbcGFyZW50XSkgY29uc29sZS5sb2coJ2V4cGFuZEluaGVyaXRhbmNlLCBXYXJuaW5nOiB0ZXN0IGRlZmluaXRpb24gYWxyZWFkeSBleGlzdHMgZm9yICcgKyBwYXJlbnQpO1xuICAgICAgICBwYXJzZXIucHJlcC5leHBhbmRlZFRlc3RbcGFyZW50XSA9IHRlc3RkdG9bMF0uZGVmaW5pdGlvbjtcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24oanEsIHN0YXR1cywgZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2V4cGFuZEluaGVyaXRhbmNlLCBFcnJvcjogV2hlbiBsb2FkaW5nIGRhdGEgZm9yIHRoZSB0ZXN0IGRlZmluaXRpb24gJyArIG15dXJsICsgJyAnICsgZXJyb3IpO1xuICAgICAgfSxcbiAgICAgIGFzeW5jOiBmYWxzZVxuICAgIH0pO1xuICAgIGlmIChwYXJlbnRyb3cubGVuZ3RoID4gMykgeyAvL2V4dGVuZHMgd2l0aCByZXBsYWNlbWVudCBvZiBzdGltdWxpXG4gICAgICBpZiAoRHNsLmlzV2l0aFN0aW11bGkocGFyZW50cm93WzJdKSkge1xuICAgICAgICBsZXQgc3RpbXVsaSA9IHBhcmVudHJvdy5zbGljZSgzKTsgLy9zdGltdWxpIG5hbWVzIHdpdGhvdXQgcHJldmlvdXMgLS0gVE9ETyBwYXJzZSB3aXRoIGFwb3N0cm9waGVzXG4gICAgICAgIC8vdGhpcy5yZXBsYWNlU3RpbXVsaShwYXJlbnQsc3RpbXVsaSk7Ly9yZXBsYWNlIHN0aW11bGkgd2l0aCBuZXcgb25lIGZyb20gYXJyYXlcbiAgICAgICAgLy9pbnNlcnRzIGEgZXh0ZW5kZWQgdGVzdCB3aXRoIHJlcGxhY2VkIHN0aW11bGlcbiAgICAgICAgdGhpcy5zcGxpdHRlZC5zcGxpY2VBcnJheSh0aGlzLmN1cnJlbnRDdXJzb3IsIDEsIHRoaXMucmVwbGFjZVN0aW11bGkodGhpcy5leHBhbmRlZFRlc3RbcGFyZW50XSwgc3RpbXVsaSkpO1xuICAgICAgfSBlbHNlIGlmIChEc2wuaXNXaXRoU3RpbXVsaWdyb3VwKHBhcmVudHJvd1syXSkpIHtcbiAgICAgICAgbGV0IHBhcmVudDIgPSBwYXJlbnRyb3dbM107XG4gICAgICAgIG15dXJsID0gUHN5Y2hvVGVzdDJVcmwgKyBwYXJlbnQyO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgdXJsOiBteXVybCxcbiAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHRlc3RkdG8pIHtcbiAgICAgICAgICAgIGlmIChwYXJzZXIucHJlcC5leHBhbmRlZEdyb3VwW3BhcmVudDJdKSBjb25zb2xlLmxvZygnZXhwYW5kR3JvdXAsIFdhcm5pbmc6IHRlc3QgZGVmaW5pdGlvbiBhbHJlYWR5IGxvYWRlZCBmb3IgJyArIHBhcmVudDIpO1xuICAgICAgICAgICAgcGFyc2VyLnByZXAuZXhwYW5kZWRHcm91cFtwYXJlbnQyXSA9IHRlc3RkdG9bMF0uZGVmaW5pdGlvbjtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihqcSwgc3RhdHVzLCBlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2V4cGFuZEdyb3VwLCBFcnJvcjogV2hlbiBsb2FkaW5nIGRhdGEgZm9yIHRoZSB0ZXN0IGRlZmluaXRpb24gJyArIG15dXJsICsgJyAnICsgZXJyb3IpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYXN5bmM6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGhpcy5leHBhbmRlZFRlc3RbcGFyZW50XSkge1xuICAgICAgICAgIGlmICh0aGlzLmV4cGFuZGVkR3JvdXBbcGFyZW50Ml0pIHRoaXMuc3BsaXR0ZWQuc3BsaWNlQXJyYXkodGhpcy5jdXJyZW50Q3Vyc29yLCAxLCB0aGlzLnJlcGxhY2VTdGltdWxpR3JvdXAodGhpcy5leHBhbmRlZFRlc3RbcGFyZW50XSwgdGhpcy5leHBhbmRlZEdyb3VwW3BhcmVudDJdKSk7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZXhwYW5kaW5oZXJpdGFuY2U6IEluZm8sIG5vdGhpbmcgdG8gcmVwbGFjZSBmcm9tIGdyb3VwJyk7XG4gICAgICAgICAgICB0aGlzLnNwbGl0dGVkLnNwbGljZUFycmF5KHRoaXMuY3VycmVudEN1cnNvciwgMSwgdGhpcy5leHBhbmRlZFRlc3RbcGFyZW50XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgY29uc29sZS5sb2coJ2V4cGFuZGluaGVyaXRhbmNlOiBJbmZvLCBub3RoaW5nIHRvIGV4cGFuZCcpO1xuICAgICAgfSBlbHNlIGNvbnNvbGUubG9nKCdleHBhbmRpbmhlcml0YW5jZTogV2FybmluZyB1bnJlY29nbml6ZWQgZXh0ZW5kIGF0dHJpYnV0ZTonICsgcGFyZW50cm93WzJdKTtcbiAgICB9IGVsc2UgeyAvL2V4dGVuZHMgd2l0aG91dCByZXBsYWNlbWVudFxuICAgICAgaWYgKHRoaXMuZXhwYW5kZWRUZXN0W3BhcmVudF0pIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2V4cGFuZGluaGVyaXRhbmNlOiBJbmZvLCBub3RoaW5nIHRvIHJlcGxhY2UgZnJvbSBncm91cCcpO1xuICAgICAgICB0aGlzLnNwbGl0dGVkLnNwbGljZUFycmF5KHRoaXMuY3VycmVudEN1cnNvciwgMSwgdGhpcy5zcGxpdEV4dGVuZFRlc3REZWZpbml0aW9uKHRoaXMuZXhwYW5kZWRUZXN0W3BhcmVudF0pKTtcbiAgICAgIH0gZWxzZSBjb25zb2xlLmxvZygnZXhwYW5kaW5oZXJpdGFuY2U6IEluZm8sIG5vdGhpbmcgdG8gZXhwYW5kJyk7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudEN1cnNvcisrO1xuICB9XG5cbiAgLy9leHBhbmRzIHN0aW11bGlncm91cCBpbnRvIHRoZSBjdXJyZW50IHRlc3QgLSByZWFkcyBhbGwgc3RpbXVsdXMgaW4gYSBncm91cCBpbnRvIHNlcGFyYXRlIGFycmF5XG4gIGV4cGFuZFN0aW11bGlHcm91cCgpIHtcbiAgICBsZXQgcGFyZW50cm93ID0gdGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3JdLnNwbGl0KC9bIDssXSsvKTsgLy9lYWNoIGV4cGFuZGVkIGdyb3VwIGlzIHNwbGl0XG4gICAgLy9mb3IgKHZhciBpPWluZGV4b2ZuYW1lcztpPHBhcmVudHJvdy5sZW5ndCBoO2krKyl7IC8vXG4gICAgLy9zdGltdWxpZ3JvdXAgWzBdIFtncm91cG5hbWVdIFsxLi4uXVxuICAgIGxldCBwYXJlbnQgPSBwYXJlbnRyb3dbMV07XG4gICAgLy9nZXRzIGZyb20gdXJsIHRlc3QgZGVmaW5pdGlvblxuICAgIGxldCBteXVybCA9IFBzeWNob1Rlc3QyVXJsICsgcGFyZW50O1xuICAgIC8vVE9ETyBtb3ZlIGFqYXggY2FsbCB0byBzaGFyZWQgY2xhc3NcbiAgICAkLmFqYXgoe1xuICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgIHVybDogbXl1cmwsXG4gICAgICBkYXRhOiBudWxsLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24odGVzdGR0bykge1xuICAgICAgICBpZiAodGhpcy5leHBhbmRlZEdyb3VwW3BhcmVudF0pIGNvbnNvbGUubG9nKCdleHBhbmRHcm91cCwgV2FybmluZzogdGVzdCBkZWZpbml0aW9uIGFscmVhZHkgbG9hZGVkIGZvciAnICsgcGFyZW50KTtcbiAgICAgICAgdGhpcy5leHBhbmRlZEdyb3VwW3BhcmVudF0gPSB0ZXN0ZHRvWzBdLmRlZmluaXRpb247XG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKGpxLCBzdGF0dXMsIGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdleHBhbmRHcm91cCwgRXJyb3I6IFdoZW4gbG9hZGluZyBkYXRhIGZvciB0aGUgdGVzdCBkZWZpbml0aW9uICcgKyBteXVybCArICcgJyArIGVycm9yKTtcbiAgICAgIH0sXG4gICAgICBhc3luYzogZmFsc2VcbiAgICB9KTtcbiAgICBpZiAodGhpcy5leHBhbmRlZEdyb3VwW3BhcmVudF0pIHtcbiAgICAgIHRoaXMuc3BsaXR0ZWQuc3BsaWNlQXJyYXkodGhpcy5jdXJyZW50Q3Vyc29yLCAxLCB0aGlzLnNwbGl0U3RpbXVsaURlZmluaXRpb24odGhpcy5leHBhbmRlZEdyb3VwW3BhcmVudF0pKTtcbiAgICB9IGVsc2UgY29uc29sZS5sb2coJ2V4cGFuZEdyb3VwOiBJbmZvLCBub3RoaW5nIHRvIGV4cGFuZCBmcm9tIHN0aW11bGlncm91cC4nKTtcbiAgICAvL3RoaXMuY3VycmVudEN1cnNvcisrO1xuICB9XG5cbiAgLy9zcGxpdHMgb25seSBzdGltdWx1cyBmcm9tIGdyb3VwIGRlZmluaXRpb24gaW50byBhcnJheVxuICBzcGxpdEV4dGVuZFRlc3REZWZpbml0aW9uKHRlc3RkZWZpbml0aW9uKSB7XG4gICAgbGV0IHJhd3Rlc3QgPSB0ZXN0ZGVmaW5pdGlvbi5zcGxpdCgnXFxuJyk7XG4gICAgLy9yYXd0ZXN0LnNoaWZ0KCk7IC8vcmVtb3ZlcyBmaXJzdCByb3cgLS0gdXN1YWxseSBkZWZpbml0aW9uIG9mIHRlc3QgbmFtZVxuICAgIHJhd3Rlc3RbMF0gPSAnIyAnICsgcmF3dGVzdFswXTsgLy9jb21tZW50cyBvdXQgdGhlIGZpcnN0IHJvdyAtLSB1c3VhbGx5IGRlZmluaXRpb24gb2YgdGVzdCBuYW1lXG4gICAgcmV0dXJuIHJhd3Rlc3Q7XG4gIH1cblxuICAvL3NwbGl0cyBvbmx5IHN0aW11bHVzIGZyb20gZ3JvdXAgZGVmaW5pdGlvbiBpbnRvIGFycmF5XG4gIHNwbGl0U3RpbXVsaURlZmluaXRpb24oZ3JvdXBkZWZpbml0aW9uKSB7XG4gICAgbGV0IHJhd3N0aW11bGkgPSBncm91cGRlZmluaXRpb24uc3BsaXQoJ1xcbicpO1xuICAgIGxldCBzdGltdWxpID0gW107XG4gICAgLy8gICAgdmFyIG5ld3Jvd3MgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHJhd3N0aW11bGkubGVuZ3RoOyBpKyspIHsgLy9zdGVwIG92ZXIgZmlyc3Qgcm93XG4gICAgICBsZXQgbXlzdGltdWxpID0gcmF3c3RpbXVsaVtpXS50cmltKCk7XG4gICAgICBpZiAobXlzdGltdWxpLmxlbmd0aCA+IDApIHtzdGltdWxpLnB1c2goJ3N0aW11bHVzICcgKyByYXdzdGltdWxpW2ldKTt9XG4gICAgfSAvL2FkZHMgb25seSByb3dzIHdpdGggc3RpbXVsdXMgcHJlZml4XG4gICAgcmV0dXJuIHN0aW11bGk7XG4gIH1cblxuICAvL3JlcGxhY2UgZWFjaCBvY2N1cmVuY2Ugb2Ygc3RpbXVsaSB3aXRoIGEgc3RpbXVsdXMgcm93IGZyb20gZ3JvdXAgZGVmaW5pdGlvbixcbiAgLy8gaWYgc29tZSBzdGltdWx1cyByZW1haW5zLCBpdCBpcyBpbnNlcnRlZCBhdCB0aGUgbGFzdCBwb3NpdGlvbiBvZiBzdGltdWx1cyBpbiBkZWZpbml0aW9uXG4gIHJlcGxhY2VTdGltdWxpR3JvdXAoZGVmaW5pdGlvbiwgZ3JvdXBkZWZpbml0aW9uKSB7XG4gICAgbGV0IGRlZnJvd3MgPSBkZWZpbml0aW9uLnNwbGl0KCdcXG4nKTsgLy9zcGxpdHMgcGVyIHJvd1xuICAgIGxldCBzdGltdWxpID0gdGhpcy5zcGxpdFN0aW11bGlEZWZpbml0aW9uKGdyb3VwZGVmaW5pdGlvbik7XG4gICAgbGV0IGxhc3RzdGltdWx1c2luZGV4ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlZnJvd3MubGVuZ3RoOyBpKyspIHsgLy9wYXJzZSBlYWNoIHJvd1xuICAgICAgaWYgKERzbC5pc1p2dWsoZGVmcm93c1tpXSkpIHtcbiAgICAgICAgaWYgKHN0aW11bGkubGVuZ3RoID4gMCkge2xhc3RzdGltdWx1c2luZGV4ID0gaTsgZGVmcm93c1tpXSA9IHN0aW11bGkuc2hpZnQoKTt9IC8vc3RpbXVsdXMga2V5d29yZCB3aXRoIG5ldyBzdGltdWx1cyBmcm9tIGFycmF5XG4gICAgICAgIGVsc2UgY29uc29sZS5sb2coJ3JlcGxhY2VTdGltdWxpOiBXYXJuaW5nIG5vdCBlbm91Z2ggc3RpbXVsaSBmb3IgcmVwbGFjZW1lbnQuJyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzdGltdWxpLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKCdyZXBsYWNlU3RpbXVsaTogSW5mbyBhZGRpbmcgcmVtYWluaW5nIHN0aW11bGkgYWZ0ZXIgbGFzdCBzdGltdWx1cyBpbiBleHRlbmRlZCB0ZXN0Jyk7XG4gICAgICBkZWZyb3dzLnNwbGljZUFycmF5KGxhc3RzdGltdWx1c2luZGV4LCAwLCBzdGltdWxpKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZnJvd3M7XG4gIH1cblxuICAvL3JlcGxhY2UgZWFjaCBvY2N1cmVuY2Ugb2Ygc3RpbXVsaSB3aXRoIGEgc3RpbXVsdXMgcm93IGZyb20gZ3JvdXAgZGVmaW5pdGlvbixcbiAgLy8gaWYgc29tZSBzdGltdWx1cyByZW1haW5zLCBpdCBpcyBpbnNlcnRlZCBhdCB0aGUgbGFzdCBwb3NpdGlvbiBvZiBzdGltdWx1cyBpbiBkZWZpbml0aW9uXG4gIHJlcGxhY2VTdGltdWxpKGRlZmluaXRpb24sIHN0aW11bGkpIHtcbiAgICBsZXQgZGVmcm93cyA9IGRlZmluaXRpb24uc3BsaXQoJ1xcbicpOyAvL3NwbGl0cyBwZXIgcm93XG4gICAgZGVmcm93c1swXSA9ICcjICcgKyBkZWZyb3dzWzBdOyAvL2NvbW1lbnQgb3V0IGZpcnN0IHJvdyBvZiBkZWZpbml0aW9uIC0tdXN1YWxseSB0ZXN0bmFtZVxuICAgIC8vICAgIHZhciBuZXdyb3dzID0gW107XG4gICAgbGV0IGxhc3RzdGltdWx1c2luZGV4ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0aW11bGkubGVuZ3RoOyBpKyspIHtzdGltdWxpW2ldID0gJ3N0aW11bHVzICcgKyBzdGltdWxpW2ldO30gLy9hZGRzIHN0aW11bHVzIGtleXdvcmQgYXMgcHJlZml4XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWZyb3dzLmxlbmd0aDsgaSsrKSB7IC8vcGFyc2UgZWFjaCByb3dcbiAgICAgIGlmIChEc2wuaXNadnVrKGRlZnJvd3NbaV0pKSB7XG4gICAgICAgIGlmIChzdGltdWxpLmxlbmd0aCA+IDApIHtsYXN0c3RpbXVsdXNpbmRleCA9IGk7IGRlZnJvd3NbaV0gPSBzdGltdWxpLnNoaWZ0KCk7fSAvL3N0aW11bHVzIGtleXdvcmQgd2l0aCBuZXcgc3RpbXVsdXMgZnJvbSBhcnJheVxuICAgICAgICBlbHNlIGNvbnNvbGUubG9nKCdyZXBsYWNlU3RpbXVsaTogV2FybmluZyBub3QgZW5vdWdoIHN0aW11bGkgZm9yIHJlcGxhY2VtZW50LicpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3RpbXVsaS5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zb2xlLmxvZygncmVwbGFjZVN0aW11bGk6IEluZm8gYWRkaW5nIHJlbWFpbmluZyBzdGltdWxpIGFmdGVyIGxhc3Qgc3RpbXVsdXMgaW4gZXh0ZW5kZWQgdGVzdCcpO1xuICAgICAgZGVmcm93cy5zcGxpY2VBcnJheShsYXN0c3RpbXVsdXNpbmRleCArIDEsIDAsIHN0aW11bGkpO1xuICAgIH1cbiAgICByZXR1cm4gZGVmcm93cztcbiAgfVxuXG5cbiAgLy9wcmVwcm9jZXNzaW5nXG4gIC8vY29weSBldmVyeXRoaW5nIGJlZm9yZSBmaXJzdCBzdGF0ZVxuICAvL3RoaXMuY3VycmVudEN1cnNvcisrO1xuICBwcmVwcm9jZXNzVGVzdChyYXdUZXN0KSB7XG4gICAgdGhpcy5jdXJyZW50Q3Vyc29yID0gMDtcbiAgICB0aGlzLnNwbGl0dGVkID0gcmF3VGVzdC5zcGxpdCgnXFxuJyk7IC8vc3BsaXQgdG8gcm93cyBhbmQgcGFyc2Ugcm93c1xuICAgIHRoaXMuc3RhdGUgPSBUZXN0U3RhdGUuVU5EOy8vIGdldFN0YXRlKHRoaXMuc3BsaXR0ZWQsIGN1cnJlbnRDdXJzb3IrKyk7XG4gICAgdGhpcy50c3RhdGUgPSB7fTtcbiAgICB0aGlzLm15VGVzdCA9ICcnO1xuICAgIHRoaXMudGVtcFRlc3QgPSAnJztcblxuICAgIC8vY29weSBiZXR3ZWVuIHRlc3QgYW5kIGZpcnN0IHNjcmVlblxuICAgIHRoaXMuY29weVRlc3QoKTtcblxuICAgIGlmICh0aGlzLnRzdGF0ZS5wb3JhZGljYXNlbmFob2RuZSkgdGhpcy5zaHVmZmxlVGVzdCgpO1xuXG4gICAgLy9jb25zb2xlLmxvZyhcImN1cnNvciBcIiArIHRoaXMuY3VycmVudEN1cnNvciArIFwiIHJvdyBcIiArIHRoaXMuc3BsaXR0ZWRbdGhpcy5jdXJyZW50Q3Vyc29yXSk7XG4gICAgdGhpcy5zdGF0ZSA9IHRoaXMuZ2V0U3RhdGUoKTtcbiAgICB3aGlsZSAodGhpcy5zdGF0ZSAhPT0gVGVzdFN0YXRlLkVORCkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IFRlc3RTdGF0ZS5PQlIpIHRoaXMuY29weVRlc3QoKTtcbiAgICAgIGVsc2UgaWYgKHRoaXMuc3RhdGUgPT09IFRlc3RTdGF0ZS5LQVQpIHRoaXMuZXhwYW5kS2F0ZWdvcmllKCk7XG4gICAgICBlbHNlIGlmICh0aGlzLnN0YXRlID09PSBUZXN0U3RhdGUuUEFSKSB0aGlzLmV4cGFuZFBhcm92eSgpO1xuICAgICAgZWxzZSBpZiAodGhpcy5zdGF0ZSA9PT0gVGVzdFN0YXRlLkVYVCkgIHRoaXMuZXhwYW5kSW5oZXJpdGFuY2UoKTtcbiAgICAgIGVsc2UgaWYgKHRoaXMuc3RhdGUgPT09IFRlc3RTdGF0ZS5TVElNR1IpIHRoaXMuZXhwYW5kU3RpbXVsaUdyb3VwKCk7XG4gICAgICAvLyAgICAgICAgZWxzZSBpZiAodGhpcy5zdGF0ZSA9PSBUZXN0U3RhdGUuUkVQU1RJTSkgdGhpcy5yZXBsYWNlU3RpbXVsaSgpO1xuICAgICAgLy8gICAgICAgIGVsc2UgaWYgKHRoaXMuc3RhdGUgPT0gVGVzdFN0YXRlLlJFUEdSUCkgdGhpcy5yZXBsYWNlU3RpbXVsaUdyb3VwKCk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIlBhcnNlIGVycm9yLiBcIiArIHRoaXMuc3RhdGUgKyBcIi4gTm90IGV4cGVjdGVkIHN0YXRlLiBMaW5lIFwiICsgdGhpcy5jdXJyZW50Q3Vyc29yICsgXCIgcm93OlwiICsgdGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3IrK10pO1xuICAgICAgICB0aGlzLm15VGVzdCArPSB0aGlzLnNwbGl0dGVkW3RoaXMuY3VycmVudEN1cnNvcisrXSArICdcXG4nOyAvL3Byb2JhYmx5IGV4dGVuc2lvbiAtIGNvcHkgdGVzdC5cbiAgICAgIH1cbiAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLmdldFN0YXRlKCk7XG4gICAgICAvL2lmICh0aGlzLmN1cnJlbnRDdXJzb3I8dGhpcy5zcGxpdHRlZC5sZW5ndGgpIGNvbnNvbGUubG9nKFwiY3Vyc29yIFwiICsgdGhpcy5jdXJyZW50Q3Vyc29yICsgXCIgcm93IFwiICsgdGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3JdKTtcbiAgICB9XG4gICAgLy9yZXR1cm4gY29wcGllZFRlc3Q7XG4gICAgcmV0dXJuIHRoaXMubXlUZXN0O1xuICB9XG4gIC8vZmxhdGVuaXplIGluaGVyaXRhbmNlXG4gIC8vVE9ETyBjb250aW51ZSB3aXRoIHJlY3Vyc2l2ZSAtIGZsYXRlbml6ZSwgcmVtb3ZlIHN0YXRlbWVudCBmcm9tIHByZXByb2Nlc3MgYW5kIGFkZCB0aGVtIHRvIHJlY3Vyc2l2ZSBjYWxsLCBvciB1c2UgYWpheChhc3luYzpmYWxzZSlcblxuICAvL2ZsYXRlbml6ZSAtLSBjb2xsZWN0IGFydGVmYWN0c1xuICBmbGF0ZW5pemVUZXN0KHJhd1Rlc3QpIHtcbiAgICB0aGlzLnNwbGl0dGVkID0gcmF3VGVzdC5zcGxpdCgnXFxuJyk7XG4gICAgbGV0IGkgPSAwOyBsZXQgaiA9IDA7XG4gICAgbGV0IGFydGVmYWN0cyA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnNwbGl0dGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoRHNsLmlzRXh0ZW5kcyh0aGlzLnNwbGl0dGVkW2ldKSB8fCBpc1N0aW11bGlHcm91cCh0aGlzLnNwbGl0dGVkW2ldKSkge1xuICAgICAgICBsZXQgcGFyZW50cm93ID0gdGhpcy5zcGxpdHRlZFtpXS5zcGxpdCgvWyA7LF0rLyk7XG4gICAgICAgIGZvciAoaiA9IDE7IGogPCBwYXJlbnRyb3cubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBhcnRlZmFjdHMucHVzaChwYXJlbnRyb3dbal0pOyAvL2FkZCBhcnRlZmFjdCBuYW1lcyB0aGF0IHdpbGwgYmUgcmVjdXJzaXZlbHkgb2J0YWluZWQgZnJvbSBzZXJ2ZXJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGxvYWRUZXN0RGVmaW5pdGlvbihyb3cpIHtcbiAgICBsZXQgcGFyZW50cm93ID0gdGhpcy5zcGxpdHRlZFt0aGlzLmN1cnJlbnRDdXJzb3IrK10uc3BsaXQoJyAnKTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBhcmVudHJvdy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHBhcmVudCA9IHBhcmVudHJvd1tpXTtcbiAgICAgIHRoaXMubXlUZXN0ICs9IHRoaXMuZ2V0VGVzdERlZmluaXRpb24ocGFyZW50KTsgLy9nZXRzIHRlc3QgZGVmaW5pdGlvbiBieSBuYW1lLCBza2lwIGZpcnN0IHJvdyB3aXRoIHRlc3QgbmFtZSBhbmQgY29weSZwYXN0ZSB0b1xuICAgIH1cbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhCQTtBQUNBO0FBREE7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQWxDQTtBQW9DQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBdkNBO0FBQ0E7QUFEQTtBQTJDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBakVBO0FBbUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBN0VBO0FBK0VBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTFGQTtBQTRGQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBbkdBO0FBcUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUEzSEE7QUE2SEE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUE3SUE7QUErSUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXJKQTtBQUNBO0FBREE7QUEwSkE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQUNBO0FBWUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVhBO0FBQ0E7QUFZQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBbE5BO0FBQ0E7QUFEQTtBQXNOQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE5T0E7QUFDQTtBQURBO0FBa1BBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQXRQQTtBQUNBO0FBREE7QUEwUEE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFyUUE7QUFDQTtBQURBO0FBdVFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQXhSQTtBQUNBO0FBREE7QUEwUkE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQS9TQTtBQUNBO0FBREE7QUFpVEE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFNQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQXBWQTtBQUNBO0FBREE7QUFzVkE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFsV0E7QUFvV0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTFXQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/preprocesor.js\n");

/***/ }),

/***/ "./src/components/psychoapi.js":
/*!*************************************!*\
  !*** ./src/components/psychoapi.js ***!
  \*************************************/
/*! exports provided: PsychoApi */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PsychoApi\", function() { return PsychoApi; });\n/* harmony import */ var aurelia_fetch_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aurelia-fetch-client */ \"./node_modules/aurelia-fetch-client/dist/native-modules/aurelia-fetch-client.js\");\n //import {Csrfheaderinterceptor} from '../components/csrfheaderinterceptor';\n\n/* Provides methods to return promise of data from REST Project api*/\n\nvar PsychoApi =\n/*#__PURE__*/\nfunction () {\n  function PsychoApi(httpclient) {\n    this.httpclient = httpclient;\n    this.httpclient.configure(function (config) {\n      config.rejectErrorResponses().withBaseUrl('').withDefaults({\n        credentials: 'same-origin',\n        headers: {\n          'Accept': 'application/json',\n          'X-Requested-With': 'Fetch'\n        }\n      });\n    });\n  }\n\n  var _proto = PsychoApi.prototype;\n\n  _proto.getMetadatas = function getMetadatas(id) {\n    var metadataurl = this.dataurl + \"/\" + id + \"/metadata\";\n    return this.httpclient.fetch(metadataurl).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      return data;\n    });\n  };\n\n  _proto.getSelectedTestDefinition = function getSelectedTestDefinition() {\n    return \"test\\nendtest\";\n  };\n\n  return PsychoApi;\n}();\nPsychoApi.inject = [aurelia_fetch_client__WEBPACK_IMPORTED_MODULE_0__[\"HttpClient\"]];//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9wc3ljaG9hcGkuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9wc3ljaG9hcGkuanM/MzhlNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0h0dHBDbGllbnQsanNvbn0gZnJvbSAnYXVyZWxpYS1mZXRjaC1jbGllbnQnO1xuLy9pbXBvcnQge0NzcmZoZWFkZXJpbnRlcmNlcHRvcn0gZnJvbSAnLi4vY29tcG9uZW50cy9jc3JmaGVhZGVyaW50ZXJjZXB0b3InO1xuLyogUHJvdmlkZXMgbWV0aG9kcyB0byByZXR1cm4gcHJvbWlzZSBvZiBkYXRhIGZyb20gUkVTVCBQcm9qZWN0IGFwaSovXG5cbmV4cG9ydCBjbGFzcyBQc3ljaG9BcGkge1xuICBzdGF0aWMgaW5qZWN0ID0gW0h0dHBDbGllbnRdO1xuXG4gIGNvbnN0cnVjdG9yKGh0dHBjbGllbnQpIHtcbiAgICB0aGlzLmh0dHBjbGllbnQ9aHR0cGNsaWVudDtcbiAgICB0aGlzLmh0dHBjbGllbnQuY29uZmlndXJlKGNvbmZpZyA9PiB7XG4gICAgICBjb25maWdcbiAgICAgICAgLnJlamVjdEVycm9yUmVzcG9uc2VzKClcbiAgICAgICAgLndpdGhCYXNlVXJsKCcnKVxuICAgICAgICAud2l0aERlZmF1bHRzKHtcbiAgICAgICAgICBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnOiAnRmV0Y2gnXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0pO1xuICB9XG5cbiAgZ2V0TWV0YWRhdGFzKGlkKXtcbiAgICBsZXQgbWV0YWRhdGF1cmwgPSB0aGlzLmRhdGF1cmwrXCIvXCIraWQrXCIvbWV0YWRhdGFcIjtcbiAgICByZXR1cm4gdGhpcy5odHRwY2xpZW50LmZldGNoKG1ldGFkYXRhdXJsKVxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT5yZXNwb25zZS5qc29uKCkpXG4gICAgICAudGhlbihkYXRhPT4ge3JldHVybiBkYXRhO30pO1xuICB9XG5cbiAgZ2V0U2VsZWN0ZWRUZXN0RGVmaW5pdGlvbigpe1xuICAgIHJldHVybiBcInRlc3RcXG5lbmR0ZXN0XCI7XG4gIH1cblxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUZBO0FBT0E7QUFDQTtBQUNBO0FBbEJBO0FBQ0E7QUFEQTtBQW9CQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBekJBO0FBMkJBO0FBQ0E7QUFDQTtBQTdCQTtBQUFBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/psychoapi.js\n");

/***/ }),

/***/ "./src/components/ranking2dinterpreter.js":
/*!************************************************!*\
  !*** ./src/components/ranking2dinterpreter.js ***!
  \************************************************/
/*! exports provided: Ranking2dinterpreter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Ranking2dinterpreter\", function() { return Ranking2dinterpreter; });\nvar Ranking2dinterpreter =\n/*#__PURE__*/\nfunction () {\n  //max of y in \"serad\" svg graph\n  function Ranking2dinterpreter(parent) {\n    this.defaultSVG1 = \"<svg width=\\\"100%\\\" height=\\\"100%\\\" version=\\\"1.1\\\" viewBox=\\\"-10 0 800 200\\\" style=\\\"border-style:solid;border-width:1px;\\\"\\nxmlns=\\\"http://www.w3.org/2000/svg\\\" \\nxmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"\\nonload=\\\"init('ball',1)\\\"\";\n    this.defaultSVG11 = \"\\nonmouseup=\\\"mouseUp(evt,1,1)\\\"\\nonmousemove=\\\"mouseMove(evt)\\\">\";\n    this.defaultSVGball1 = \"\\n<g id=\\\"ball0\\\" dragy=\\\"0\\\"\\ndragx=\\\"0\\\"\";\n    this.defaulSVGball11 = \"\\ntransform=\\\"translate(0,0)\\\">\\n<rect style=\\\"opacity:0.50000000000000000;fill:#acd8e6;stroke:#000000;stroke-width:5;fill-opacity:1;stroke-opacity:1\\\"\\nheight=\\\"36\\\"\\nwidth=\\\"80\\\"\\nry=\\\"18\\\"\\nrx=\\\"18\\\"\\nid=\\\"ball\\\"\\nx=\\\"0\\\"\\ny=\\\"0\\\" />\";\n    this.defaultSVGball2 = \"\\n<path style=\\\"fill:#c026f3;fill-opacity:1;stroke:#000000;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1\\\"\\nd=\\\"m 43.718257,11.24556 c 0.50507,17.67767 0.50507,18.18275 0.50507,18.18275 l 21.21321,-9.09137 z\\\"\\nid=\\\"path3792\\\"\\nonclick=\\\"document.getElementById('audio0').play();\\\"\\n/>\\n<path style=\\\"fill:#26f36d;fill-opacity:1;stroke:#000000;stroke-width:1.46451628px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1\\\"\\nd=\\\"m 22,8 9.715929,5.5782 -8.741942,0.24254 0,5.33566 10.151933,0 0,-3.88049 6.203959,5.57821 -6.767956,5.09313 0,-3.88049 -9.587936,0.24254 0,7.27591 5.921961,0 -7.613951,5.09314 -6.203958,-5.09314 4.793968,0 0,-6.79085 -9.305939,-0.24254 0,3.63796 -6.485958,-5.09313 5.639962,-5.33567 0.563997,4.12301 8.459945,-0.48506 -0.281998,-5.82073 -5.357965,-0.24253 z\\\"\\nid=\\\"path5399\\\"\\n/>   \\n</g>  \";\n    this.defaultSVG2 = \"\\n<text id=\\\"descx\\\" x=\\\"0\\\" y=\\\"149\\\" font-size=\\\"8\\\" fill=\\\"black\\\">descX &#8594;</text>\\n<text id=\\\"descy\\\" x=\\\"-4\\\" y=\\\"141\\\" font-size=\\\"8\\\" fill=\\\"black\\\" transform=\\\"rotate(270,-4,141)\\\">descY &#8594;</text>\\n</svg>\";\n    this.ymax = 400;\n    this.draggingElement = null;\n    this.nMouseOffsetX = 0;\n    this.nMouseOffsetY = 0;\n    this.parent = parent;\n  } //create inner SVG element, where each sound is presented as an draggable icon, recounts size in contrast to default svg\n\n\n  var _proto = Ranking2dinterpreter.prototype;\n\n  _proto.translateSerad2d = function translateSerad2d(row, maxaudioid, pagenum, questionnum) {\n    var rowsplitted = row.split(/[;]+/);\n    ymax = maxaudioid * 50 + 50;\n    parent.result.setDefaultAnswer(pagenum, questionnum); //fix bug 198\n\n    var svgsuffix = rowsplitted.length > 1 ? defaultSVG2.replace('descX', rowsplitted[0]).replace('descY', rowsplitted[1]) : defaultSVG2;\n    var svgsuffix2 = svgsuffix.replace('y=\"149\"', 'y=\"' + (ymax - 2) + '\"').replace(/141/g, ymax - 9);\n    return defaultSVG1.replace('init(\\'ball\\',1)', 'init(\\'ball\\',' + maxaudioid + ')').replace('viewBox=\"-10 0 800 200\"', 'viewBox=\"-10 0 800 ' + ymax + '\"') + defaultSVG11.replace('mouseUp(evt,1,1)', 'mouseUp(evt,' + pagenum + ',' + questionnum + ')') + this.generateSoundBall(maxaudioid) + svgsuffix2; //rowsplitted.length>1 ? defaultSVG2.replace(\"descX\",rowsplitted[1]).replace(\"descY\",rowsplitted[2]) : defaultSVG2;\n  } //for each sound generates an interactive SVG element\n  ;\n\n  _proto.generateSoundBall = function generateSoundBall(maxaudioid) {\n    console.log('maxaudioid:' + maxaudioid);\n    var soundBall = '';\n\n    for (var i = 0; i < maxaudioid; i++) {\n      soundBall += defaultSVGball1.replace('id=\"ball0\" dragy=\"0\"', 'id=\"ball' + i + '\" dragy=\"' + i * 50 + '\"');\n      soundBall += defaulSVGball11.replace('translate(0,0)', 'translate(0,' + i * 50 + ')');\n      soundBall += defaultSVGball2.replace(/audio0/, 'audio' + i);\n    }\n\n    return soundBall;\n  } //draggable part inspired by http://www.codedread.com/dragtest2.svg\n  ;\n\n  _proto.inspect = function inspect(obj) {\n    var str = new Array();\n    var element = null;\n\n    for (element in obj) {\n      str[str.length] = element;\n    }\n\n    str.sort();\n    alert(obj + ':' + str.join(' '));\n  };\n\n  _proto.mouseDown = function mouseDown(evt) {\n    var target = evt.currentTarget;\n    draggingElement = target;\n\n    if (target) {\n      var p = document.getElementsByTagName('svg')[0].createSVGPoint();\n      p.x = evt.clientX;\n      p.y = evt.clientY;\n      var m = getScreenCTM(document.getElementsByTagName('svg')[0]);\n      p = p.matrixTransform(m.inverse());\n      nMouseOffsetX = p.x - parseInt(target.getAttribute('dragx'), 10);\n      nMouseOffsetY = p.y - parseInt(target.getAttribute('dragy'), 10);\n      if (nMouseOffsetX > 61 && nMouseOffsetX < 91) play();\n    }\n  };\n\n  _proto.getDraggablePositions = function getDraggablePositions() {\n    var positions = '';\n    var draggable = document.getElementsByTagName('g');\n\n    for (var i = 0; i < draggable.length; i++) {\n      positions += Math.round(parseFloat(draggable[i].getAttribute('dragx'))) + ',' + Math.round(parseFloat(draggable[i].getAttribute('dragy'))) + ' ';\n    }\n\n    return positions;\n  };\n\n  _proto.mouseUp = function mouseUp(evt, pageNum, questionNum) {\n    draggingElement = null;\n    var value = getDraggablePositions();\n    setAnswer(pageNum, questionNum, value);\n    nMouseOffsetX = 0;\n    nMouseOffsetY = 0;\n  };\n\n  _proto.mouseMove = function mouseMove(evt) {\n    var p = document.getElementsByTagName('svg')[0].createSVGPoint();\n    p.x = evt.clientX;\n    p.y = evt.clientY;\n    var m = getScreenCTM(document.getElementsByTagName('svg')[0]);\n    p = p.matrixTransform(m.inverse());\n    p.x -= nMouseOffsetX;\n    p.y -= nMouseOffsetY;\n\n    if (draggingElement) {\n      if (p.x < 0) p.x = 0;else if (p.x > 800) p.x = 800 - 50; //on borders keep 0\n\n      if (p.y < 0) p.y = 0;else if (p.y > ymax - 50) p.y = ymax - 50;\n      draggingElement.setAttribute('dragx', p.x);\n      draggingElement.setAttribute('dragy', p.y);\n      draggingElement.setAttribute('transform', 'translate(' + p.x + ',' + p.y + ')');\n    }\n  };\n\n  _proto.displayCoords = function displayCoords(x, y, extra) {\n    var xNode = document.getElementById('xpos');\n    var yNode = document.getElementById('ypos');\n\n    if (xNode && yNode) {\n      xNode.firstChild.nodeValue = parseInt(x, 10) + extra;\n      yNode.firstChild.nodeValue = parseInt(y, 10) + extra;\n    }\n  };\n\n  _proto.displayRawText = function displayRawText(text) {\n    var textNode = document.getElementById('raw');\n\n    if (textNode) {\n      textNode.firstChild.nodeValue = text;\n    }\n  };\n\n  _proto.init = function init(prefix, count) {\n    for (var i = 0; i < count; i++) {\n      var ball = document.getElementById(prefix + i);\n      if (ball) ball.addEventListener('mousedown', mouseDown, false);\n    }\n    /*var ball = document.getElementById(\"ball\");\n    var square = document.getElementById(\"square\");\n    var logo = document.getElementById(\"cd_logo\");\n    //var feed = document.getElementById(\"feed_icon\");\n    if(ball && square && logo) {\n        ball.addEventListener(\"mousedown\", mouseDown, false);\n        square.addEventListener(\"mousedown\", mouseDown, false);\n        logo.addEventListener(\"mousedown\", mouseDown, false);\n        //feed.addEventListener(\"mousedown\", mouseDown, false);\n    }\n    //displayRawText(\"Drag stuff around\");\n    */\n\n  };\n\n  _proto.displayMatrix = function displayMatrix(matrix) {\n    this.displayRawText(matrix.a + ', ' + matrix.b + ', ' + matrix.c + ', ' + matrix.d + ', ' + matrix.e + ', ' + matrix.f);\n  } // Following is from Holger Will since ASV3 and O9 do not support getScreenTCM()\n  // See http://groups.yahoo.com/group/svg-developers/message/50789\n\n  /*  parX;\n  parY;\n  ma;\n  mos;\n  w;\n  h;\n  sx;\n  sy;\n  s;*/\n  ;\n\n  _proto.getScreenCTM = function getScreenCTM(doc) {\n    if (doc.getScreenCTM) {\n      return doc.getScreenCTM();\n    }\n\n    var root = document.getElementsByTagName('svg')[0]; //doc\n\n    var sCTM = root.createSVGMatrix();\n    var tr = root.createSVGMatrix();\n    var par = root.getAttribute('preserveAspectRatio');\n    if (par === null || par === '') par = 'xMidYMid meet'; //setting to default value\n\n    var parX = par.substring(0, 4); //xMin;xMid;xMax\n\n    var parY = par.substring(4, 8); //YMin;YMid;YMax;\n\n    var ma = par.split(' ');\n    var mos = ma[1]; //meet;slice\n    //get dimensions of the viewport\n\n    sCTM.a = 1;\n    sCTM.d = 1;\n    sCTM.e = 0;\n    sCTM.f = 0;\n    var w = root.getAttribute('width');\n    if (w === null || w === '') w = innerWidth;\n    var h = root.getAttribute('height');\n    if (h === null || h === '') h = innerHeight; // Jeff Schiller:  Modified to account for percentages - I'm not\n    // absolutely certain this is correct but it works for 100%/100%\n\n    if (w.substr(w.length - 1, 1) === '%') {\n      w = parseFloat(w.substr(0, w.length - 1)) / 100.0 * innerWidth;\n    }\n\n    if (h.substr(h.length - 1, 1) === '%') {\n      h = parseFloat(h.substr(0, h.length - 1)) / 100.0 * innerHeight;\n    } // get the ViewBox\n\n\n    var vba = root.getAttribute('viewBox');\n    if (vba === null) vba = '0 0 ' + w + ' ' + h;\n    var vb = vba.split(' '); //get the viewBox into an array\n    //--------------------------------------------------------------------------\n    //create a matrix with current user transformation\n\n    tr.a = root.currentScale;\n    tr.d = root.currentScale;\n    tr.e = root.currentTranslate.x;\n    tr.f = root.currentTranslate.y; //scale factors\n\n    var sx = w / vb[2];\n    var sy = h / vb[3];\n    var s; //meetOrSlice\n\n    if (mos === 'slice') {\n      s = sx > sy ? sx : sy;\n    } else {\n      s = sx < sy ? sx : sy;\n    } //preserveAspectRatio=\"none\"\n\n\n    if (par === 'none') {\n      sCTM.a = sx; //scaleX\n\n      sCTM.d = sy; //scaleY\n\n      sCTM.e = -vb[0] * sx; //translateX\n\n      sCTM.f = -vb[0] * sy; //translateY\n\n      sCTM = tr.multiply(sCTM); //taking user transformations into acount\n\n      return sCTM;\n    }\n\n    sCTM.a = s; //scaleX\n\n    sCTM.d = s; //scaleY\n    //-------------------------------------------------------\n\n    switch (parX) {\n      case 'xMid':\n        sCTM.e = (w - vb[2] * s) / 2 - vb[0] * s; //translateX\n\n        break;\n\n      case 'xMin':\n        sCTM.e = -vb[0] * s; //translateX\n\n        break;\n\n      case 'xMax':\n        sCTM.e = w - vb[2] * s - vb[0] * s; //translateX\n\n        break;\n    } //------------------------------------------------------------\n\n\n    switch (parY) {\n      case 'YMid':\n        sCTM.f = (h - vb[3] * s) / 2 - vb[1] * s; //translateY\n\n        break;\n\n      case 'YMin':\n        sCTM.f = -vb[1] * s; //translateY\n\n        break;\n\n      case 'YMax':\n        sCTM.f = h - vb[3] * s - vb[1] * s; //translateY\n\n        break;\n    }\n\n    sCTM = tr.multiply(sCTM); //taking user transformations into acount\n\n    return sCTM;\n  };\n\n  return Ranking2dinterpreter;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9yYW5raW5nMmRpbnRlcnByZXRlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3JhbmtpbmcyZGludGVycHJldGVyLmpzPzQ0ZTQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFJhbmtpbmcyZGludGVycHJldGVyIHtcbiAgZGVmYXVsdFNWRzEgPSBgPHN2ZyB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgdmVyc2lvbj1cIjEuMVwiIHZpZXdCb3g9XCItMTAgMCA4MDAgMjAwXCIgc3R5bGU9XCJib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLXdpZHRoOjFweDtcIlxueG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIFxueG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcbm9ubG9hZD1cImluaXQoXFwnYmFsbFxcJywxKVwiYDtcbiAgZGVmYXVsdFNWRzExID0gYFxub25tb3VzZXVwPVwibW91c2VVcChldnQsMSwxKVwiXG5vbm1vdXNlbW92ZT1cIm1vdXNlTW92ZShldnQpXCI+YDtcbiAgZGVmYXVsdFNWR2JhbGwxID0gYFxuPGcgaWQ9XCJiYWxsMFwiIGRyYWd5PVwiMFwiXG5kcmFneD1cIjBcImBcbiAgZGVmYXVsU1ZHYmFsbDExID0gYFxudHJhbnNmb3JtPVwidHJhbnNsYXRlKDAsMClcIj5cbjxyZWN0IHN0eWxlPVwib3BhY2l0eTowLjUwMDAwMDAwMDAwMDAwMDAwO2ZpbGw6I2FjZDhlNjtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6NTtmaWxsLW9wYWNpdHk6MTtzdHJva2Utb3BhY2l0eToxXCJcbmhlaWdodD1cIjM2XCJcbndpZHRoPVwiODBcIlxucnk9XCIxOFwiXG5yeD1cIjE4XCJcbmlkPVwiYmFsbFwiXG54PVwiMFwiXG55PVwiMFwiIC8+YDtcbiAgZGVmYXVsdFNWR2JhbGwyPSBgXG48cGF0aCBzdHlsZT1cImZpbGw6I2MwMjZmMztmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MXB4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjFcIlxuZD1cIm0gNDMuNzE4MjU3LDExLjI0NTU2IGMgMC41MDUwNywxNy42Nzc2NyAwLjUwNTA3LDE4LjE4Mjc1IDAuNTA1MDcsMTguMTgyNzUgbCAyMS4yMTMyMSwtOS4wOTEzNyB6XCJcbmlkPVwicGF0aDM3OTJcIlxub25jbGljaz1cImRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxcJ2F1ZGlvMFxcJykucGxheSgpO1wiXG4vPlxuPHBhdGggc3R5bGU9XCJmaWxsOiMyNmYzNmQ7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuNDY0NTE2MjhweDtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxXCJcbmQ9XCJtIDIyLDggOS43MTU5MjksNS41NzgyIC04Ljc0MTk0MiwwLjI0MjU0IDAsNS4zMzU2NiAxMC4xNTE5MzMsMCAwLC0zLjg4MDQ5IDYuMjAzOTU5LDUuNTc4MjEgLTYuNzY3OTU2LDUuMDkzMTMgMCwtMy44ODA0OSAtOS41ODc5MzYsMC4yNDI1NCAwLDcuMjc1OTEgNS45MjE5NjEsMCAtNy42MTM5NTEsNS4wOTMxNCAtNi4yMDM5NTgsLTUuMDkzMTQgNC43OTM5NjgsMCAwLC02Ljc5MDg1IC05LjMwNTkzOSwtMC4yNDI1NCAwLDMuNjM3OTYgLTYuNDg1OTU4LC01LjA5MzEzIDUuNjM5OTYyLC01LjMzNTY3IDAuNTYzOTk3LDQuMTIzMDEgOC40NTk5NDUsLTAuNDg1MDYgLTAuMjgxOTk4LC01LjgyMDczIC01LjM1Nzk2NSwtMC4yNDI1MyB6XCJcbmlkPVwicGF0aDUzOTlcIlxuLz4gICBcbjwvZz4gIGA7XG4gIGRlZmF1bHRTVkcyID0gYFxuPHRleHQgaWQ9XCJkZXNjeFwiIHg9XCIwXCIgeT1cIjE0OVwiIGZvbnQtc2l6ZT1cIjhcIiBmaWxsPVwiYmxhY2tcIj5kZXNjWCAmIzg1OTQ7PC90ZXh0PlxuPHRleHQgaWQ9XCJkZXNjeVwiIHg9XCItNFwiIHk9XCIxNDFcIiBmb250LXNpemU9XCI4XCIgZmlsbD1cImJsYWNrXCIgdHJhbnNmb3JtPVwicm90YXRlKDI3MCwtNCwxNDEpXCI+ZGVzY1kgJiM4NTk0OzwvdGV4dD5cbjwvc3ZnPmBcbiAgeW1heCA9IDQwMDsgLy9tYXggb2YgeSBpbiBcInNlcmFkXCIgc3ZnIGdyYXBoXG5cbiAgY29uc3RydWN0b3IocGFyZW50KSB7XG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gIH1cbiAgLy9jcmVhdGUgaW5uZXIgU1ZHIGVsZW1lbnQsIHdoZXJlIGVhY2ggc291bmQgaXMgcHJlc2VudGVkIGFzIGFuIGRyYWdnYWJsZSBpY29uLCByZWNvdW50cyBzaXplIGluIGNvbnRyYXN0IHRvIGRlZmF1bHQgc3ZnXG4gIHRyYW5zbGF0ZVNlcmFkMmQocm93LCBtYXhhdWRpb2lkLCBwYWdlbnVtLCBxdWVzdGlvbm51bSkge1xuICAgIGxldCByb3dzcGxpdHRlZCA9IHJvdy5zcGxpdCgvWztdKy8pO1xuICAgIHltYXggPSBtYXhhdWRpb2lkICogNTAgKyA1MDtcbiAgICBwYXJlbnQucmVzdWx0LnNldERlZmF1bHRBbnN3ZXIocGFnZW51bSwgcXVlc3Rpb25udW0pOyAvL2ZpeCBidWcgMTk4XG4gICAgbGV0IHN2Z3N1ZmZpeCA9IHJvd3NwbGl0dGVkLmxlbmd0aCA+IDEgPyBkZWZhdWx0U1ZHMi5yZXBsYWNlKCdkZXNjWCcsIHJvd3NwbGl0dGVkWzBdKS5yZXBsYWNlKCdkZXNjWScsIHJvd3NwbGl0dGVkWzFdKSA6IGRlZmF1bHRTVkcyO1xuICAgIGxldCBzdmdzdWZmaXgyID0gc3Znc3VmZml4LnJlcGxhY2UoJ3k9XCIxNDlcIicsICd5PVwiJyArICh5bWF4IC0gMikgKyAnXCInKS5yZXBsYWNlKC8xNDEvZywgKHltYXggLSA5KSk7XG4gICAgcmV0dXJuIGRlZmF1bHRTVkcxLnJlcGxhY2UoJ2luaXQoXFwnYmFsbFxcJywxKScsICdpbml0KFxcJ2JhbGxcXCcsJyArIG1heGF1ZGlvaWQgKyAnKScpLnJlcGxhY2UoJ3ZpZXdCb3g9XCItMTAgMCA4MDAgMjAwXCInLCAndmlld0JveD1cIi0xMCAwIDgwMCAnICsgKHltYXgpICsgJ1wiJylcbiAgICAgICsgZGVmYXVsdFNWRzExLnJlcGxhY2UoJ21vdXNlVXAoZXZ0LDEsMSknLCAnbW91c2VVcChldnQsJyArIHBhZ2VudW0gKyAnLCcgKyBxdWVzdGlvbm51bSArICcpJylcbiAgICAgICsgdGhpcy5nZW5lcmF0ZVNvdW5kQmFsbChtYXhhdWRpb2lkKVxuICAgICAgKyBzdmdzdWZmaXgyOy8vcm93c3BsaXR0ZWQubGVuZ3RoPjEgPyBkZWZhdWx0U1ZHMi5yZXBsYWNlKFwiZGVzY1hcIixyb3dzcGxpdHRlZFsxXSkucmVwbGFjZShcImRlc2NZXCIscm93c3BsaXR0ZWRbMl0pIDogZGVmYXVsdFNWRzI7XG4gIH1cblxuICAvL2ZvciBlYWNoIHNvdW5kIGdlbmVyYXRlcyBhbiBpbnRlcmFjdGl2ZSBTVkcgZWxlbWVudFxuICBnZW5lcmF0ZVNvdW5kQmFsbChtYXhhdWRpb2lkKSB7XG4gICAgY29uc29sZS5sb2coJ21heGF1ZGlvaWQ6JyArIG1heGF1ZGlvaWQpO1xuICAgIGxldCBzb3VuZEJhbGwgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heGF1ZGlvaWQ7IGkrKykge1xuICAgICAgc291bmRCYWxsICs9IGRlZmF1bHRTVkdiYWxsMS5yZXBsYWNlKCdpZD1cImJhbGwwXCIgZHJhZ3k9XCIwXCInLCAnaWQ9XCJiYWxsJyArIGkgKyAnXCIgZHJhZ3k9XCInICsgaSAqIDUwICsgJ1wiJyk7XG4gICAgICBzb3VuZEJhbGwgKz0gZGVmYXVsU1ZHYmFsbDExLnJlcGxhY2UoJ3RyYW5zbGF0ZSgwLDApJywgJ3RyYW5zbGF0ZSgwLCcgKyBpICogNTAgKyAnKScpO1xuICAgICAgc291bmRCYWxsICs9IGRlZmF1bHRTVkdiYWxsMi5yZXBsYWNlKC9hdWRpbzAvLCAnYXVkaW8nICsgaSk7XG4gICAgfVxuICAgIHJldHVybiBzb3VuZEJhbGw7XG4gIH1cblxuICAvL2RyYWdnYWJsZSBwYXJ0IGluc3BpcmVkIGJ5IGh0dHA6Ly93d3cuY29kZWRyZWFkLmNvbS9kcmFndGVzdDIuc3ZnXG4gIGluc3BlY3Qob2JqKSB7XG4gICAgbGV0IHN0ciA9IG5ldyBBcnJheSgpO1xuICAgIGxldCBlbGVtZW50ID0gbnVsbDtcbiAgICBmb3IgKGVsZW1lbnQgaW4gb2JqKSB7IHN0cltzdHIubGVuZ3RoXSA9IGVsZW1lbnQ7IH1cbiAgICBzdHIuc29ydCgpO1xuICAgIGFsZXJ0KG9iaiArICc6JyArIHN0ci5qb2luKCcgJykpO1xuICB9XG5cbiAgZHJhZ2dpbmdFbGVtZW50ID0gbnVsbDtcbiAgbk1vdXNlT2Zmc2V0WCA9IDA7XG4gIG5Nb3VzZU9mZnNldFkgPSAwO1xuXG4gIG1vdXNlRG93bihldnQpIHtcbiAgICBsZXQgdGFyZ2V0ID0gZXZ0LmN1cnJlbnRUYXJnZXQ7XG4gICAgZHJhZ2dpbmdFbGVtZW50ID0gdGFyZ2V0O1xuXG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgbGV0IHAgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3ZnJylbMF0uY3JlYXRlU1ZHUG9pbnQoKTtcbiAgICAgIHAueCA9IGV2dC5jbGllbnRYO1xuICAgICAgcC55ID0gZXZ0LmNsaWVudFk7XG5cbiAgICAgIGxldCBtID0gZ2V0U2NyZWVuQ1RNKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdmcnKVswXSk7XG5cbiAgICAgIHAgPSBwLm1hdHJpeFRyYW5zZm9ybShtLmludmVyc2UoKSk7XG4gICAgICBuTW91c2VPZmZzZXRYID0gcC54IC0gcGFyc2VJbnQodGFyZ2V0LmdldEF0dHJpYnV0ZSgnZHJhZ3gnKSwxMCk7XG4gICAgICBuTW91c2VPZmZzZXRZID0gcC55IC0gcGFyc2VJbnQodGFyZ2V0LmdldEF0dHJpYnV0ZSgnZHJhZ3knKSwxMCk7XG4gICAgICBpZiAobk1vdXNlT2Zmc2V0WCA+IDYxICYmIG5Nb3VzZU9mZnNldFggPCA5MSkgcGxheSgpO1xuICAgIH1cbiAgfVxuXG4gIGdldERyYWdnYWJsZVBvc2l0aW9ucygpIHtcbiAgICBsZXQgcG9zaXRpb25zID0gJyc7XG4gICAgbGV0IGRyYWdnYWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdnJyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkcmFnZ2FibGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBvc2l0aW9ucyArPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoZHJhZ2dhYmxlW2ldLmdldEF0dHJpYnV0ZSgnZHJhZ3gnKSkpICsgJywnICsgTWF0aC5yb3VuZChwYXJzZUZsb2F0KGRyYWdnYWJsZVtpXS5nZXRBdHRyaWJ1dGUoJ2RyYWd5JykpKSArICcgJztcbiAgICB9XG4gICAgcmV0dXJuIHBvc2l0aW9ucztcbiAgfVxuXG4gIG1vdXNlVXAoZXZ0LCBwYWdlTnVtLCBxdWVzdGlvbk51bSkge1xuICAgIGRyYWdnaW5nRWxlbWVudCA9IG51bGw7XG4gICAgbGV0IHZhbHVlID0gZ2V0RHJhZ2dhYmxlUG9zaXRpb25zKCk7XG4gICAgc2V0QW5zd2VyKHBhZ2VOdW0sIHF1ZXN0aW9uTnVtLCB2YWx1ZSk7XG4gICAgbk1vdXNlT2Zmc2V0WCA9IDA7XG4gICAgbk1vdXNlT2Zmc2V0WSA9IDA7XG4gIH1cblxuICBtb3VzZU1vdmUoZXZ0KSB7XG4gICAgbGV0IHAgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3ZnJylbMF0uY3JlYXRlU1ZHUG9pbnQoKTtcbiAgICBwLnggPSBldnQuY2xpZW50WDtcbiAgICBwLnkgPSBldnQuY2xpZW50WTtcblxuICAgIGxldCBtID0gZ2V0U2NyZWVuQ1RNKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdmcnKVswXSk7XG5cbiAgICBwID0gcC5tYXRyaXhUcmFuc2Zvcm0obS5pbnZlcnNlKCkpO1xuICAgIHAueCAtPSBuTW91c2VPZmZzZXRYO1xuICAgIHAueSAtPSBuTW91c2VPZmZzZXRZO1xuXG4gICAgaWYgKGRyYWdnaW5nRWxlbWVudCkge1xuICAgICAgaWYgKHAueCA8IDApIHAueCA9IDA7IGVsc2UgaWYgKHAueCA+IDgwMCkgcC54ID0gODAwIC0gNTA7IC8vb24gYm9yZGVycyBrZWVwIDBcbiAgICAgIGlmIChwLnkgPCAwKSBwLnkgPSAwOyBlbHNlIGlmIChwLnkgPiB5bWF4IC0gNTApIHAueSA9IHltYXggLSA1MDtcbiAgICAgIGRyYWdnaW5nRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RyYWd4JywgcC54KTtcbiAgICAgIGRyYWdnaW5nRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RyYWd5JywgcC55KTtcbiAgICAgIGRyYWdnaW5nRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIHAueCArICcsJyArIHAueSArICcpJyk7XG4gICAgfVxuICB9XG5cbiAgZGlzcGxheUNvb3Jkcyh4LCB5LCBleHRyYSkge1xuICAgIGxldCB4Tm9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd4cG9zJyk7XG4gICAgbGV0IHlOb2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3lwb3MnKTtcbiAgICBpZiAoeE5vZGUgJiYgeU5vZGUpIHtcbiAgICAgIHhOb2RlLmZpcnN0Q2hpbGQubm9kZVZhbHVlID0gcGFyc2VJbnQoeCwxMCkgKyBleHRyYTtcbiAgICAgIHlOb2RlLmZpcnN0Q2hpbGQubm9kZVZhbHVlID0gcGFyc2VJbnQoeSwxMCkgKyBleHRyYTtcbiAgICB9XG4gIH1cblxuICBkaXNwbGF5UmF3VGV4dCh0ZXh0KSB7XG4gICAgbGV0IHRleHROb2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhdycpO1xuICAgIGlmICh0ZXh0Tm9kZSkge1xuICAgICAgdGV4dE5vZGUuZmlyc3RDaGlsZC5ub2RlVmFsdWUgPSB0ZXh0O1xuICAgIH1cbiAgfVxuXG4gIGluaXQocHJlZml4LCBjb3VudCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgbGV0IGJhbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmVmaXggKyBpKTtcbiAgICAgIGlmIChiYWxsKSBiYWxsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG1vdXNlRG93biwgZmFsc2UpO1xuICAgIH1cbiAgICAvKnZhciBiYWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiYWxsXCIpO1xuICAgIHZhciBzcXVhcmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNxdWFyZVwiKTtcbiAgICB2YXIgbG9nbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2RfbG9nb1wiKTtcbiAgICAvL3ZhciBmZWVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmZWVkX2ljb25cIik7XG4gICAgaWYoYmFsbCAmJiBzcXVhcmUgJiYgbG9nbykge1xuICAgICAgICBiYWxsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgbW91c2VEb3duLCBmYWxzZSk7XG4gICAgICAgIHNxdWFyZS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIG1vdXNlRG93biwgZmFsc2UpO1xuICAgICAgICBsb2dvLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgbW91c2VEb3duLCBmYWxzZSk7XG4gICAgICAgIC8vZmVlZC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIG1vdXNlRG93biwgZmFsc2UpO1xuICAgIH1cbiAgICAvL2Rpc3BsYXlSYXdUZXh0KFwiRHJhZyBzdHVmZiBhcm91bmRcIik7XG4gICAgKi9cbiAgfVxuXG4gIGRpc3BsYXlNYXRyaXgobWF0cml4KSB7XG4gICAgdGhpcy5kaXNwbGF5UmF3VGV4dChtYXRyaXguYSArICcsICcgKyBtYXRyaXguYiArICcsICcgKyBtYXRyaXguYyArICcsICdcbiAgICAgICsgbWF0cml4LmQgKyAnLCAnICsgbWF0cml4LmUgKyAnLCAnICsgbWF0cml4LmYpO1xuICB9XG5cbiAgLy8gRm9sbG93aW5nIGlzIGZyb20gSG9sZ2VyIFdpbGwgc2luY2UgQVNWMyBhbmQgTzkgZG8gbm90IHN1cHBvcnQgZ2V0U2NyZWVuVENNKClcbiAgLy8gU2VlIGh0dHA6Ly9ncm91cHMueWFob28uY29tL2dyb3VwL3N2Zy1kZXZlbG9wZXJzL21lc3NhZ2UvNTA3ODlcbiAgLyogIHBhclg7XG4gIHBhclk7XG4gIG1hO1xuICBtb3M7XG4gIHc7XG4gIGg7XG4gIHN4O1xuICBzeTtcbiAgczsqL1xuICBnZXRTY3JlZW5DVE0oZG9jKSB7XG4gICAgaWYgKGRvYy5nZXRTY3JlZW5DVE0pIHsgcmV0dXJuIGRvYy5nZXRTY3JlZW5DVE0oKTsgfVxuXG4gICAgbGV0IHJvb3QgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3ZnJylbMF07Ly9kb2NcbiAgICBsZXQgc0NUTSA9IHJvb3QuY3JlYXRlU1ZHTWF0cml4KCk7XG5cbiAgICBsZXQgdHIgPSByb290LmNyZWF0ZVNWR01hdHJpeCgpO1xuICAgIGxldCBwYXIgPSByb290LmdldEF0dHJpYnV0ZSgncHJlc2VydmVBc3BlY3RSYXRpbycpO1xuICAgIGlmIChwYXIgPT09IG51bGwgfHwgcGFyID09PSAnJykgcGFyID0gJ3hNaWRZTWlkIG1lZXQnOy8vc2V0dGluZyB0byBkZWZhdWx0IHZhbHVlXG4gICAgbGV0IHBhclggPSBwYXIuc3Vic3RyaW5nKDAsIDQpOyAvL3hNaW47eE1pZDt4TWF4XG4gICAgbGV0IHBhclkgPSBwYXIuc3Vic3RyaW5nKDQsIDgpOy8vWU1pbjtZTWlkO1lNYXg7XG4gICAgbGV0IG1hID0gcGFyLnNwbGl0KCcgJyk7XG4gICAgbGV0IG1vcyA9IG1hWzFdOyAvL21lZXQ7c2xpY2VcblxuICAgIC8vZ2V0IGRpbWVuc2lvbnMgb2YgdGhlIHZpZXdwb3J0XG4gICAgc0NUTS5hID0gMTtcbiAgICBzQ1RNLmQgPSAxO1xuICAgIHNDVE0uZSA9IDA7XG4gICAgc0NUTS5mID0gMDtcblxuXG4gICAgbGV0IHcgPSByb290LmdldEF0dHJpYnV0ZSgnd2lkdGgnKTtcbiAgICBpZiAodyA9PT0gbnVsbCB8fCB3ID09PSAnJykgdyA9IGlubmVyV2lkdGg7XG5cbiAgICBsZXQgaCA9IHJvb3QuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKTtcbiAgICBpZiAoaCA9PT0gbnVsbCB8fCBoID09PSAnJykgaCA9IGlubmVySGVpZ2h0O1xuXG4gICAgLy8gSmVmZiBTY2hpbGxlcjogIE1vZGlmaWVkIHRvIGFjY291bnQgZm9yIHBlcmNlbnRhZ2VzIC0gSSdtIG5vdFxuICAgIC8vIGFic29sdXRlbHkgY2VydGFpbiB0aGlzIGlzIGNvcnJlY3QgYnV0IGl0IHdvcmtzIGZvciAxMDAlLzEwMCVcbiAgICBpZiAody5zdWJzdHIody5sZW5ndGggLSAxLCAxKSA9PT0gJyUnKSB7XG4gICAgICB3ID0gKHBhcnNlRmxvYXQody5zdWJzdHIoMCwgdy5sZW5ndGggLSAxKSkgLyAxMDAuMCkgKiBpbm5lcldpZHRoO1xuICAgIH1cbiAgICBpZiAoaC5zdWJzdHIoaC5sZW5ndGggLSAxLCAxKSA9PT0gJyUnKSB7XG4gICAgICBoID0gKHBhcnNlRmxvYXQoaC5zdWJzdHIoMCwgaC5sZW5ndGggLSAxKSkgLyAxMDAuMCkgKiBpbm5lckhlaWdodDtcbiAgICB9XG5cbiAgICAvLyBnZXQgdGhlIFZpZXdCb3hcbiAgICBsZXQgdmJhID0gcm9vdC5nZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnKTtcbiAgICBpZiAodmJhID09PSBudWxsKSB2YmEgPSAnMCAwICcgKyB3ICsgJyAnICsgaDtcbiAgICBsZXQgdmIgPSB2YmEuc3BsaXQoJyAnKTsvL2dldCB0aGUgdmlld0JveCBpbnRvIGFuIGFycmF5XG5cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy9jcmVhdGUgYSBtYXRyaXggd2l0aCBjdXJyZW50IHVzZXIgdHJhbnNmb3JtYXRpb25cbiAgICB0ci5hID0gcm9vdC5jdXJyZW50U2NhbGU7XG4gICAgdHIuZCA9IHJvb3QuY3VycmVudFNjYWxlO1xuICAgIHRyLmUgPSByb290LmN1cnJlbnRUcmFuc2xhdGUueDtcbiAgICB0ci5mID0gcm9vdC5jdXJyZW50VHJhbnNsYXRlLnk7XG5cblxuICAgIC8vc2NhbGUgZmFjdG9yc1xuICAgIGxldCBzeCA9IHcgLyB2YlsyXTtcbiAgICBsZXQgc3kgPSBoIC8gdmJbM107XG5cbiAgICBsZXQgcztcbiAgICAvL21lZXRPclNsaWNlXG4gICAgaWYgKG1vcyA9PT0gJ3NsaWNlJykge1xuICAgICAgcyA9IChzeCA+IHN5ID8gc3ggOiBzeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHMgPSAoc3ggPCBzeSA/IHN4IDogc3kpO1xuICAgIH1cblxuICAgIC8vcHJlc2VydmVBc3BlY3RSYXRpbz1cIm5vbmVcIlxuICAgIGlmIChwYXIgPT09ICdub25lJykge1xuICAgICAgc0NUTS5hID0gc3g7Ly9zY2FsZVhcbiAgICAgIHNDVE0uZCA9IHN5Oy8vc2NhbGVZXG4gICAgICBzQ1RNLmUgPSAtIHZiWzBdICogc3g7IC8vdHJhbnNsYXRlWFxuICAgICAgc0NUTS5mID0gLSB2YlswXSAqIHN5OyAvL3RyYW5zbGF0ZVlcbiAgICAgIHNDVE0gPSB0ci5tdWx0aXBseShzQ1RNKTsvL3Rha2luZyB1c2VyIHRyYW5zZm9ybWF0aW9ucyBpbnRvIGFjb3VudFxuXG4gICAgICByZXR1cm4gc0NUTTtcbiAgICB9XG5cblxuICAgIHNDVE0uYSA9IHM7IC8vc2NhbGVYXG4gICAgc0NUTS5kID0gczsvL3NjYWxlWVxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIHN3aXRjaCAocGFyWCkge1xuICAgIGNhc2UgJ3hNaWQnOlxuICAgICAgc0NUTS5lID0gKCh3IC0gdmJbMl0gKiBzKSAvIDIpIC0gdmJbMF0gKiBzOyAvL3RyYW5zbGF0ZVhcblxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAneE1pbic6XG4gICAgICBzQ1RNLmUgPSAtIHZiWzBdICogczsvL3RyYW5zbGF0ZVhcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3hNYXgnOlxuICAgICAgc0NUTS5lID0gKHcgLSB2YlsyXSAqIHMpIC0gdmJbMF0gKiBzOyAvL3RyYW5zbGF0ZVhcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIHN3aXRjaCAocGFyWSkge1xuICAgIGNhc2UgJ1lNaWQnOlxuICAgICAgc0NUTS5mID0gKGggLSB2YlszXSAqIHMpIC8gMiAtIHZiWzFdICogczsgLy90cmFuc2xhdGVZXG4gICAgICBicmVhaztcbiAgICBjYXNlICdZTWluJzpcbiAgICAgIHNDVE0uZiA9IC0gdmJbMV0gKiBzOy8vdHJhbnNsYXRlWVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnWU1heCc6XG4gICAgICBzQ1RNLmYgPSAoaCAtIHZiWzNdICogcykgLSB2YlsxXSAqIHM7IC8vdHJhbnNsYXRlWVxuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHNDVE0gPSB0ci5tdWx0aXBseShzQ1RNKTsvL3Rha2luZyB1c2VyIHRyYW5zZm9ybWF0aW9ucyBpbnRvIGFjb3VudFxuXG4gICAgcmV0dXJuIHNDVE07XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQW9DQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTFDQTtBQUNBO0FBREE7QUEyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFJQTtBQXBEQTtBQUNBO0FBREE7QUF3REE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQWhFQTtBQUNBO0FBREE7QUFvRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQTFFQTtBQWdGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFoR0E7QUFrR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUF6R0E7QUEyR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqSEE7QUFtSEE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcklBO0FBdUlBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTlJQTtBQWdKQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXJKQTtBQXVKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FBWUE7QUFDQTtBQXhLQTtBQTBLQTtBQUVBO0FBR0E7QUFDQTtBQUFBOzs7Ozs7Ozs7QUFoTEE7QUFDQTtBQURBO0FBMExBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBVkE7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBVEE7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqU0E7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/ranking2dinterpreter.js\n");

/***/ }),

/***/ "./src/components/responseinterpreter.js":
/*!***********************************************!*\
  !*** ./src/components/responseinterpreter.js ***!
  \***********************************************/
/*! exports provided: Responseinterpreter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Responseinterpreter\", function() { return Responseinterpreter; });\nvar Responseinterpreter =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Created by tomaton on 10/21/2015.\n   */\n  function Responseinterpreter() {\n    this.answers = [];\n    this.lastotazka = '';\n    this.lastqcase = '';\n  }\n\n  var _proto = Responseinterpreter.prototype;\n\n  _proto.resetLast = function resetLast() {\n    this.lastqcase = '';\n    this.lastotazka = '';\n  };\n\n  _proto.addCase = function addCase(qcase) {\n    this.lastqcase += qcase;\n  };\n\n  _proto.setFullAnswer = function setFullAnswer(pageNum, questionNum, qcase, question, answer) {\n    //test if exists\n    //console.log(\"setanswer \" + pageNum + \" \" + questionNum+\" \"+qcase+\" \"+question+\":\", answer);\n    if (!this.answers[pageNum - 1]) this.answers[pageNum - 1] = []; //some workaround probably not needed more\n\n    if (!this.answers[pageNum - 1][questionNum - 1]) this.answers[pageNum - 1][questionNum - 1] = {};\n    this.answers[pageNum - 1][questionNum - 1].case = qcase;\n    this.answers[pageNum - 1][questionNum - 1].question = question;\n    setAnswer(pageNum, questionNum, answer);\n  } //sets default answer\n\n  /*Responses.prototype.setDefaultAnswer = function (pageNum, questionNum) {\n      return this.setDefaultAnswer(pageNum,questionNum,\"\");\n      // if (!this.answers[pageNum - 1] || !this.answers[pageNum - 1][questionNum - 1]) this.setFullAnswer(pageNum, questionNum, this.lastqcase,this.lastotazka,\"N/A\");\n  };\n   //sets default answer\n  Responses.prototype.setDefaultOptionalAnswer = function(pageNum, questionNum) {\n      return setDetaultOptionalAnswer(pageNum,questionNum,\"\");\n      //    if (!this.answers[pageNum - 1] || !this.answers[pageNum - 1][questionNum - 1]) this.setFullAnswer(pageNum, questionNum, this.lastqcase, this.lastotazka, \"\");\n  };*/\n  //sets default answer\n  ;\n\n  _proto.setDefaultAnswer = function setDefaultAnswer(pageNum, questionNum, suffix) {\n    var mysuffix = '';\n    if (suffix) mysuffix = suffix;\n    if (!this.answers[pageNum - 1] || !this.answers[pageNum - 1][questionNum - 1]) this.setFullAnswer(pageNum, questionNum, this.lastqcase, this.lastotazka + mysuffix, 'N/A');\n  } //sets default answer\n  ;\n\n  _proto.setDefaultOptionalAnswer = function setDefaultOptionalAnswer(pageNum, questionNum, suffix) {\n    var mysuffix = '';\n    if (suffix) mysuffix = suffix;\n    if (!this.answers[pageNum - 1] || !this.answers[pageNum - 1][questionNum - 1]) this.setFullAnswer(pageNum, questionNum, this.lastqcase, this.lastotazka + mysuffix, '');\n  }\n  /* executable function, can be called from html element*/\n  ;\n\n  _proto.setAnswer = function setAnswer(pageNum, questionNum, answer) {\n    if (answer.value) parser.result.answers[pageNum - 1][questionNum - 1].answer = answer.value;else parser.result.answers[pageNum - 1][questionNum - 1].answer = answer;\n    parser.result.answers[pageNum - 1][questionNum - 1].date = new Date();\n  };\n\n  _proto.setCheckAnswer = function setCheckAnswer(pageNum, questionNum, answer) {\n    if (answer.value) {\n      if (!parser.result.answers[pageNum - 1][questionNum - 1].hasOwnProperty('checkedvalues')) parser.result.answers[pageNum - 1][questionNum - 1].checkedvalues = [];\n      if (answer.checked) parser.result.answers[pageNum - 1][questionNum - 1].checkedvalues[answer.value] = answer.value;else if (parser.result.answers[pageNum - 1][questionNum - 1].checkedvalues.hasOwnProperty(answer.value)) delete parser.result.answers[pageNum - 1][questionNum - 1].checkedvalues[answer.value];\n      var currentanswer = '';\n      parser.result.answers[pageNum - 1][questionNum - 1].checkedvalues.forEach(function (item) {\n        if (parser.result.answers[pageNum - 1][questionNum - 1].checkedvalues[item]) currentanswer += item + ';';\n      }, this); //this is propagated to foreach callback\n\n      parser.result.answers[pageNum - 1][questionNum - 1].answer = currentanswer;\n    } //    else answers[pageNum - 1][questionNum - 1].answer = answer;\n\n\n    parser.result.answers[pageNum - 1][questionNum - 1].date = new Date();\n  };\n\n  return Responseinterpreter;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9yZXNwb25zZWludGVycHJldGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcmVzcG9uc2VpbnRlcnByZXRlci5qcz82MTY4Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBSZXNwb25zZWludGVycHJldGVyIHtcbiAgLyoqXG4gICAqIENyZWF0ZWQgYnkgdG9tYXRvbiBvbiAxMC8yMS8yMDE1LlxuICAgKi9cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmFuc3dlcnMgPSBbXTtcbiAgICB0aGlzLmxhc3RvdGF6a2EgPSAnJztcbiAgICB0aGlzLmxhc3RxY2FzZSA9ICcnO1xuICB9XG5cbiAgcmVzZXRMYXN0KCkge1xuICAgIHRoaXMubGFzdHFjYXNlID0gJyc7XG4gICAgdGhpcy5sYXN0b3RhemthID0gJyc7XG4gIH1cblxuICBhZGRDYXNlKHFjYXNlKSB7XG4gICAgdGhpcy5sYXN0cWNhc2UgKz0gcWNhc2U7XG4gIH1cblxuICBzZXRGdWxsQW5zd2VyKHBhZ2VOdW0sIHF1ZXN0aW9uTnVtLCBxY2FzZSwgcXVlc3Rpb24sIGFuc3dlcikge1xuICAgIC8vdGVzdCBpZiBleGlzdHNcbiAgICAvL2NvbnNvbGUubG9nKFwic2V0YW5zd2VyIFwiICsgcGFnZU51bSArIFwiIFwiICsgcXVlc3Rpb25OdW0rXCIgXCIrcWNhc2UrXCIgXCIrcXVlc3Rpb24rXCI6XCIsIGFuc3dlcik7XG4gICAgaWYgKCF0aGlzLmFuc3dlcnNbcGFnZU51bSAtIDFdKSB0aGlzLmFuc3dlcnNbcGFnZU51bSAtIDFdID0gW107IC8vc29tZSB3b3JrYXJvdW5kIHByb2JhYmx5IG5vdCBuZWVkZWQgbW9yZVxuICAgIGlmICghdGhpcy5hbnN3ZXJzW3BhZ2VOdW0gLSAxXVtxdWVzdGlvbk51bSAtIDFdKSB0aGlzLmFuc3dlcnNbcGFnZU51bSAtIDFdW3F1ZXN0aW9uTnVtIC0gMV0gPSB7fTtcbiAgICB0aGlzLmFuc3dlcnNbcGFnZU51bSAtIDFdW3F1ZXN0aW9uTnVtIC0gMV0uY2FzZSA9IHFjYXNlO1xuICAgIHRoaXMuYW5zd2Vyc1twYWdlTnVtIC0gMV1bcXVlc3Rpb25OdW0gLSAxXS5xdWVzdGlvbiA9IHF1ZXN0aW9uO1xuICAgIHNldEFuc3dlcihwYWdlTnVtLCBxdWVzdGlvbk51bSwgYW5zd2VyKTtcbiAgfVxuXG5cbiAgLy9zZXRzIGRlZmF1bHQgYW5zd2VyXG4gIC8qUmVzcG9uc2VzLnByb3RvdHlwZS5zZXREZWZhdWx0QW5zd2VyID0gZnVuY3Rpb24gKHBhZ2VOdW0sIHF1ZXN0aW9uTnVtKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXREZWZhdWx0QW5zd2VyKHBhZ2VOdW0scXVlc3Rpb25OdW0sXCJcIik7XG4gICAgICAvLyBpZiAoIXRoaXMuYW5zd2Vyc1twYWdlTnVtIC0gMV0gfHwgIXRoaXMuYW5zd2Vyc1twYWdlTnVtIC0gMV1bcXVlc3Rpb25OdW0gLSAxXSkgdGhpcy5zZXRGdWxsQW5zd2VyKHBhZ2VOdW0sIHF1ZXN0aW9uTnVtLCB0aGlzLmxhc3RxY2FzZSx0aGlzLmxhc3RvdGF6a2EsXCJOL0FcIik7XG4gIH07XG5cbiAgLy9zZXRzIGRlZmF1bHQgYW5zd2VyXG4gIFJlc3BvbnNlcy5wcm90b3R5cGUuc2V0RGVmYXVsdE9wdGlvbmFsQW5zd2VyID0gZnVuY3Rpb24ocGFnZU51bSwgcXVlc3Rpb25OdW0pIHtcbiAgICAgIHJldHVybiBzZXREZXRhdWx0T3B0aW9uYWxBbnN3ZXIocGFnZU51bSxxdWVzdGlvbk51bSxcIlwiKTtcbiAgICAgIC8vICAgIGlmICghdGhpcy5hbnN3ZXJzW3BhZ2VOdW0gLSAxXSB8fCAhdGhpcy5hbnN3ZXJzW3BhZ2VOdW0gLSAxXVtxdWVzdGlvbk51bSAtIDFdKSB0aGlzLnNldEZ1bGxBbnN3ZXIocGFnZU51bSwgcXVlc3Rpb25OdW0sIHRoaXMubGFzdHFjYXNlLCB0aGlzLmxhc3RvdGF6a2EsIFwiXCIpO1xuICB9OyovXG5cbiAgLy9zZXRzIGRlZmF1bHQgYW5zd2VyXG4gIHNldERlZmF1bHRBbnN3ZXIocGFnZU51bSwgcXVlc3Rpb25OdW0sIHN1ZmZpeCkge1xuICAgIGxldCBteXN1ZmZpeCA9ICcnOyAgICBpZiAoc3VmZml4KSBteXN1ZmZpeCA9IHN1ZmZpeDtcbiAgICBpZiAoIXRoaXMuYW5zd2Vyc1twYWdlTnVtIC0gMV0gfHwgIXRoaXMuYW5zd2Vyc1twYWdlTnVtIC0gMV1bcXVlc3Rpb25OdW0gLSAxXSkgdGhpcy5zZXRGdWxsQW5zd2VyKHBhZ2VOdW0sIHF1ZXN0aW9uTnVtLCB0aGlzLmxhc3RxY2FzZSwgdGhpcy5sYXN0b3RhemthICsgbXlzdWZmaXgsICdOL0EnKTtcbiAgfVxuXG4gIC8vc2V0cyBkZWZhdWx0IGFuc3dlclxuICBzZXREZWZhdWx0T3B0aW9uYWxBbnN3ZXIocGFnZU51bSwgcXVlc3Rpb25OdW0sIHN1ZmZpeCkge1xuICAgIGxldCBteXN1ZmZpeCA9ICcnOyAgICBpZiAoc3VmZml4KSBteXN1ZmZpeCA9IHN1ZmZpeDtcbiAgICBpZiAoIXRoaXMuYW5zd2Vyc1twYWdlTnVtIC0gMV0gfHwgIXRoaXMuYW5zd2Vyc1twYWdlTnVtIC0gMV1bcXVlc3Rpb25OdW0gLSAxXSkgdGhpcy5zZXRGdWxsQW5zd2VyKHBhZ2VOdW0sIHF1ZXN0aW9uTnVtLCB0aGlzLmxhc3RxY2FzZSwgdGhpcy5sYXN0b3RhemthICsgbXlzdWZmaXgsICcnKTtcbiAgfVxuXG5cbiAgLyogZXhlY3V0YWJsZSBmdW5jdGlvbiwgY2FuIGJlIGNhbGxlZCBmcm9tIGh0bWwgZWxlbWVudCovXG4gIHNldEFuc3dlcihwYWdlTnVtLCBxdWVzdGlvbk51bSwgYW5zd2VyKSB7XG4gICAgaWYgKGFuc3dlci52YWx1ZSkgcGFyc2VyLnJlc3VsdC5hbnN3ZXJzW3BhZ2VOdW0gLSAxXVtxdWVzdGlvbk51bSAtIDFdLmFuc3dlciA9IGFuc3dlci52YWx1ZTtcbiAgICBlbHNlIHBhcnNlci5yZXN1bHQuYW5zd2Vyc1twYWdlTnVtIC0gMV1bcXVlc3Rpb25OdW0gLSAxXS5hbnN3ZXIgPSBhbnN3ZXI7XG4gICAgcGFyc2VyLnJlc3VsdC5hbnN3ZXJzW3BhZ2VOdW0gLSAxXVtxdWVzdGlvbk51bSAtIDFdLmRhdGUgPSBuZXcgRGF0ZSgpO1xuICB9XG5cbiAgc2V0Q2hlY2tBbnN3ZXIocGFnZU51bSwgcXVlc3Rpb25OdW0sIGFuc3dlcikge1xuICAgIGlmIChhbnN3ZXIudmFsdWUpIHtcbiAgICAgIGlmICghcGFyc2VyLnJlc3VsdC5hbnN3ZXJzW3BhZ2VOdW0gLSAxXVtxdWVzdGlvbk51bSAtIDFdLmhhc093blByb3BlcnR5KCdjaGVja2VkdmFsdWVzJykpIHBhcnNlci5yZXN1bHQuYW5zd2Vyc1twYWdlTnVtIC0gMV1bcXVlc3Rpb25OdW0gLSAxXS5jaGVja2VkdmFsdWVzID0gW107XG4gICAgICBpZiAoYW5zd2VyLmNoZWNrZWQpIHBhcnNlci5yZXN1bHQuYW5zd2Vyc1twYWdlTnVtIC0gMV1bcXVlc3Rpb25OdW0gLSAxXS5jaGVja2VkdmFsdWVzW2Fuc3dlci52YWx1ZV0gPSBhbnN3ZXIudmFsdWU7XG4gICAgICBlbHNlIGlmIChwYXJzZXIucmVzdWx0LmFuc3dlcnNbcGFnZU51bSAtIDFdW3F1ZXN0aW9uTnVtIC0gMV0uY2hlY2tlZHZhbHVlcy5oYXNPd25Qcm9wZXJ0eShhbnN3ZXIudmFsdWUpKSBkZWxldGUgcGFyc2VyLnJlc3VsdC5hbnN3ZXJzW3BhZ2VOdW0gLSAxXVtxdWVzdGlvbk51bSAtIDFdLmNoZWNrZWR2YWx1ZXNbYW5zd2VyLnZhbHVlXTtcbiAgICAgIGxldCBjdXJyZW50YW5zd2VyID0gJyc7XG4gICAgICBwYXJzZXIucmVzdWx0LmFuc3dlcnNbcGFnZU51bSAtIDFdW3F1ZXN0aW9uTnVtIC0gMV0uY2hlY2tlZHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgaWYgKHBhcnNlci5yZXN1bHQuYW5zd2Vyc1twYWdlTnVtIC0gMV1bcXVlc3Rpb25OdW0gLSAxXS5jaGVja2VkdmFsdWVzW2l0ZW1dKSBjdXJyZW50YW5zd2VyICs9IGl0ZW0gKyAnOyc7XG4gICAgICB9LCB0aGlzKTsgLy90aGlzIGlzIHByb3BhZ2F0ZWQgdG8gZm9yZWFjaCBjYWxsYmFja1xuICAgICAgcGFyc2VyLnJlc3VsdC5hbnN3ZXJzW3BhZ2VOdW0gLSAxXVtxdWVzdGlvbk51bSAtIDFdLmFuc3dlciA9IGN1cnJlbnRhbnN3ZXI7XG4gICAgfVxuICAgIC8vICAgIGVsc2UgYW5zd2Vyc1twYWdlTnVtIC0gMV1bcXVlc3Rpb25OdW0gLSAxXS5hbnN3ZXIgPSBhbnN3ZXI7XG4gICAgcGFyc2VyLnJlc3VsdC5hbnN3ZXJzW3BhZ2VOdW0gLSAxXVtxdWVzdGlvbk51bSAtIDFdLmRhdGUgPSBuZXcgRGF0ZSgpO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFDQTtBQURBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFmQTtBQWlCQTtBQUNBO0FBQ0E7QUFuQkE7QUFxQkE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7Ozs7Ozs7O0FBV0E7QUEzQ0E7QUFDQTtBQURBO0FBNkNBO0FBQUE7QUFDQTtBQUNBO0FBL0NBO0FBQ0E7QUFEQTtBQW1EQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBeERBO0FBQ0E7QUFEQTtBQTBEQTtBQUVBO0FBQ0E7QUFDQTtBQTlEQTtBQWdFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUE3RUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/responseinterpreter.js\n");

/***/ }),

/***/ "./src/components/stimulusinterpreter.js":
/*!***********************************************!*\
  !*** ./src/components/stimulusinterpreter.js ***!
  \***********************************************/
/*! exports provided: Stimulusinterpreter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Stimulusinterpreter\", function() { return Stimulusinterpreter; });\nvar Stimulusinterpreter =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Created by tomaton on 10/21/2015.\n   */\n  //main object\n  function Stimulusinterpreter() {\n    this.navelement = false;\n    this.divelement = false;\n    this.audioid = 0; //this.sloupce = false;\n  }\n  /* separates non-stimulus part of test */\n\n\n  var _proto = Stimulusinterpreter.prototype;\n\n  _proto.translateNonZvuk = function translateNonZvuk(row) {\n    if (this.navelement) {\n      this.navelement = false;\n      this.divelement = true;\n      return \"</nav><div class='task' id='questions'>\\n\";\n    }\n\n    if (!this.divelement) {\n      this.divelement = true;\n      return \"<div class='task' id='questions'>\\n\";\n    }\n\n    return '';\n  }\n  /* close unclosed <div>*/\n  ;\n\n  _proto.closeQuestionDiv = function closeQuestionDiv() {\n    if (this.divelement) {\n      this.divelement = false;\n      return \"<p class='footer'></p></div>\";\n    }\n\n    return '';\n  }\n  /* same name different extension => <audio> with different sources, different names => different <audios>\n   * translates \"zvuk [filename2.wav] [filename2.ogg]\" to HTML representation of sound player to one or both formats wav, ogg\n   * translates \"zvuk [file1.wav] [file1.ogg] [file2.wav] [file3.wav] into tuple of buttons file1 has 2 sources with ogg and wav, file2 and file3 has one source with wav\n   */\n  ;\n\n  _proto.openAudio = function openAudio(sloupce) {\n    if (!sloupce && !this.navelement) {\n      this.navelement = true;\n\n      switch (this.tagtype) {\n        case 'mp4':\n          this.tags.push(\"<nav class='stimulus videos'>\"); //video takes more space\n\n          break;\n\n        case 'png':\n        case 'jpg':\n          this.tags.push(\"<nav class='stimulus pictures'>\"); //image takes variable space\n\n          break;\n\n        case 'txt':\n          this.tags.push(\"<nav class='stimulus txts'>\"); //text takes more space\n\n          break;\n\n        default:\n          this.tags.push(\"<nav class='stimulus sounds'>\");\n        //audio on left 10 % collumn\n      }\n    }\n\n    switch (this.tagtype) {\n      case 'mp4':\n        this.currentTag.push(\"<video style='max-width:100%;' id='video\" + this.audioid++ + \"' width='480' height='360' controls>\");\n        break;\n\n      case 'png':\n      case 'jpg':\n        this.currentTag.push(\"<img style='width:100%;' id='image\" + this.audioid++ + \"'\"); //imageo takes more space\n\n        break;\n\n      case 'txt':\n        this.currentTag.push(\"<p id='text\" + this.audioid++ + \"'>\"); //text takes more space\n\n        break;\n\n      default:\n        this.inputindex = this.currentTag.length;\n        this.currentTag.push(\"<input class='sound-button' type='button' onclick='document.getElementById(\\\"audio\" + this.audioid + \"\\\").play();' value='play'/><audio id='audio\" + this.audioid++ + \"'>\");\n        break;\n    }\n  } //add range playing of sound\n  ;\n\n  _proto.repairLastAudio = function repairLastAudio(rowsplitted) {\n    //preserve that\n    switch (this.tagtype) {\n      case 'mp4':\n      case 'png':\n      case 'jpg':\n      case 'txt':\n        console.log('Error, expected audio for range playing');\n        break;\n\n      default:\n        var re2 = /[\\[\\],]/; // fix feature bug #240, coma ',' is used to separate interval numbers\n\n        var rowsplitted2 = rowsplitted.split(re2);\n        var starttime = rowsplitted2[1]; //[10,10] is separates as [0] is empty, [1] is 10, [2] is 10 [3] is empty\n\n        var duration = rowsplitted2[2];\n        this.audioid--; //will repair the last audio\n\n        this.currentTag[this.inputindex] = \"<input type='button' onclick='playAudioPart(document.getElementById(\\\"audio\" + this.audioid + '\"),' + starttime + ',' + duration + \");' value='play'/><audio id='audio\" + this.audioid++ + \"'>\";\n    }\n  } //close <audio> tag\n  ;\n\n  _proto.closeAudio = function closeAudio() {\n    switch (this.tagtype) {\n      case 'mp4':\n        this.currentTag.push('Your browser does not support the video element.</video>\\n');\n        break;\n\n      case 'png':\n      case 'jpg':\n        this.currentTag.push('/>');\n        break;\n\n      case 'txt':\n        this.currentTag.push('</p>');\n        break;\n\n      default:\n        this.currentTag.push('Your browser does not support the audio element.</audio>\\n');\n    } //adds copy of current tag to the array of tags dedicated to unique stimulus\n\n\n    this.tags.push(this.currentTag.join('')); //nulls the current tag so new content audio/video can be inserted\n\n    this.currentTag = [];\n  } //add <source> of the <audio> <video and src of the image\n  ;\n\n  _proto.addSource = function addSource() {\n    switch (this.tagtype) {\n      case 'mp4':\n        this.currentTag.push(\"<source src='\" + SOUNDDIR + this.currentsound[0] + '.' + this.currentsound[1] + \"' type='audio/\"); //+rowsplitted[j+1]+\"'>';\n\n        this.currentTag.push(\"mpeg'>\");\n        break;\n\n      case 'png':\n      case 'jpg':\n        this.currentTag.push(\" src='\" + SOUNDDIR + this.currentsound[0] + '.' + this.currentsound[1] + \"'\");\n        break;\n\n      case 'txt':\n        //loads the content of the txt file\n        this.currentTag.push(\"<span src='\" + SOUNDDIR + this.currentsound[0] + '.' + this.currentsound[1] + \"'/>\"); //to hold the source\n\n        this.currentTag.push(\"</p><script>$('#text\" + (this.audioid - 1) + \"').load('\" + SOUNDDIR + this.currentsound[0] + '.' + this.currentsound[1] + \"')</script>\");\n        break;\n\n      default:\n        this.currentTag.push(\"<source src='\" + SOUNDDIR + this.currentsound[0] + '.' + this.currentsound[1] + \"' type='audio/\"); //+rowsplitted[j+1]+\"'>';\n\n        this.currentTag.push(this.currentsound[1] + \"'>\");\n    }\n\n    this.lastsoundname = this.currentsound[0];\n  }\n  /*\n  Stimulus.prototype.firstscreenaudioid= function()\n  {\n  //    this.audioid = 0\n  //    this.firstscreenaudioid = this.audioid;\n  }\n  */\n  ;\n\n  _proto.translateZvuk = function translateZvuk(rowsplitted, poradivnticinahodne, result, sloupce) {\n    var j = 1;\n    this.lastsoundname = '';\n    this.tagtype = rowsplitted[j].slice(rowsplitted[j].length - 3, rowsplitted[j].length).toLowerCase(); // || rowsplitted[j].startsWith('v_');\n\n    this.tags = [];\n    this.currentTag = [];\n    this.currentsound = [];\n    this.inputindex = 0;\n    if (sloupce) this.currentTag.push(\"<td class='stimulus'>\");\n    /* open initial tag */\n\n    this.openAudio(sloupce);\n\n    while (j < rowsplitted.length) {\n      this.currentsound = rowsplitted[j].split('.'); //if (!quotes)\n\n      if (this.lastsoundname === '' || this.lastsoundname === this.currentsound[0]) {\n        //add only new source type (wav,ogg), if soundname is same and only extension differs\n        this.addSource();\n        j++;\n      } else if (rowsplitted[j].startsWith('[')) {\n        //interval of previous sound\n        this.repairLastAudio(rowsplitted[j]);\n        j++; //skip the interval in [..]\n      } else {\n        //add new audio, different sound and it's source if different name\n        this.closeAudio();\n        this.openAudio(sloupce);\n        this.addSource();\n        j++;\n      } //bug in feature #235, must randomize also the case order\n      //lastqcase += rowsplitted[j] + \".\" + rowsplitted[j + 1] + \" \"; //adds sound to qcase structure\n\n    }\n    /* close last tag*/\n\n\n    this.closeAudio();\n    /* shuffle if needed */\n\n    if (poradivnticinahodne) {\n      //keep first <nav>,\n      var mytag = this.tags.shift(); //shuffle\n\n      this.tags.shuffle(); //adds first <nav>\n\n      this.tags.unshift(mytag);\n    } //gets filenames from the tags to keep order of cases in result, fix of feature #235, for starts from 1, 0 is <nav>, if sloupce then starts from 0 (no <nav> element\n    //added sloupce?0:1 and parser.result.addCase() fix bug #284\n\n\n    for (var k = sloupce ? 0 : 1; k < this.tags.length; k++) {\n      parser.result.addCase(Interpreter.extract(this.tags[k].match(/src='([^']*)'/)[1], SOUNDDIR) + ' ');\n    } //translatedRows = tags.join\n\n\n    return this.tags.join(' ');\n  }\n  /* executive part of the audio\n   playing part of the audio,\n   audio element is expected as the calling argument,\n   e.g. document.getElementById('myAudio') */\n  ;\n\n  _proto.stopAudio = function stopAudio(audio) {\n    audio.pause();\n  }\n  /* starts playing at \"start\" position and stops after specified duration\n   \"start\" and \"duration\" in milliseconds\n   */\n  ;\n\n  _proto.playAudioPart = function playAudioPart(audio, start, duration) {\n    audio.currentTime = start / 1000; //in seconds\n\n    audio.play();\n    setTimeout(stopAudio, duration, audio); //in milliseconds\n  };\n\n  return Stimulusinterpreter;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9zdGltdWx1c2ludGVycHJldGVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3RpbXVsdXNpbnRlcnByZXRlci5qcz82MmEwIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBTdGltdWx1c2ludGVycHJldGVyIHtcbiAgLyoqXG4gICAqIENyZWF0ZWQgYnkgdG9tYXRvbiBvbiAxMC8yMS8yMDE1LlxuICAgKi9cbiAgLy9tYWluIG9iamVjdFxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLm5hdmVsZW1lbnQgPSBmYWxzZTtcbiAgICB0aGlzLmRpdmVsZW1lbnQgPSBmYWxzZTtcbiAgICB0aGlzLmF1ZGlvaWQgPSAwO1xuICAgIC8vdGhpcy5zbG91cGNlID0gZmFsc2U7XG4gIH1cbiAgLyogc2VwYXJhdGVzIG5vbi1zdGltdWx1cyBwYXJ0IG9mIHRlc3QgKi9cbiAgdHJhbnNsYXRlTm9uWnZ1ayhyb3cpIHtcbiAgICBpZiAodGhpcy5uYXZlbGVtZW50KSB7XG4gICAgICB0aGlzLm5hdmVsZW1lbnQgPSBmYWxzZTtcbiAgICAgIHRoaXMuZGl2ZWxlbWVudCA9IHRydWU7XG4gICAgICByZXR1cm4gXCI8L25hdj48ZGl2IGNsYXNzPSd0YXNrJyBpZD0ncXVlc3Rpb25zJz5cXG5cIjtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmRpdmVsZW1lbnQpIHtcbiAgICAgIHRoaXMuZGl2ZWxlbWVudCA9IHRydWU7XG4gICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPSd0YXNrJyBpZD0ncXVlc3Rpb25zJz5cXG5cIjtcbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgLyogY2xvc2UgdW5jbG9zZWQgPGRpdj4qL1xuICBjbG9zZVF1ZXN0aW9uRGl2KCkge1xuICAgIGlmICh0aGlzLmRpdmVsZW1lbnQpIHtcbiAgICAgIHRoaXMuZGl2ZWxlbWVudCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIFwiPHAgY2xhc3M9J2Zvb3Rlcic+PC9wPjwvZGl2PlwiO1xuICAgIH0gcmV0dXJuICcnO1xuICB9XG5cbiAgLyogc2FtZSBuYW1lIGRpZmZlcmVudCBleHRlbnNpb24gPT4gPGF1ZGlvPiB3aXRoIGRpZmZlcmVudCBzb3VyY2VzLCBkaWZmZXJlbnQgbmFtZXMgPT4gZGlmZmVyZW50IDxhdWRpb3M+XG4gICAqIHRyYW5zbGF0ZXMgXCJ6dnVrIFtmaWxlbmFtZTIud2F2XSBbZmlsZW5hbWUyLm9nZ11cIiB0byBIVE1MIHJlcHJlc2VudGF0aW9uIG9mIHNvdW5kIHBsYXllciB0byBvbmUgb3IgYm90aCBmb3JtYXRzIHdhdiwgb2dnXG4gICAqIHRyYW5zbGF0ZXMgXCJ6dnVrIFtmaWxlMS53YXZdIFtmaWxlMS5vZ2ddIFtmaWxlMi53YXZdIFtmaWxlMy53YXZdIGludG8gdHVwbGUgb2YgYnV0dG9ucyBmaWxlMSBoYXMgMiBzb3VyY2VzIHdpdGggb2dnIGFuZCB3YXYsIGZpbGUyIGFuZCBmaWxlMyBoYXMgb25lIHNvdXJjZSB3aXRoIHdhdlxuICAgKi9cblxuICBvcGVuQXVkaW8oc2xvdXBjZSkge1xuICAgIGlmICghc2xvdXBjZSAmJiAhdGhpcy5uYXZlbGVtZW50KSB7XG4gICAgICB0aGlzLm5hdmVsZW1lbnQgPSB0cnVlO1xuICAgICAgc3dpdGNoICh0aGlzLnRhZ3R5cGUpIHtcbiAgICAgIGNhc2UgJ21wNCc6XG4gICAgICAgIHRoaXMudGFncy5wdXNoKFwiPG5hdiBjbGFzcz0nc3RpbXVsdXMgdmlkZW9zJz5cIik7IC8vdmlkZW8gdGFrZXMgbW9yZSBzcGFjZVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3BuZyc6XG4gICAgICBjYXNlICdqcGcnOlxuICAgICAgICB0aGlzLnRhZ3MucHVzaChcIjxuYXYgY2xhc3M9J3N0aW11bHVzIHBpY3R1cmVzJz5cIik7IC8vaW1hZ2UgdGFrZXMgdmFyaWFibGUgc3BhY2VcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0eHQnOlxuICAgICAgICB0aGlzLnRhZ3MucHVzaChcIjxuYXYgY2xhc3M9J3N0aW11bHVzIHR4dHMnPlwiKTsgLy90ZXh0IHRha2VzIG1vcmUgc3BhY2VcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLnRhZ3MucHVzaChcIjxuYXYgY2xhc3M9J3N0aW11bHVzIHNvdW5kcyc+XCIpOyAvL2F1ZGlvIG9uIGxlZnQgMTAgJSBjb2xsdW1uXG4gICAgICB9XG4gICAgfVxuXG4gICAgc3dpdGNoICh0aGlzLnRhZ3R5cGUpIHtcbiAgICBjYXNlICdtcDQnOlxuICAgICAgdGhpcy5jdXJyZW50VGFnLnB1c2goXCI8dmlkZW8gc3R5bGU9J21heC13aWR0aDoxMDAlOycgaWQ9J3ZpZGVvXCIgKyAodGhpcy5hdWRpb2lkKyspICsgXCInIHdpZHRoPSc0ODAnIGhlaWdodD0nMzYwJyBjb250cm9scz5cIik7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdwbmcnOlxuICAgIGNhc2UgJ2pwZyc6XG4gICAgICB0aGlzLmN1cnJlbnRUYWcucHVzaChcIjxpbWcgc3R5bGU9J3dpZHRoOjEwMCU7JyBpZD0naW1hZ2VcIiArICh0aGlzLmF1ZGlvaWQrKykgKyBcIidcIik7IC8vaW1hZ2VvIHRha2VzIG1vcmUgc3BhY2VcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3R4dCc6XG4gICAgICB0aGlzLmN1cnJlbnRUYWcucHVzaChcIjxwIGlkPSd0ZXh0XCIgKyAodGhpcy5hdWRpb2lkKyspICsgXCInPlwiKTsgLy90ZXh0IHRha2VzIG1vcmUgc3BhY2VcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aGlzLmlucHV0aW5kZXggPSB0aGlzLmN1cnJlbnRUYWcubGVuZ3RoO1xuICAgICAgdGhpcy5jdXJyZW50VGFnLnB1c2goXCI8aW5wdXQgY2xhc3M9J3NvdW5kLWJ1dHRvbicgdHlwZT0nYnV0dG9uJyBvbmNsaWNrPSdkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcXFwiYXVkaW9cIiArIHRoaXMuYXVkaW9pZCArIFwiXFxcIikucGxheSgpOycgdmFsdWU9J3BsYXknLz48YXVkaW8gaWQ9J2F1ZGlvXCIgKyAodGhpcy5hdWRpb2lkKyspICsgXCInPlwiKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIC8vYWRkIHJhbmdlIHBsYXlpbmcgb2Ygc291bmRcbiAgcmVwYWlyTGFzdEF1ZGlvKHJvd3NwbGl0dGVkKSB7XG4gICAgLy9wcmVzZXJ2ZSB0aGF0XG4gICAgc3dpdGNoICh0aGlzLnRhZ3R5cGUpIHtcbiAgICBjYXNlICdtcDQnOlxuICAgIGNhc2UgJ3BuZyc6XG4gICAgY2FzZSAnanBnJzpcbiAgICBjYXNlICd0eHQnOlxuICAgICAgY29uc29sZS5sb2coJ0Vycm9yLCBleHBlY3RlZCBhdWRpbyBmb3IgcmFuZ2UgcGxheWluZycpO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGxldCByZTIgPSAvW1xcW1xcXSxdLzsgLy8gZml4IGZlYXR1cmUgYnVnICMyNDAsIGNvbWEgJywnIGlzIHVzZWQgdG8gc2VwYXJhdGUgaW50ZXJ2YWwgbnVtYmVyc1xuICAgICAgbGV0IHJvd3NwbGl0dGVkMiA9IHJvd3NwbGl0dGVkLnNwbGl0KHJlMik7XG4gICAgICBsZXQgc3RhcnR0aW1lID0gcm93c3BsaXR0ZWQyWzFdOyAvL1sxMCwxMF0gaXMgc2VwYXJhdGVzIGFzIFswXSBpcyBlbXB0eSwgWzFdIGlzIDEwLCBbMl0gaXMgMTAgWzNdIGlzIGVtcHR5XG4gICAgICBsZXQgZHVyYXRpb24gPSByb3dzcGxpdHRlZDJbMl07XG4gICAgICB0aGlzLmF1ZGlvaWQtLTsgLy93aWxsIHJlcGFpciB0aGUgbGFzdCBhdWRpb1xuICAgICAgdGhpcy5jdXJyZW50VGFnW3RoaXMuaW5wdXRpbmRleF0gPSBcIjxpbnB1dCB0eXBlPSdidXR0b24nIG9uY2xpY2s9J3BsYXlBdWRpb1BhcnQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXFxcImF1ZGlvXCIgKyB0aGlzLmF1ZGlvaWQgKyAnXCIpLCcgKyBzdGFydHRpbWUgKyAnLCcgKyBkdXJhdGlvbiArIFwiKTsnIHZhbHVlPSdwbGF5Jy8+PGF1ZGlvIGlkPSdhdWRpb1wiICsgKHRoaXMuYXVkaW9pZCsrKSArIFwiJz5cIjtcbiAgICB9XG4gIH1cblxuICAvL2Nsb3NlIDxhdWRpbz4gdGFnXG4gIGNsb3NlQXVkaW8oKSB7XG4gICAgc3dpdGNoICh0aGlzLnRhZ3R5cGUpIHtcbiAgICBjYXNlICdtcDQnOlxuICAgICAgdGhpcy5jdXJyZW50VGFnLnB1c2goJ1lvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSB2aWRlbyBlbGVtZW50LjwvdmlkZW8+XFxuJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdwbmcnOlxuICAgIGNhc2UgJ2pwZyc6XG4gICAgICB0aGlzLmN1cnJlbnRUYWcucHVzaCgnLz4nKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3R4dCc6XG4gICAgICB0aGlzLmN1cnJlbnRUYWcucHVzaCgnPC9wPicpO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRoaXMuY3VycmVudFRhZy5wdXNoKCdZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgYXVkaW8gZWxlbWVudC48L2F1ZGlvPlxcbicpO1xuICAgIH1cbiAgICAvL2FkZHMgY29weSBvZiBjdXJyZW50IHRhZyB0byB0aGUgYXJyYXkgb2YgdGFncyBkZWRpY2F0ZWQgdG8gdW5pcXVlIHN0aW11bHVzXG4gICAgdGhpcy50YWdzLnB1c2godGhpcy5jdXJyZW50VGFnLmpvaW4oJycpKTtcbiAgICAvL251bGxzIHRoZSBjdXJyZW50IHRhZyBzbyBuZXcgY29udGVudCBhdWRpby92aWRlbyBjYW4gYmUgaW5zZXJ0ZWRcbiAgICB0aGlzLmN1cnJlbnRUYWcgPSBbXTtcbiAgfVxuXG4gIC8vYWRkIDxzb3VyY2U+IG9mIHRoZSA8YXVkaW8+IDx2aWRlbyBhbmQgc3JjIG9mIHRoZSBpbWFnZVxuICBhZGRTb3VyY2UoKSB7XG4gICAgc3dpdGNoICh0aGlzLnRhZ3R5cGUpIHtcbiAgICBjYXNlICdtcDQnOlxuICAgICAgdGhpcy5jdXJyZW50VGFnLnB1c2goXCI8c291cmNlIHNyYz0nXCIgKyBTT1VORERJUiArIHRoaXMuY3VycmVudHNvdW5kWzBdICsgJy4nICsgdGhpcy5jdXJyZW50c291bmRbMV0gKyBcIicgdHlwZT0nYXVkaW8vXCIpOyAvLytyb3dzcGxpdHRlZFtqKzFdK1wiJz4nO1xuICAgICAgdGhpcy5jdXJyZW50VGFnLnB1c2goXCJtcGVnJz5cIik7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdwbmcnOlxuICAgIGNhc2UgJ2pwZyc6XG4gICAgICB0aGlzLmN1cnJlbnRUYWcucHVzaChcIiBzcmM9J1wiICsgU09VTkRESVIgKyB0aGlzLmN1cnJlbnRzb3VuZFswXSArICcuJyArIHRoaXMuY3VycmVudHNvdW5kWzFdICsgXCInXCIpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndHh0JzogLy9sb2FkcyB0aGUgY29udGVudCBvZiB0aGUgdHh0IGZpbGVcbiAgICAgIHRoaXMuY3VycmVudFRhZy5wdXNoKFwiPHNwYW4gc3JjPSdcIiArIFNPVU5ERElSICsgdGhpcy5jdXJyZW50c291bmRbMF0gKyAnLicgKyB0aGlzLmN1cnJlbnRzb3VuZFsxXSArIFwiJy8+XCIpOyAvL3RvIGhvbGQgdGhlIHNvdXJjZVxuICAgICAgdGhpcy5jdXJyZW50VGFnLnB1c2goXCI8L3A+PHNjcmlwdD4kKCcjdGV4dFwiICsgKHRoaXMuYXVkaW9pZCAtIDEpICsgXCInKS5sb2FkKCdcIiArIFNPVU5ERElSICsgdGhpcy5jdXJyZW50c291bmRbMF0gKyAnLicgKyB0aGlzLmN1cnJlbnRzb3VuZFsxXSArIFwiJyk8L3NjcmlwdD5cIik7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhpcy5jdXJyZW50VGFnLnB1c2goXCI8c291cmNlIHNyYz0nXCIgKyBTT1VORERJUiArIHRoaXMuY3VycmVudHNvdW5kWzBdICsgJy4nICsgdGhpcy5jdXJyZW50c291bmRbMV0gKyBcIicgdHlwZT0nYXVkaW8vXCIpOyAvLytyb3dzcGxpdHRlZFtqKzFdK1wiJz4nO1xuICAgICAgdGhpcy5jdXJyZW50VGFnLnB1c2godGhpcy5jdXJyZW50c291bmRbMV0gKyBcIic+XCIpO1xuICAgIH1cblxuICAgIHRoaXMubGFzdHNvdW5kbmFtZSA9IHRoaXMuY3VycmVudHNvdW5kWzBdO1xuICB9XG4gIC8qXG4gIFN0aW11bHVzLnByb3RvdHlwZS5maXJzdHNjcmVlbmF1ZGlvaWQ9IGZ1bmN0aW9uKClcbiAge1xuICAvLyAgICB0aGlzLmF1ZGlvaWQgPSAwXG4gIC8vICAgIHRoaXMuZmlyc3RzY3JlZW5hdWRpb2lkID0gdGhpcy5hdWRpb2lkO1xuICB9XG4gICovXG5cbiAgdHJhbnNsYXRlWnZ1ayhyb3dzcGxpdHRlZCwgcG9yYWRpdm50aWNpbmFob2RuZSwgcmVzdWx0LCBzbG91cGNlKSB7XG4gICAgbGV0IGogPSAxO1xuICAgIHRoaXMubGFzdHNvdW5kbmFtZSA9ICcnO1xuICAgIHRoaXMudGFndHlwZSA9IHJvd3NwbGl0dGVkW2pdLnNsaWNlKHJvd3NwbGl0dGVkW2pdLmxlbmd0aCAtIDMsIHJvd3NwbGl0dGVkW2pdLmxlbmd0aCkudG9Mb3dlckNhc2UoKTsvLyB8fCByb3dzcGxpdHRlZFtqXS5zdGFydHNXaXRoKCd2XycpO1xuXG4gICAgdGhpcy50YWdzID0gW107XG4gICAgdGhpcy5jdXJyZW50VGFnID0gW107XG4gICAgdGhpcy5jdXJyZW50c291bmQgPSBbXTtcbiAgICB0aGlzLmlucHV0aW5kZXggPSAwO1xuICAgIGlmIChzbG91cGNlKSB0aGlzLmN1cnJlbnRUYWcucHVzaChcIjx0ZCBjbGFzcz0nc3RpbXVsdXMnPlwiKTtcbiAgICAvKiBvcGVuIGluaXRpYWwgdGFnICovXG4gICAgdGhpcy5vcGVuQXVkaW8oc2xvdXBjZSk7XG5cbiAgICB3aGlsZSAoaiA8IHJvd3NwbGl0dGVkLmxlbmd0aCkge1xuICAgICAgdGhpcy5jdXJyZW50c291bmQgPSByb3dzcGxpdHRlZFtqXS5zcGxpdCgnLicpO1xuICAgICAgLy9pZiAoIXF1b3RlcylcbiAgICAgIGlmICgodGhpcy5sYXN0c291bmRuYW1lID09PSAnJykgfHwgKHRoaXMubGFzdHNvdW5kbmFtZSA9PT0gdGhpcy5jdXJyZW50c291bmRbMF0pKSB7XG4gICAgICAgIC8vYWRkIG9ubHkgbmV3IHNvdXJjZSB0eXBlICh3YXYsb2dnKSwgaWYgc291bmRuYW1lIGlzIHNhbWUgYW5kIG9ubHkgZXh0ZW5zaW9uIGRpZmZlcnNcbiAgICAgICAgdGhpcy5hZGRTb3VyY2UoKTtcbiAgICAgICAgaisrO1xuICAgICAgfSBlbHNlIGlmIChyb3dzcGxpdHRlZFtqXS5zdGFydHNXaXRoKCdbJykpIHtcbiAgICAgICAgLy9pbnRlcnZhbCBvZiBwcmV2aW91cyBzb3VuZFxuICAgICAgICB0aGlzLnJlcGFpckxhc3RBdWRpbyhyb3dzcGxpdHRlZFtqXSk7XG4gICAgICAgIGorKzsgLy9za2lwIHRoZSBpbnRlcnZhbCBpbiBbLi5dXG4gICAgICB9IGVsc2Ugey8vYWRkIG5ldyBhdWRpbywgZGlmZmVyZW50IHNvdW5kIGFuZCBpdCdzIHNvdXJjZSBpZiBkaWZmZXJlbnQgbmFtZVxuICAgICAgICB0aGlzLmNsb3NlQXVkaW8oKTtcbiAgICAgICAgdGhpcy5vcGVuQXVkaW8oc2xvdXBjZSk7XG4gICAgICAgIHRoaXMuYWRkU291cmNlKCk7XG4gICAgICAgIGorKztcbiAgICAgIH1cbiAgICAgIC8vYnVnIGluIGZlYXR1cmUgIzIzNSwgbXVzdCByYW5kb21pemUgYWxzbyB0aGUgY2FzZSBvcmRlclxuICAgICAgLy9sYXN0cWNhc2UgKz0gcm93c3BsaXR0ZWRbal0gKyBcIi5cIiArIHJvd3NwbGl0dGVkW2ogKyAxXSArIFwiIFwiOyAvL2FkZHMgc291bmQgdG8gcWNhc2Ugc3RydWN0dXJlXG4gICAgfVxuICAgIC8qIGNsb3NlIGxhc3QgdGFnKi9cbiAgICB0aGlzLmNsb3NlQXVkaW8oKTtcblxuICAgIC8qIHNodWZmbGUgaWYgbmVlZGVkICovXG4gICAgaWYgKHBvcmFkaXZudGljaW5haG9kbmUpIHtcbiAgICAgIC8va2VlcCBmaXJzdCA8bmF2PixcbiAgICAgIGxldCBteXRhZyA9IHRoaXMudGFncy5zaGlmdCgpO1xuICAgICAgLy9zaHVmZmxlXG4gICAgICB0aGlzLnRhZ3Muc2h1ZmZsZSgpO1xuICAgICAgLy9hZGRzIGZpcnN0IDxuYXY+XG4gICAgICB0aGlzLnRhZ3MudW5zaGlmdChteXRhZyk7XG4gICAgfVxuICAgIC8vZ2V0cyBmaWxlbmFtZXMgZnJvbSB0aGUgdGFncyB0byBrZWVwIG9yZGVyIG9mIGNhc2VzIGluIHJlc3VsdCwgZml4IG9mIGZlYXR1cmUgIzIzNSwgZm9yIHN0YXJ0cyBmcm9tIDEsIDAgaXMgPG5hdj4sIGlmIHNsb3VwY2UgdGhlbiBzdGFydHMgZnJvbSAwIChubyA8bmF2PiBlbGVtZW50XG4gICAgLy9hZGRlZCBzbG91cGNlPzA6MSBhbmQgcGFyc2VyLnJlc3VsdC5hZGRDYXNlKCkgZml4IGJ1ZyAjMjg0XG4gICAgZm9yIChsZXQgayA9IHNsb3VwY2UgPyAwIDogMTsgayA8IHRoaXMudGFncy5sZW5ndGg7IGsrKykgcGFyc2VyLnJlc3VsdC5hZGRDYXNlKEludGVycHJldGVyLmV4dHJhY3QodGhpcy50YWdzW2tdLm1hdGNoKC9zcmM9JyhbXiddKiknLylbMV0sIFNPVU5ERElSKSArICcgJyk7XG4gICAgLy90cmFuc2xhdGVkUm93cyA9IHRhZ3Muam9pblxuICAgIHJldHVybiB0aGlzLnRhZ3Muam9pbignICcpO1xuICB9XG5cbiAgLyogZXhlY3V0aXZlIHBhcnQgb2YgdGhlIGF1ZGlvXG4gICBwbGF5aW5nIHBhcnQgb2YgdGhlIGF1ZGlvLFxuICAgYXVkaW8gZWxlbWVudCBpcyBleHBlY3RlZCBhcyB0aGUgY2FsbGluZyBhcmd1bWVudCxcbiAgIGUuZy4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215QXVkaW8nKSAqL1xuICBzdG9wQXVkaW8oYXVkaW8pIHtcbiAgICBhdWRpby5wYXVzZSgpO1xuICB9XG5cbiAgLyogc3RhcnRzIHBsYXlpbmcgYXQgXCJzdGFydFwiIHBvc2l0aW9uIGFuZCBzdG9wcyBhZnRlciBzcGVjaWZpZWQgZHVyYXRpb25cbiAgIFwic3RhcnRcIiBhbmQgXCJkdXJhdGlvblwiIGluIG1pbGxpc2Vjb25kc1xuICAgKi9cbiAgcGxheUF1ZGlvUGFydChhdWRpbywgc3RhcnQsIGR1cmF0aW9uKSB7XG4gICAgYXVkaW8uY3VycmVudFRpbWUgPSBzdGFydCAvIDEwMDA7IC8vaW4gc2Vjb25kc1xuICAgIGF1ZGlvLnBsYXkoKTtcbiAgICBzZXRUaW1lb3V0KHN0b3BBdWRpbywgZHVyYXRpb24sIGF1ZGlvKTsgLy9pbiBtaWxsaXNlY29uZHNcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQWJBO0FBQ0E7QUFEQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUF6QkE7QUFDQTtBQURBO0FBMkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBRUE7Ozs7QUFqQ0E7QUFDQTtBQURBO0FBdUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFaQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBZEE7QUFnQkE7QUF6RUE7QUFDQTtBQURBO0FBNkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBYkE7QUFlQTtBQTdGQTtBQUNBO0FBREE7QUFpR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFaQTtBQUNBO0FBQ0E7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQW5IQTtBQUNBO0FBREE7QUF1SEE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQWZBO0FBQ0E7QUFpQkE7QUFDQTtBQUNBOzs7Ozs7O0FBM0lBO0FBQ0E7QUFEQTtBQW9KQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBOzs7O0FBdk1BO0FBQ0E7QUFEQTtBQTRNQTtBQUNBO0FBRUE7OztBQS9NQTtBQUNBO0FBREE7QUFtTkE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBdk5BO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/stimulusinterpreter.js\n");

/***/ }),

/***/ "./src/environment.js":
/*!****************************!*\
  !*** ./src/environment.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  debug: true,\n  testing: true\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZW52aXJvbm1lbnQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZW52aXJvbm1lbnQuanM/Mzg1MyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XG4gIGRlYnVnOiB0cnVlLFxuICB0ZXN0aW5nOiB0cnVlXG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUZBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/environment.js\n");

/***/ }),

/***/ 0:
/*!*****************************************************************************************************************************!*\
  !*** multi aurelia-webpack-plugin/runtime/empty-entry aurelia-webpack-plugin/runtime/pal-loader-entry aurelia-bootstrapper ***!
  \*****************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! aurelia-webpack-plugin/runtime/empty-entry */"./node_modules/aurelia-webpack-plugin/runtime/empty-entry.js");
__webpack_require__(/*! aurelia-webpack-plugin/runtime/pal-loader-entry */"./node_modules/aurelia-webpack-plugin/runtime/pal-loader-entry.js");
module.exports = __webpack_require__(/*! aurelia-bootstrapper */"./node_modules/aurelia-bootstrapper/dist/native-modules/aurelia-bootstrapper.js");


/***/ }),

/***/ "app":
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
/*! exports provided: App */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"App\", function() { return App; });\n/* harmony import */ var aurelia_pal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! aurelia-pal */ \"./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js\");\n\nvar App =\n/*#__PURE__*/\nfunction () {\n  function App() {}\n\n  var _proto = App.prototype;\n\n  _proto.configureRouter = function configureRouter(config, router) {\n    config.title = 'Psychoacoustic Test Viewer Router';\n    config.map([{\n      route: ['', 'dashboard'],\n      name: 'dashboard',\n      moduleId: 'viewer/dashboard',\n      nav: true,\n      title: 'Dashboard - Select Test'\n    }, {\n      route: 'respondent',\n      name: 'respondent',\n      moduleId: 'viewer/respondent',\n      nav: false,\n      title: 'Get info about Respondent'\n    }, {\n      route: 'performtest',\n      name: 'performtest',\n      moduleId: 'viewer/performtest',\n      nav: false,\n      title: 'Perform Test'\n    }, {\n      route: 'finalize',\n      name: 'finalize',\n      moduleId: 'viewer/finalize',\n      nav: true,\n      title: 'Finalize'\n    }]);\n    this.router = router;\n  };\n\n  return App;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC5qcz8xMTEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UExBVEZPUk19IGZyb20gJ2F1cmVsaWEtcGFsJztcblxuZXhwb3J0IGNsYXNzIEFwcCB7XG5cbiAgY29uZmlndXJlUm91dGVyKGNvbmZpZywgcm91dGVyKSB7XG4gICAgY29uZmlnLnRpdGxlID0gJ1BzeWNob2Fjb3VzdGljIFRlc3QgVmlld2VyIFJvdXRlcic7XG4gICAgY29uZmlnLm1hcChbXG4gICAgICB7cm91dGU6IFsnJywgJ2Rhc2hib2FyZCddLCBuYW1lOiAnZGFzaGJvYXJkJywgbW9kdWxlSWQ6IFBMQVRGT1JNLm1vZHVsZU5hbWUoJ3ZpZXdlci9kYXNoYm9hcmQnKSwgbmF2OiB0cnVlLCB0aXRsZTogJ0Rhc2hib2FyZCAtIFNlbGVjdCBUZXN0J30sXG4gICAgICB7cm91dGU6ICdyZXNwb25kZW50JywgbmFtZTogJ3Jlc3BvbmRlbnQnLCBtb2R1bGVJZDogUExBVEZPUk0ubW9kdWxlTmFtZSgndmlld2VyL3Jlc3BvbmRlbnQnKSwgbmF2OiBmYWxzZSwgdGl0bGU6ICdHZXQgaW5mbyBhYm91dCBSZXNwb25kZW50J30sXG4gICAgICB7cm91dGU6ICdwZXJmb3JtdGVzdCcsIG5hbWU6ICdwZXJmb3JtdGVzdCcsIG1vZHVsZUlkOiBQTEFURk9STS5tb2R1bGVOYW1lKCd2aWV3ZXIvcGVyZm9ybXRlc3QnKSwgbmF2OiBmYWxzZSwgdGl0bGU6ICdQZXJmb3JtIFRlc3QnfSxcbiAgICAgIHtyb3V0ZTogJ2ZpbmFsaXplJywgbmFtZTogJ2ZpbmFsaXplJywgbW9kdWxlSWQ6IFBMQVRGT1JNLm1vZHVsZU5hbWUoJ3ZpZXdlci9maW5hbGl6ZScpLCBuYXY6IHRydWUsIHRpdGxlOiAnRmluYWxpemUnfVxuICAgIF0pO1xuICAgIHRoaXMucm91dGVyID0gcm91dGVyO1xuXG4gIH1cblxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBYkE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///app\n");

/***/ }),

/***/ "app.html":
/*!**********************!*\
  !*** ./src/app.html ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = \"<template>\\n  <require from=\\\"w3-css/w3.css\\\"></require>\\n\\n  <require from=\\\"./components/heads.css\\\"></require>\\n  <require from=\\\"./components/sharedheader.html\\\"></require>\\n  <require from=\\\"./components/sharedfooter.html\\\"></require>\\n  <require from=\\\"./components/navigation.html\\\"></require>\\n  <sharedheader></sharedheader>\\n\\n      <div class=\\\"w3-card-2 w3-white w3-margin w3-padding\\\">\\n        <router-view></router-view>\\n      </div>\\n\\n\\n  <sharedfooter></sharedfooter>\\n\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmh0bWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBwLmh0bWw/NDVhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHRlbXBsYXRlPlxcbiAgPHJlcXVpcmUgZnJvbT1cXFwidzMtY3NzL3czLmNzc1xcXCI+PC9yZXF1aXJlPlxcblxcbiAgPHJlcXVpcmUgZnJvbT1cXFwiLi9jb21wb25lbnRzL2hlYWRzLmNzc1xcXCI+PC9yZXF1aXJlPlxcbiAgPHJlcXVpcmUgZnJvbT1cXFwiLi9jb21wb25lbnRzL3NoYXJlZGhlYWRlci5odG1sXFxcIj48L3JlcXVpcmU+XFxuICA8cmVxdWlyZSBmcm9tPVxcXCIuL2NvbXBvbmVudHMvc2hhcmVkZm9vdGVyLmh0bWxcXFwiPjwvcmVxdWlyZT5cXG4gIDxyZXF1aXJlIGZyb209XFxcIi4vY29tcG9uZW50cy9uYXZpZ2F0aW9uLmh0bWxcXFwiPjwvcmVxdWlyZT5cXG4gIDxzaGFyZWRoZWFkZXI+PC9zaGFyZWRoZWFkZXI+XFxuXFxuICAgICAgPGRpdiBjbGFzcz1cXFwidzMtY2FyZC0yIHczLXdoaXRlIHczLW1hcmdpbiB3My1wYWRkaW5nXFxcIj5cXG4gICAgICAgIDxyb3V0ZXItdmlldz48L3JvdXRlci12aWV3PlxcbiAgICAgIDwvZGl2PlxcblxcblxcbiAgPHNoYXJlZGZvb3Rlcj48L3NoYXJlZGZvb3Rlcj5cXG5cXG48L3RlbXBsYXRlPlxcblwiOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///app.html\n");

/***/ }),

/***/ "components/heads.css":
/*!**********************************!*\
  !*** ./src/components/heads.css ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../../node_modules/css-loader/lib/css-base.js */ \"./node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.i, \"nav {\\n  float:right!important;\\n  border-radius:8px!important;\\n}\\n\\nnav ul {\\n  margin: 0;\\n  padding: 0;\\n  list-style: none;\\n}\\n\\nnav a:link,\\nnav a:visited {\\n  color: #f0f0f0;\\n  text-decoration: none;\\n}\\n\\nnav li li a:link,\\nnav li li a:visited {\\n  color: #303030;\\n  text-decoration: none;\\n  padding: 6px 8px;\\n}\\n\\nnav a {\\n  display: block;\\n\\n}\\n\\nnav li {\\n  font-family: 'Lato', sans-serif;\\n  font-weight: 400;\\n  float: left;\\n  background-color: #393b3e;\\n  color:#f0f0f0 !important;\\n  margin-right: 0px;\\n  position: relative;\\n  padding: 0.9em;\\n}\\n\\nnav li li{\\n  width: 160px;\\n  z-index:4;\\n  background-color:#f0f0f0;\\n  padding: 0;\\n}\\n\\nnav li:hover {\\n  background-color: #55afff;\\n}\\nnav li li:hover {\\n  background-color: #757575;\\n}\\n\\n\\nnav ul ul  {\\n  position: absolute;\\n  visibility: hidden;\\n}\\n\\nnav ul ul ul{\\n  position: absolute;\\n  right: 100%;\\n  top: -2px;\\n  border: solid 1px transparent;\\n}\\n\\nnav li:hover > ul {\\n  visibility: visible;\\n}\\n\\nbody {\\n  line-height: 1.5;\\n  font-size:15px;\\n  margin:0;\\n}\\n\\n.vf-black {\\n  color:#fff!important;\\n  background-color:#000!important;\\n}\\n.vf-modal{z-index:3;display:none;padding-top:100px;position:fixed;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgb(0,0,0);background-color:rgba(0,0,0,0.4)}\\n.vf-modal-content{margin:auto;background-color:#fff;position:relative;padding:0;outline:0;width:600px}.w3-closebtn{text-decoration:none;float:right;font-size:24px;font-weight:bold;color:inherit}\\n.vf-sand{color:#000!important;background-color:#fdf5e6!important}\\n.vf-card-2{}\\n.vf-white{color:#000!important;background-color:#fff!important}\\n.vf-right-border{\\n  border-top-right-radius: 16px;\\n  border-bottom-right-radius: 16px;\\n}\\n\\n.\\n\\n/* Animations */\\n@keyframes SlideInRight {\\n  0% {\\n    transform: translateX(100%);\\n  }\\n\\n  100% {\\n    transform: translateX(0);\\n  }\\n}\\n\\n@keyframes SlideOutRight {\\n  0% {\\n    transform: translateX(0);\\n  }\\n\\n  100% {\\n    transform: translateX(100%);\\n  }\\n}\\n\\n@keyframes SlideInLeft {\\n  0% {\\n    transform: translateX(-100%);\\n  }\\n\\n  100% {\\n    transform: translateX(0);\\n  }\\n}\\n\\n@keyframes SlideOutLeft {\\n  0% {\\n    transform: translateX(0);\\n  }\\n\\n  100% {\\n    transform: translateX(-100%);\\n  }\\n}\\n\\n@keyframes FadeIn {\\n  0% {\\n    opacity: 0;\\n  }\\n\\n  100% {\\n    opacity: 1;\\n  }\\n}\\n\\n@keyframes FadeOut {\\n  0% {\\n    opacity: 1;\\n  }\\n\\n  100% {\\n    opacity: 0;\\n  }\\n}\\n\\n.animate-slide-in-right.au-enter {\\n  transform: translateX(100%);\\n}\\n\\n.animate-slide-in-right.au-enter-active {\\n  animation: SlideInRight 1s;\\n}\\n\\n.animate-slide-out-right.au-leave-active {\\n  animation: SlideOutRight 1s;\\n}\\n\\n.animate-slide-in-left.au-enter {\\n  transform: translateX(-100%);\\n}\\n\\n.animate-slide-in-left.au-enter-active {\\n  animation: SlideInLeft 1s;\\n}\\n\\n.animate-slide-out-left.au-leave-active {\\n  animation: SlideOutLeft 1s;\\n}\\n\\n.animate-fade-in.au-enter {\\n  opacity: 0;\\n}\\n\\n.animate-fade-in.au-enter-active {\\n  animation: FadeIn 1s;\\n}\\n\\n.animate-fade-out.au-leave-active {\\n  animation: FadeOut 1s;\\n}\\n\", \"\"]);\n\n// exports\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy9oZWFkcy5jc3MuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9oZWFkcy5jc3M/MDI1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIm5hdiB7XFxuICBmbG9hdDpyaWdodCFpbXBvcnRhbnQ7XFxuICBib3JkZXItcmFkaXVzOjhweCFpbXBvcnRhbnQ7XFxufVxcblxcbm5hdiB1bCB7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbiAgbGlzdC1zdHlsZTogbm9uZTtcXG59XFxuXFxubmF2IGE6bGluayxcXG5uYXYgYTp2aXNpdGVkIHtcXG4gIGNvbG9yOiAjZjBmMGYwO1xcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbn1cXG5cXG5uYXYgbGkgbGkgYTpsaW5rLFxcbm5hdiBsaSBsaSBhOnZpc2l0ZWQge1xcbiAgY29sb3I6ICMzMDMwMzA7XFxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICBwYWRkaW5nOiA2cHggOHB4O1xcbn1cXG5cXG5uYXYgYSB7XFxuICBkaXNwbGF5OiBibG9jaztcXG5cXG59XFxuXFxubmF2IGxpIHtcXG4gIGZvbnQtZmFtaWx5OiAnTGF0bycsIHNhbnMtc2VyaWY7XFxuICBmb250LXdlaWdodDogNDAwO1xcbiAgZmxvYXQ6IGxlZnQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzkzYjNlO1xcbiAgY29sb3I6I2YwZjBmMCAhaW1wb3J0YW50O1xcbiAgbWFyZ2luLXJpZ2h0OiAwcHg7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBwYWRkaW5nOiAwLjllbTtcXG59XFxuXFxubmF2IGxpIGxpe1xcbiAgd2lkdGg6IDE2MHB4O1xcbiAgei1pbmRleDo0O1xcbiAgYmFja2dyb3VuZC1jb2xvcjojZjBmMGYwO1xcbiAgcGFkZGluZzogMDtcXG59XFxuXFxubmF2IGxpOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM1NWFmZmY7XFxufVxcbm5hdiBsaSBsaTpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNzU3NTc1O1xcbn1cXG5cXG5cXG5uYXYgdWwgdWwgIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHZpc2liaWxpdHk6IGhpZGRlbjtcXG59XFxuXFxubmF2IHVsIHVsIHVse1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcmlnaHQ6IDEwMCU7XFxuICB0b3A6IC0ycHg7XFxuICBib3JkZXI6IHNvbGlkIDFweCB0cmFuc3BhcmVudDtcXG59XFxuXFxubmF2IGxpOmhvdmVyID4gdWwge1xcbiAgdmlzaWJpbGl0eTogdmlzaWJsZTtcXG59XFxuXFxuYm9keSB7XFxuICBsaW5lLWhlaWdodDogMS41O1xcbiAgZm9udC1zaXplOjE1cHg7XFxuICBtYXJnaW46MDtcXG59XFxuXFxuLnZmLWJsYWNrIHtcXG4gIGNvbG9yOiNmZmYhaW1wb3J0YW50O1xcbiAgYmFja2dyb3VuZC1jb2xvcjojMDAwIWltcG9ydGFudDtcXG59XFxuLnZmLW1vZGFse3otaW5kZXg6MztkaXNwbGF5Om5vbmU7cGFkZGluZy10b3A6MTAwcHg7cG9zaXRpb246Zml4ZWQ7bGVmdDowO3RvcDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7b3ZlcmZsb3c6YXV0bztiYWNrZ3JvdW5kLWNvbG9yOnJnYigwLDAsMCk7YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLDAuNCl9XFxuLnZmLW1vZGFsLWNvbnRlbnR7bWFyZ2luOmF1dG87YmFja2dyb3VuZC1jb2xvcjojZmZmO3Bvc2l0aW9uOnJlbGF0aXZlO3BhZGRpbmc6MDtvdXRsaW5lOjA7d2lkdGg6NjAwcHh9LnczLWNsb3NlYnRue3RleHQtZGVjb3JhdGlvbjpub25lO2Zsb2F0OnJpZ2h0O2ZvbnQtc2l6ZToyNHB4O2ZvbnQtd2VpZ2h0OmJvbGQ7Y29sb3I6aW5oZXJpdH1cXG4udmYtc2FuZHtjb2xvcjojMDAwIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOiNmZGY1ZTYhaW1wb3J0YW50fVxcbi52Zi1jYXJkLTJ7fVxcbi52Zi13aGl0ZXtjb2xvcjojMDAwIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmYhaW1wb3J0YW50fVxcbi52Zi1yaWdodC1ib3JkZXJ7XFxuICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMTZweDtcXG4gIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAxNnB4O1xcbn1cXG5cXG4uXFxuXFxuLyogQW5pbWF0aW9ucyAqL1xcbkBrZXlmcmFtZXMgU2xpZGVJblJpZ2h0IHtcXG4gIDAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpO1xcbiAgfVxcblxcbiAgMTAwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTtcXG4gIH1cXG59XFxuXFxuQGtleWZyYW1lcyBTbGlkZU91dFJpZ2h0IHtcXG4gIDAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApO1xcbiAgfVxcblxcbiAgMTAwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgxMDAlKTtcXG4gIH1cXG59XFxuXFxuQGtleWZyYW1lcyBTbGlkZUluTGVmdCB7XFxuICAwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSk7XFxuICB9XFxuXFxuICAxMDAlIHtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApO1xcbiAgfVxcbn1cXG5cXG5Aa2V5ZnJhbWVzIFNsaWRlT3V0TGVmdCB7XFxuICAwJSB7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTtcXG4gIH1cXG5cXG4gIDEwMCUge1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTEwMCUpO1xcbiAgfVxcbn1cXG5cXG5Aa2V5ZnJhbWVzIEZhZGVJbiB7XFxuICAwJSB7XFxuICAgIG9wYWNpdHk6IDA7XFxuICB9XFxuXFxuICAxMDAlIHtcXG4gICAgb3BhY2l0eTogMTtcXG4gIH1cXG59XFxuXFxuQGtleWZyYW1lcyBGYWRlT3V0IHtcXG4gIDAlIHtcXG4gICAgb3BhY2l0eTogMTtcXG4gIH1cXG5cXG4gIDEwMCUge1xcbiAgICBvcGFjaXR5OiAwO1xcbiAgfVxcbn1cXG5cXG4uYW5pbWF0ZS1zbGlkZS1pbi1yaWdodC5hdS1lbnRlciB7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7XFxufVxcblxcbi5hbmltYXRlLXNsaWRlLWluLXJpZ2h0LmF1LWVudGVyLWFjdGl2ZSB7XFxuICBhbmltYXRpb246IFNsaWRlSW5SaWdodCAxcztcXG59XFxuXFxuLmFuaW1hdGUtc2xpZGUtb3V0LXJpZ2h0LmF1LWxlYXZlLWFjdGl2ZSB7XFxuICBhbmltYXRpb246IFNsaWRlT3V0UmlnaHQgMXM7XFxufVxcblxcbi5hbmltYXRlLXNsaWRlLWluLWxlZnQuYXUtZW50ZXIge1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xMDAlKTtcXG59XFxuXFxuLmFuaW1hdGUtc2xpZGUtaW4tbGVmdC5hdS1lbnRlci1hY3RpdmUge1xcbiAgYW5pbWF0aW9uOiBTbGlkZUluTGVmdCAxcztcXG59XFxuXFxuLmFuaW1hdGUtc2xpZGUtb3V0LWxlZnQuYXUtbGVhdmUtYWN0aXZlIHtcXG4gIGFuaW1hdGlvbjogU2xpZGVPdXRMZWZ0IDFzO1xcbn1cXG5cXG4uYW5pbWF0ZS1mYWRlLWluLmF1LWVudGVyIHtcXG4gIG9wYWNpdHk6IDA7XFxufVxcblxcbi5hbmltYXRlLWZhZGUtaW4uYXUtZW50ZXItYWN0aXZlIHtcXG4gIGFuaW1hdGlvbjogRmFkZUluIDFzO1xcbn1cXG5cXG4uYW5pbWF0ZS1mYWRlLW91dC5hdS1sZWF2ZS1hY3RpdmUge1xcbiAgYW5pbWF0aW9uOiBGYWRlT3V0IDFzO1xcbn1cXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///components/heads.css\n");

/***/ }),

/***/ "components/navigation.html":
/*!****************************************!*\
  !*** ./src/components/navigation.html ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template bindable=\\\"router\\\">\\n  <div class=\\\"w3-bar-block w3-black\\\">\\n    <!--a class='w3-bar-item w3-button w3-white w3-padding-0 w3-border-bottom' href=\\\"/\\\"><irep></irep>Repository Home</a-->\\n    <div class=\\\"w3-bar-item w3-white w3-padding-0 w3-border-bottom\\\">navigation:</div>\\n    <a repeat.for=\\\"row of router.navigation\\\" class=\\\"${row.isActive ? 'w3-bar-item w3-button w3-blue' : 'w3-bar-item w3-button w3-white'}\\\" href.bind=\\\"row.href\\\">${row.title}</a>\\n  </div>\\n</template>\\n\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy9uYXZpZ2F0aW9uLmh0bWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9uYXZpZ2F0aW9uLmh0bWw/YTE5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHRlbXBsYXRlIGJpbmRhYmxlPVxcXCJyb3V0ZXJcXFwiPlxcbiAgPGRpdiBjbGFzcz1cXFwidzMtYmFyLWJsb2NrIHczLWJsYWNrXFxcIj5cXG4gICAgPCEtLWEgY2xhc3M9J3czLWJhci1pdGVtIHczLWJ1dHRvbiB3My13aGl0ZSB3My1wYWRkaW5nLTAgdzMtYm9yZGVyLWJvdHRvbScgaHJlZj1cXFwiL1xcXCI+PGlyZXA+PC9pcmVwPlJlcG9zaXRvcnkgSG9tZTwvYS0tPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ3My1iYXItaXRlbSB3My13aGl0ZSB3My1wYWRkaW5nLTAgdzMtYm9yZGVyLWJvdHRvbVxcXCI+bmF2aWdhdGlvbjo8L2Rpdj5cXG4gICAgPGEgcmVwZWF0LmZvcj1cXFwicm93IG9mIHJvdXRlci5uYXZpZ2F0aW9uXFxcIiBjbGFzcz1cXFwiJHtyb3cuaXNBY3RpdmUgPyAndzMtYmFyLWl0ZW0gdzMtYnV0dG9uIHczLWJsdWUnIDogJ3czLWJhci1pdGVtIHczLWJ1dHRvbiB3My13aGl0ZSd9XFxcIiBocmVmLmJpbmQ9XFxcInJvdy5ocmVmXFxcIj4ke3Jvdy50aXRsZX08L2E+XFxuICA8L2Rpdj5cXG48L3RlbXBsYXRlPlxcblxcblwiOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///components/navigation.html\n");

/***/ }),

/***/ "components/sharedfooter.html":
/*!******************************************!*\
  !*** ./src/components/sharedfooter.html ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template>\\n<footer>\\n    <div class=\\\"w3-clear w3-margin-top\\\"></div>\\n    <!--div class=\\\"w3-center w3-black w3-bottom w3-bottombar\\\">\\n        Psychoacoustic test documentation at <a href=\\\"https://tomaskulhanek.gitbooks.io/psychoacoustic-test-system-documentation/content/\\\" target=\\\"_blank\\\">gitbooks.io</a>\\n    </div-->\\n</footer>\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy9zaGFyZWRmb290ZXIuaHRtbC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3NoYXJlZGZvb3Rlci5odG1sPzk1ZjYiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjx0ZW1wbGF0ZT5cXG48Zm9vdGVyPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJ3My1jbGVhciB3My1tYXJnaW4tdG9wXFxcIj48L2Rpdj5cXG4gICAgPCEtLWRpdiBjbGFzcz1cXFwidzMtY2VudGVyIHczLWJsYWNrIHczLWJvdHRvbSB3My1ib3R0b21iYXJcXFwiPlxcbiAgICAgICAgUHN5Y2hvYWNvdXN0aWMgdGVzdCBkb2N1bWVudGF0aW9uIGF0IDxhIGhyZWY9XFxcImh0dHBzOi8vdG9tYXNrdWxoYW5lay5naXRib29rcy5pby9wc3ljaG9hY291c3RpYy10ZXN0LXN5c3RlbS1kb2N1bWVudGF0aW9uL2NvbnRlbnQvXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCI+Z2l0Ym9va3MuaW88L2E+XFxuICAgIDwvZGl2LS0+XFxuPC9mb290ZXI+XFxuPC90ZW1wbGF0ZT5cXG5cIjsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///components/sharedfooter.html\n");

/***/ }),

/***/ "components/sharedheader.html":
/*!******************************************!*\
  !*** ./src/components/sharedheader.html ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template>\\n  <div class=\\\"vf-white\\\">\\n    <!--a href=\\\"/\\\">\\n      <picture>\\n\\n        <img class=\\\"logo\\\" style=\\\"height:60px\\\" src=\\\"/img/westlife-logo.png\\\" alt=\\\"brand logo\\\">\\n      </picture>\\n\\n    </a>\\n    <nav class=\\\"vf-white\\\">\\n\\n      <ul>\\n        <li class=\\\"nav-item\\\"><a href=\\\"/\\\">Psycho acoustic Test</a></li>\\n      </ul>\\n\\n    </nav>\\n    <div id=\\\"id01\\\" class=\\\"vf-modal\\\">\\n      <div class=\\\"vf-modal-content vf-card-2\\\">\\n        <header class=\\\"vf-sand\\\">\\n        <span onclick=\\\"document.getElementById('id01').style.display='none'\\\"\\n              class=\\\"w3-button w3-display-topright\\\">&times;</span>\\n          <h3>Psychoacoustic Test </h3>\\n        </header>\\n        <div class=\\\"vf-white\\\">\\n          <table>\\n            <tr>\\n              <td style=\\\"text-align: right\\\">Version:</td>\\n              <td>17.09</td>\\n            </tr>\\n            <tr>\\n              <td style=\\\"text-align: right\\\">Sources:</td>\\n              <td><a href=\\\"https://github.com/HAMU-Psychotest\\\">github.com/HAMU-Psychotest</a></td>\\n            </tr>\\n            <tr>\\n              <td style=\\\"text-align: right\\\">Authors:</td>\\n              <td>Tomas Kulhanek</td>\\n            </tr>\\n            <tr>\\n              <td style=\\\"text-align: right\\\">Ackn.:</td>\\n              <td>Frontend: Aurelia framework, W3.CSS, Icons made by Freepik from www.flaticon.com\\n              </td>\\n            </tr>\\n          </table>\\n        </div>\\n        <footer class=\\\"vf-sand\\\">\\n          <a rel=\\\"license\\\" href=\\\"http://creativecommons.org/licenses/by/4.0/\\\"><img alt=\\\"Creative Commons License\\\"\\n                                                                                   style=\\\"border-width:0\\\"\\n                                                                                   src=\\\"https://i.creativecommons.org/l/by/4.0/88x31.png\\\"/></a>This\\n          work is licensed under a <a rel=\\\"license\\\" href=\\\"http://creativecommons.org/licenses/by/4.0/\\\">Creative Commons\\n          Attribution 4.0 International License</a>.\\n        </footer>\\n      </div>\\n    </div-->\\n\\n  </div>\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50cy9zaGFyZWRoZWFkZXIuaHRtbC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3NoYXJlZGhlYWRlci5odG1sP2JiYzIiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjx0ZW1wbGF0ZT5cXG4gIDxkaXYgY2xhc3M9XFxcInZmLXdoaXRlXFxcIj5cXG4gICAgPCEtLWEgaHJlZj1cXFwiL1xcXCI+XFxuICAgICAgPHBpY3R1cmU+XFxuXFxuICAgICAgICA8aW1nIGNsYXNzPVxcXCJsb2dvXFxcIiBzdHlsZT1cXFwiaGVpZ2h0OjYwcHhcXFwiIHNyYz1cXFwiL2ltZy93ZXN0bGlmZS1sb2dvLnBuZ1xcXCIgYWx0PVxcXCJicmFuZCBsb2dvXFxcIj5cXG4gICAgICA8L3BpY3R1cmU+XFxuXFxuICAgIDwvYT5cXG4gICAgPG5hdiBjbGFzcz1cXFwidmYtd2hpdGVcXFwiPlxcblxcbiAgICAgIDx1bD5cXG4gICAgICAgIDxsaSBjbGFzcz1cXFwibmF2LWl0ZW1cXFwiPjxhIGhyZWY9XFxcIi9cXFwiPlBzeWNobyBhY291c3RpYyBUZXN0PC9hPjwvbGk+XFxuICAgICAgPC91bD5cXG5cXG4gICAgPC9uYXY+XFxuICAgIDxkaXYgaWQ9XFxcImlkMDFcXFwiIGNsYXNzPVxcXCJ2Zi1tb2RhbFxcXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwidmYtbW9kYWwtY29udGVudCB2Zi1jYXJkLTJcXFwiPlxcbiAgICAgICAgPGhlYWRlciBjbGFzcz1cXFwidmYtc2FuZFxcXCI+XFxuICAgICAgICA8c3BhbiBvbmNsaWNrPVxcXCJkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWQwMScpLnN0eWxlLmRpc3BsYXk9J25vbmUnXFxcIlxcbiAgICAgICAgICAgICAgY2xhc3M9XFxcInczLWJ1dHRvbiB3My1kaXNwbGF5LXRvcHJpZ2h0XFxcIj4mdGltZXM7PC9zcGFuPlxcbiAgICAgICAgICA8aDM+UHN5Y2hvYWNvdXN0aWMgVGVzdCA8L2gzPlxcbiAgICAgICAgPC9oZWFkZXI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ2Zi13aGl0ZVxcXCI+XFxuICAgICAgICAgIDx0YWJsZT5cXG4gICAgICAgICAgICA8dHI+XFxuICAgICAgICAgICAgICA8dGQgc3R5bGU9XFxcInRleHQtYWxpZ246IHJpZ2h0XFxcIj5WZXJzaW9uOjwvdGQ+XFxuICAgICAgICAgICAgICA8dGQ+MTcuMDk8L3RkPlxcbiAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICAgICAgPHRyPlxcbiAgICAgICAgICAgICAgPHRkIHN0eWxlPVxcXCJ0ZXh0LWFsaWduOiByaWdodFxcXCI+U291cmNlczo8L3RkPlxcbiAgICAgICAgICAgICAgPHRkPjxhIGhyZWY9XFxcImh0dHBzOi8vZ2l0aHViLmNvbS9IQU1VLVBzeWNob3Rlc3RcXFwiPmdpdGh1Yi5jb20vSEFNVS1Qc3ljaG90ZXN0PC9hPjwvdGQ+XFxuICAgICAgICAgICAgPC90cj5cXG4gICAgICAgICAgICA8dHI+XFxuICAgICAgICAgICAgICA8dGQgc3R5bGU9XFxcInRleHQtYWxpZ246IHJpZ2h0XFxcIj5BdXRob3JzOjwvdGQ+XFxuICAgICAgICAgICAgICA8dGQ+VG9tYXMgS3VsaGFuZWs8L3RkPlxcbiAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICAgICAgPHRyPlxcbiAgICAgICAgICAgICAgPHRkIHN0eWxlPVxcXCJ0ZXh0LWFsaWduOiByaWdodFxcXCI+QWNrbi46PC90ZD5cXG4gICAgICAgICAgICAgIDx0ZD5Gcm9udGVuZDogQXVyZWxpYSBmcmFtZXdvcmssIFczLkNTUywgSWNvbnMgbWFkZSBieSBGcmVlcGlrIGZyb20gd3d3LmZsYXRpY29uLmNvbVxcbiAgICAgICAgICAgICAgPC90ZD5cXG4gICAgICAgICAgICA8L3RyPlxcbiAgICAgICAgICA8L3RhYmxlPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8Zm9vdGVyIGNsYXNzPVxcXCJ2Zi1zYW5kXFxcIj5cXG4gICAgICAgICAgPGEgcmVsPVxcXCJsaWNlbnNlXFxcIiBocmVmPVxcXCJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS80LjAvXFxcIj48aW1nIGFsdD1cXFwiQ3JlYXRpdmUgQ29tbW9ucyBMaWNlbnNlXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XFxcImJvcmRlci13aWR0aDowXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPVxcXCJodHRwczovL2kuY3JlYXRpdmVjb21tb25zLm9yZy9sL2J5LzQuMC84OHgzMS5wbmdcXFwiLz48L2E+VGhpc1xcbiAgICAgICAgICB3b3JrIGlzIGxpY2Vuc2VkIHVuZGVyIGEgPGEgcmVsPVxcXCJsaWNlbnNlXFxcIiBocmVmPVxcXCJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS80LjAvXFxcIj5DcmVhdGl2ZSBDb21tb25zXFxuICAgICAgICAgIEF0dHJpYnV0aW9uIDQuMCBJbnRlcm5hdGlvbmFsIExpY2Vuc2U8L2E+LlxcbiAgICAgICAgPC9mb290ZXI+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2LS0+XFxuXFxuICA8L2Rpdj5cXG48L3RlbXBsYXRlPlxcblwiOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///components/sharedheader.html\n");

/***/ }),

/***/ "main":
/*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
/*! exports provided: configure */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"configure\", function() { return configure; });\n/* harmony import */ var _babel_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/polyfill */ \"./node_modules/@babel/polyfill/lib/index.js\");\n/* harmony import */ var _babel_polyfill__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_polyfill__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./environment */ \"./src/environment.js\");\n/* harmony import */ var aurelia_pal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! aurelia-pal */ \"./node_modules/aurelia-pal/dist/native-modules/aurelia-pal.js\");\n/* harmony import */ var bluebird__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bluebird */ \"./node_modules/bluebird/js/browser/bluebird.js-exposed\");\n/* harmony import */ var bluebird__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(bluebird__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n // remove out if you don't want a Promise polyfill (remove also from webpack.config.js)\n\nbluebird__WEBPACK_IMPORTED_MODULE_3__[\"config\"]({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\nfunction configure(aurelia) {\n  aurelia.use.standardConfiguration().feature('resources/index').plugin('aurelia-animator-css'); // Uncomment the line below to enable animation.\n  // aurelia.use.plugin(PLATFORM.moduleName('aurelia-animator-css'));\n  // if the css animator is enabled, add swap-order=\"after\" to all router-view elements\n  // Anyone wanting to use HTMLImports to load views, will need to install the following plugin.\n  // aurelia.use.plugin(PLATFORM.moduleName('aurelia-html-import-template-loader'));\n\n  aurelia.use.developmentLogging(_environment__WEBPACK_IMPORTED_MODULE_1__[\"default\"].debug ? 'debug' : 'warn');\n\n  if (_environment__WEBPACK_IMPORTED_MODULE_1__[\"default\"].testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  return aurelia.start().then(function () {\n    return aurelia.setRoot('app');\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9tYWluLmpzPzU2ZDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdAYmFiZWwvcG9seWZpbGwnO1xuaW1wb3J0IGVudmlyb25tZW50IGZyb20gJy4vZW52aXJvbm1lbnQnO1xuaW1wb3J0IHtQTEFURk9STX0gZnJvbSAnYXVyZWxpYS1wYWwnO1xuaW1wb3J0ICogYXMgQmx1ZWJpcmQgZnJvbSAnYmx1ZWJpcmQnO1xuXG4vLyByZW1vdmUgb3V0IGlmIHlvdSBkb24ndCB3YW50IGEgUHJvbWlzZSBwb2x5ZmlsbCAocmVtb3ZlIGFsc28gZnJvbSB3ZWJwYWNrLmNvbmZpZy5qcylcbkJsdWViaXJkLmNvbmZpZyh7IHdhcm5pbmdzOiB7IHdGb3Jnb3R0ZW5SZXR1cm46IGZhbHNlIH0gfSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25maWd1cmUoYXVyZWxpYSkge1xuICBhdXJlbGlhLnVzZVxuICAgIC5zdGFuZGFyZENvbmZpZ3VyYXRpb24oKVxuICAgIC5mZWF0dXJlKFBMQVRGT1JNLm1vZHVsZU5hbWUoJ3Jlc291cmNlcy9pbmRleCcpKVxuICAgIC5wbHVnaW4oUExBVEZPUk0ubW9kdWxlTmFtZShcImF1cmVsaWEtYW5pbWF0b3ItY3NzXCIpKTtcblxuICAvLyBVbmNvbW1lbnQgdGhlIGxpbmUgYmVsb3cgdG8gZW5hYmxlIGFuaW1hdGlvbi5cbiAgLy8gYXVyZWxpYS51c2UucGx1Z2luKFBMQVRGT1JNLm1vZHVsZU5hbWUoJ2F1cmVsaWEtYW5pbWF0b3ItY3NzJykpO1xuICAvLyBpZiB0aGUgY3NzIGFuaW1hdG9yIGlzIGVuYWJsZWQsIGFkZCBzd2FwLW9yZGVyPVwiYWZ0ZXJcIiB0byBhbGwgcm91dGVyLXZpZXcgZWxlbWVudHNcblxuICAvLyBBbnlvbmUgd2FudGluZyB0byB1c2UgSFRNTEltcG9ydHMgdG8gbG9hZCB2aWV3cywgd2lsbCBuZWVkIHRvIGluc3RhbGwgdGhlIGZvbGxvd2luZyBwbHVnaW4uXG4gIC8vIGF1cmVsaWEudXNlLnBsdWdpbihQTEFURk9STS5tb2R1bGVOYW1lKCdhdXJlbGlhLWh0bWwtaW1wb3J0LXRlbXBsYXRlLWxvYWRlcicpKTtcblxuICBhdXJlbGlhLnVzZS5kZXZlbG9wbWVudExvZ2dpbmcoZW52aXJvbm1lbnQuZGVidWcgPyAnZGVidWcnIDogJ3dhcm4nKTtcblxuICBpZiAoZW52aXJvbm1lbnQudGVzdGluZykge1xuICAgIGF1cmVsaWEudXNlLnBsdWdpbihQTEFURk9STS5tb2R1bGVOYW1lKCdhdXJlbGlhLXRlc3RpbmcnKSk7XG4gIH1cblxuICByZXR1cm4gYXVyZWxpYS5zdGFydCgpLnRoZW4oKCkgPT4gYXVyZWxpYS5zZXRSb290KFBMQVRGT1JNLm1vZHVsZU5hbWUoJ2FwcCcpKSk7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///main\n");

/***/ }),

/***/ "resources/index":
/*!********************************!*\
  !*** ./src/resources/index.js ***!
  \********************************/
/*! exports provided: configure */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"configure\", function() { return configure; });\nfunction configure(config) {//config.globalResources([]);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzb3VyY2VzL2luZGV4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3Jlc291cmNlcy9pbmRleC5qcz85NzVlIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBjb25maWd1cmUoY29uZmlnKSB7XG4gIC8vY29uZmlnLmdsb2JhbFJlc291cmNlcyhbXSk7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///resources/index\n");

/***/ }),

/***/ "viewer/dashboard":
/*!*********************************!*\
  !*** ./src/viewer/dashboard.js ***!
  \*********************************/
/*! exports provided: Dashboard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Dashboard\", function() { return Dashboard; });\nvar Dashboard = function Dashboard() {\n  this.tests = [{\n    title: \"demoGRBAS test\"\n  }, {\n    title: \"demo acoustic test\"\n  }];\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyL2Rhc2hib2FyZC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy92aWV3ZXIvZGFzaGJvYXJkLmpzPzQ0NGQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIERhc2hib2FyZCB7XG5cbiAgY29uc3RydWN0b3IoKXtcbiAgICB0aGlzLnRlc3RzPVt7dGl0bGU6XCJkZW1vR1JCQVMgdGVzdFwifSx7dGl0bGU6XCJkZW1vIGFjb3VzdGljIHRlc3RcIn1dO1xuICB9XG59XG5cblxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///viewer/dashboard\n");

/***/ }),

/***/ "viewer/dashboard.html":
/*!***********************************!*\
  !*** ./src/viewer/dashboard.html ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template>\\n  <div class=\\\"au-animate animate-fade-in animate-fade-out\\\">\\n    <p>Vyberte psychoakustický test:</p>\\n    <ul>\\n      <li repeat.for=\\\"test of tests\\\">\\n        <a class=\\\"w3-pale-green w3-button\\\" route-href=\\\"route: respondent\\\">${test.title}<inext></inext></a>\\n      </li>\\n    </ul>\\n  </div>\\n\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyL2Rhc2hib2FyZC5odG1sLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9kYXNoYm9hcmQuaHRtbD9jYmZiIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8dGVtcGxhdGU+XFxuICA8ZGl2IGNsYXNzPVxcXCJhdS1hbmltYXRlIGFuaW1hdGUtZmFkZS1pbiBhbmltYXRlLWZhZGUtb3V0XFxcIj5cXG4gICAgPHA+VnliZXJ0ZSBwc3ljaG9ha3VzdGlja8O9IHRlc3Q6PC9wPlxcbiAgICA8dWw+XFxuICAgICAgPGxpIHJlcGVhdC5mb3I9XFxcInRlc3Qgb2YgdGVzdHNcXFwiPlxcbiAgICAgICAgPGEgY2xhc3M9XFxcInczLXBhbGUtZ3JlZW4gdzMtYnV0dG9uXFxcIiByb3V0ZS1ocmVmPVxcXCJyb3V0ZTogcmVzcG9uZGVudFxcXCI+JHt0ZXN0LnRpdGxlfTxpbmV4dD48L2luZXh0PjwvYT5cXG4gICAgICA8L2xpPlxcbiAgICA8L3VsPlxcbiAgPC9kaXY+XFxuXFxuPC90ZW1wbGF0ZT5cXG5cIjsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///viewer/dashboard.html\n");

/***/ }),

/***/ "viewer/finalize":
/*!********************************!*\
  !*** ./src/viewer/finalize.js ***!
  \********************************/
/*! exports provided: Finalize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Finalize\", function() { return Finalize; });\nvar Finalize = function Finalize() {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyL2ZpbmFsaXplLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9maW5hbGl6ZS5qcz8yNjNmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBGaW5hbGl6ZSB7XG5cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///viewer/finalize\n");

/***/ }),

/***/ "viewer/finalize.html":
/*!**********************************!*\
  !*** ./src/viewer/finalize.html ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template>\\n  <div  class=\\\"au-animate animate-fade-in animate-fade-out\\\">\\n    <p align=\\\"center\\\">Děkujeme za vyplnění testu.</p>\\n    <p></p>\\n    <p align=\\\"center\\\">Pokud chcete test opakovat, jdete na <a class=\\\"w3-pale-green w3-button\\\" route-href=\\\"route: respondent\\\">Restart same test <inext></inext></a>\\n    <p align=\\\"center\\\">nebo vybrat jiný test, klikněte zde:<a class=\\\"w3-pale-green w3-button\\\" route-href=\\\"route: dashboard\\\">Select another test <inext></inext></a>\\n    <p align=\\\"center\\\">Pro ukončení, zavřete okno prohlížeče</p>\\n    </p>\\n  </div>\\n\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyL2ZpbmFsaXplLmh0bWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL2ZpbmFsaXplLmh0bWw/N2Q5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHRlbXBsYXRlPlxcbiAgPGRpdiAgY2xhc3M9XFxcImF1LWFuaW1hdGUgYW5pbWF0ZS1mYWRlLWluIGFuaW1hdGUtZmFkZS1vdXRcXFwiPlxcbiAgICA8cCBhbGlnbj1cXFwiY2VudGVyXFxcIj5ExJtrdWplbWUgemEgdnlwbG7Em27DrSB0ZXN0dS48L3A+XFxuICAgIDxwPjwvcD5cXG4gICAgPHAgYWxpZ249XFxcImNlbnRlclxcXCI+UG9rdWQgY2hjZXRlIHRlc3Qgb3Bha292YXQsIGpkZXRlIG5hIDxhIGNsYXNzPVxcXCJ3My1wYWxlLWdyZWVuIHczLWJ1dHRvblxcXCIgcm91dGUtaHJlZj1cXFwicm91dGU6IHJlc3BvbmRlbnRcXFwiPlJlc3RhcnQgc2FtZSB0ZXN0IDxpbmV4dD48L2luZXh0PjwvYT5cXG4gICAgPHAgYWxpZ249XFxcImNlbnRlclxcXCI+bmVibyB2eWJyYXQgamluw70gdGVzdCwga2xpa27Em3RlIHpkZTo8YSBjbGFzcz1cXFwidzMtcGFsZS1ncmVlbiB3My1idXR0b25cXFwiIHJvdXRlLWhyZWY9XFxcInJvdXRlOiBkYXNoYm9hcmRcXFwiPlNlbGVjdCBhbm90aGVyIHRlc3QgPGluZXh0PjwvaW5leHQ+PC9hPlxcbiAgICA8cCBhbGlnbj1cXFwiY2VudGVyXFxcIj5Qcm8gdWtvbsSNZW7DrSwgemF2xZlldGUgb2tubyBwcm9obMOtxb5lxI1lPC9wPlxcbiAgICA8L3A+XFxuICA8L2Rpdj5cXG5cXG48L3RlbXBsYXRlPlxcblwiOyJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///viewer/finalize.html\n");

/***/ }),

/***/ "viewer/performtest":
/*!***********************************!*\
  !*** ./src/viewer/performtest.js ***!
  \***********************************/
/*! exports provided: Performtest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Performtest\", function() { return Performtest; });\n/* harmony import */ var _components_psychoapi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/psychoapi */ \"./src/components/psychoapi.js\");\n/* harmony import */ var _components_interpreter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/interpreter */ \"./src/components/interpreter.js\");\n/* harmony import */ var aurelia_framework__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! aurelia-framework */ \"aurelia-framework\");\nvar _dec, _class;\n\n\n\n\nvar Performtest = (_dec = Object(aurelia_framework__WEBPACK_IMPORTED_MODULE_2__[\"inject\"])(_components_psychoapi__WEBPACK_IMPORTED_MODULE_0__[\"PsychoApi\"]), _dec(_class =\n/*#__PURE__*/\nfunction () {\n  function Performtest(pa) {\n    this.pa = pa; //this.interpreter = itp;\n\n    console.log('performtest()');\n  }\n\n  var _proto = Performtest.prototype;\n\n  _proto.attached = function attached() {\n    this.state = 1; //1==start, 2==test is performing, 3==test ended\n\n    this.showstart = true;\n    this.shownext = false;\n    this.showprev = false;\n    this.showsubmit = false;\n    this.showpause = false;\n    console.log('performtest attached');\n  }\n  /**\n   * Starts test - shows first screen\n   */\n  ;\n\n  _proto.starttest = function starttest() {\n    this.state = 2;\n    this.showprev = false;\n    this.shownext = true;\n    var currentRawTest = this.pa.getSelectedTestDefinition(); //if (typeof editor !== \"undefined\") currentRawTest = editor.getValue();\n    //this.parser = new Interpreter();\n    //this.parser.initTest(currentRawTest);\n\n    this.itp = new _components_interpreter__WEBPACK_IMPORTED_MODULE_1__[\"Interpreter\"](this);\n    this.hideNonAnswered();\n    this.preview.innerHTML = this.itp.nextpage(); //parser.currentTest);\n    //console.log(document.getElementById('preview').innerHTML);\n\n    this.itp.evaluateScripts();\n  };\n\n  _proto.hideNonAnswered = function hideNonAnswered() {};\n\n  _proto.evaluateScripts = function evaluateScripts() {};\n\n  _proto.previtem = function previtem() {\n    this.itp.previouspage();\n  };\n\n  _proto.nextitem = function nextitem() {\n    if (this.itp.checkAnswers()) {\n      //check whether all mandatory questions are answered - set to non-default value\n      if (this.itp.highlightEducation()) {\n        this.preview.innerHTML = this.itp.nextpage();\n        this.itp.highlighted = false;\n        this.itp.evaluateScripts();\n        this.itp.hideNonAnswered();\n      } else {//not highlighted\n      }\n    } else {\n      this.itp.highlightNonAnswered();\n    }\n  };\n\n  _proto.pausetest = function pausetest() {};\n\n  _proto.submittest = function submittest() {\n    this.state = 3;\n    console.log('performtest submitted');\n    return true;\n  };\n\n  _proto.lastPage = function lastPage() {\n    this.showstart = false;\n    this.showpause = false;\n    this.shownext = false;\n    this.showprev = true;\n    this.showsubmit = true;\n    /*this.switchvisibility(false, 'start');\n    this.switchvisibility(false, 'resume');\n    this.switchvisibility(false, 'next2');\n    this.switchvisibility(true, 'stop2');\n    this.switchvisibility(false, 'pause2');\n    if (this.currentPage > 1) {\n      this.switchvisibility(this.allowprev, 'previous');\n      this.switchvisibility(this.allowprev, 'previous2');\n    }\n    */\n  };\n\n  _proto.firstPage = function firstPage() {\n    this.showstart = false;\n    this.showpause = false;\n    this.shownext = true;\n    this.showprev = false;\n    /*this.switchvisibility(false, 'start');\n    this.switchvisibility(false, 'resume');\n    this.switchvisibility(false, 'pause2');\n    this.switchvisibility(true, 'next2');\n    this.switchvisibility(false, 'previous2');\n    this.switchvisibility(false, 'stop2');\n    */\n  };\n\n  _proto.middlePage = function middlePage() {\n    this.shownext = true;\n    this.showprev = true;\n    this.showpause = true;\n  } //            document.getElementById('next').style.visibility = 'visible';\n  //            switchvisibility(allowprev, 'previous');\n\n  /*this.switchvisibility(false, 'resume');\n  this.switchvisibility(true, 'next2');\n  this.switchvisibility(this.allowprev, 'previous2');\n  this.switchvisibility(true, 'pause2');\n  */\n  //TODO move communication to another class\n  ;\n\n  _proto.postAnswerCallback = function postAnswerCallback(data) {\n    console.log('saved. Response:');\n    console.log(data); //OK to delete resume\n\n    if (\n    /*parser*/\n    this.resumeid > 0) {\n      $.ajax({\n        type: 'DELETE',\n        url: PsychoTestPauseUrl +\n        /*parser*/\n        this.resumeid,\n        contentType: 'application/json',\n        dataType: 'json',\n        success: function success(data2) {\n          /*parser*/\n          this.resumeid = 0;\n        },\n        //pausetestcallback,\n        error: function error(data2) {\n          console.log('error during deleting paused test');\n          console.log(data2);\n        } //postAnswerErrorCallback\n\n      });\n    }\n\n    this.updateResultList(); //initializeAll();\n  };\n\n  _proto.postAnswerErrorCallback = function postAnswerErrorCallback(data) {\n    console.log('error:');\n    console.log(data);\n\n    if (!localStorage.psychoTestIndex) {\n      localStorage.psychoTestIndex = 0;\n    } else {\n      localStorage.psychoTestIndex++;\n    }\n\n    if (!localStorage.psychoTestResults) localStorage.psychoTestResults = [];\n    localStorage.psychoTestResults[localStorage.psychoTestIndex] = JSON.stringify(\n    /*parser*/\n    this.result.answers);\n    alert('Při ukládání výsledků tohoto testu došlo k chybě. Výsledky uloženy dočasně lokálně. Budou moci být odeslány po vyzvání administrátora.');\n  };\n\n  _proto.postAnswers = function postAnswers(callback, errorcallback) {\n    var answers2 = [];\n    /*parser*/\n\n    this.result.answers.forEach(function (item) {\n      //console.log(item);\n      if (item) {\n        item.forEach(function (subitem) {\n          if (subitem.hasOwnProperty('checkedvalues')) delete subitem.checkedvalues;\n          answers2.push(subitem);\n        });\n      }\n    });\n    var testUser = document.getElementById('loginname') ? document.getElementById('loginname').value : 'administrator';\n    var testResult = {\n      name:\n      /*parser*/\n      this.testName,\n      user: testUser,\n      resultItems: answers2\n    }; //console.log(testResult);\n\n    $.ajax({\n      type: 'POST',\n      url: PsychoResultUrl,\n      contentType: 'application/json',\n      dataType: 'json',\n      data: JSON.stringify(testResult),\n      processData: false,\n      success: callback,\n      error: errorcallback\n    });\n  };\n\n  _proto.submittest = function submittest() {\n    if (!this.checkAnswers()) {\n      this.highlightNonAnswered();\n      return false;\n    }\n\n    if (!this.highlightEducation()) {\n      return false;\n    } //console.log(\"Responses\");\n    //console.log(answers);\n    //var testName2 = testName.toString().extract(\"test \");\n    //console.log(testName2);\n\n\n    this.showButtonsStart();\n    this.postAnswers(this.postAnswerCallback, this.postAnswerErrorCallback);\n    return true; //$.post(\"../psychotestResults\", ,null,\"json\");\n  };\n\n  return Performtest;\n}()) || _class);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyL3BlcmZvcm10ZXN0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXdlci9wZXJmb3JtdGVzdC5qcz9iNTFkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UHN5Y2hvQXBpfSBmcm9tICcuLi9jb21wb25lbnRzL3BzeWNob2FwaSc7XG5pbXBvcnQge0ludGVycHJldGVyfSBmcm9tICcuLi9jb21wb25lbnRzL2ludGVycHJldGVyJztcbmltcG9ydCB7aW5qZWN0fSBmcm9tICdhdXJlbGlhLWZyYW1ld29yayc7XG5cbkBpbmplY3QoUHN5Y2hvQXBpKVxuZXhwb3J0IGNsYXNzIFBlcmZvcm10ZXN0IHtcbiAgY29uc3RydWN0b3IocGEpIHtcbiAgICB0aGlzLnBhID0gcGE7XG4gICAgLy90aGlzLmludGVycHJldGVyID0gaXRwO1xuICAgIGNvbnNvbGUubG9nKCdwZXJmb3JtdGVzdCgpJyk7XG4gIH1cblxuICBhdHRhY2hlZCgpIHtcbiAgICB0aGlzLnN0YXRlID0gMTsgLy8xPT1zdGFydCwgMj09dGVzdCBpcyBwZXJmb3JtaW5nLCAzPT10ZXN0IGVuZGVkXG4gICAgdGhpcy5zaG93c3RhcnQgPSB0cnVlO1xuICAgIHRoaXMuc2hvd25leHQgPSBmYWxzZTtcbiAgICB0aGlzLnNob3dwcmV2ID0gZmFsc2U7XG4gICAgdGhpcy5zaG93c3VibWl0ID0gZmFsc2U7XG4gICAgdGhpcy5zaG93cGF1c2UgPSBmYWxzZTtcbiAgICBjb25zb2xlLmxvZygncGVyZm9ybXRlc3QgYXR0YWNoZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgdGVzdCAtIHNob3dzIGZpcnN0IHNjcmVlblxuICAgKi9cbiAgc3RhcnR0ZXN0KCkge1xuICAgIHRoaXMuc3RhdGUgPSAyO1xuICAgIHRoaXMuc2hvd3ByZXYgPSBmYWxzZTtcbiAgICB0aGlzLnNob3duZXh0ID0gdHJ1ZTtcblxuICAgIGxldCBjdXJyZW50UmF3VGVzdCA9IHRoaXMucGEuZ2V0U2VsZWN0ZWRUZXN0RGVmaW5pdGlvbigpO1xuICAgIC8vaWYgKHR5cGVvZiBlZGl0b3IgIT09IFwidW5kZWZpbmVkXCIpIGN1cnJlbnRSYXdUZXN0ID0gZWRpdG9yLmdldFZhbHVlKCk7XG4gICAgLy90aGlzLnBhcnNlciA9IG5ldyBJbnRlcnByZXRlcigpO1xuICAgIC8vdGhpcy5wYXJzZXIuaW5pdFRlc3QoY3VycmVudFJhd1Rlc3QpO1xuICAgIHRoaXMuaXRwID0gbmV3IEludGVycHJldGVyKHRoaXMpO1xuICAgIHRoaXMuaGlkZU5vbkFuc3dlcmVkKCk7XG4gICAgdGhpcy5wcmV2aWV3LmlubmVySFRNTCA9IHRoaXMuaXRwLm5leHRwYWdlKCk7Ly9wYXJzZXIuY3VycmVudFRlc3QpO1xuICAgIC8vY29uc29sZS5sb2coZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXcnKS5pbm5lckhUTUwpO1xuICAgIHRoaXMuaXRwLmV2YWx1YXRlU2NyaXB0cygpO1xuICB9XG5cbiAgaGlkZU5vbkFuc3dlcmVkKCkge1xuICB9XG5cbiAgZXZhbHVhdGVTY3JpcHRzKCkge1xuICB9XG5cblxuICBwcmV2aXRlbSgpIHtcbiAgICB0aGlzLml0cC5wcmV2aW91c3BhZ2UoKTtcblxuICB9XG5cbiAgbmV4dGl0ZW0oKSB7XG4gICAgaWYgKHRoaXMuaXRwLmNoZWNrQW5zd2VycygpKSB7IC8vY2hlY2sgd2hldGhlciBhbGwgbWFuZGF0b3J5IHF1ZXN0aW9ucyBhcmUgYW5zd2VyZWQgLSBzZXQgdG8gbm9uLWRlZmF1bHQgdmFsdWVcbiAgICAgIGlmICh0aGlzLml0cC5oaWdobGlnaHRFZHVjYXRpb24oKSkge1xuICAgICAgICB0aGlzLnByZXZpZXcuaW5uZXJIVE1MID0gdGhpcy5pdHAubmV4dHBhZ2UoKTtcbiAgICAgICAgdGhpcy5pdHAuaGlnaGxpZ2h0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pdHAuZXZhbHVhdGVTY3JpcHRzKCk7XG4gICAgICAgIHRoaXMuaXRwLmhpZGVOb25BbnN3ZXJlZCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9ub3QgaGlnaGxpZ2h0ZWRcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pdHAuaGlnaGxpZ2h0Tm9uQW5zd2VyZWQoKTtcbiAgICB9XG4gIH1cblxuICBwYXVzZXRlc3QoKSB7XG5cbiAgfVxuXG4gIHN1Ym1pdHRlc3QoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IDM7XG4gICAgY29uc29sZS5sb2coJ3BlcmZvcm10ZXN0IHN1Ym1pdHRlZCcpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgbGFzdFBhZ2UoKSB7XG4gICAgdGhpcy5zaG93c3RhcnQgPSBmYWxzZTtcbiAgICB0aGlzLnNob3dwYXVzZSA9IGZhbHNlO1xuICAgIHRoaXMuc2hvd25leHQgPSBmYWxzZTtcbiAgICB0aGlzLnNob3dwcmV2ID0gdHJ1ZTtcbiAgICB0aGlzLnNob3dzdWJtaXQgPSB0cnVlO1xuICAgIC8qdGhpcy5zd2l0Y2h2aXNpYmlsaXR5KGZhbHNlLCAnc3RhcnQnKTtcbiAgICB0aGlzLnN3aXRjaHZpc2liaWxpdHkoZmFsc2UsICdyZXN1bWUnKTtcbiAgICB0aGlzLnN3aXRjaHZpc2liaWxpdHkoZmFsc2UsICduZXh0MicpO1xuICAgIHRoaXMuc3dpdGNodmlzaWJpbGl0eSh0cnVlLCAnc3RvcDInKTtcbiAgICB0aGlzLnN3aXRjaHZpc2liaWxpdHkoZmFsc2UsICdwYXVzZTInKTtcbiAgICBpZiAodGhpcy5jdXJyZW50UGFnZSA+IDEpIHtcbiAgICAgIHRoaXMuc3dpdGNodmlzaWJpbGl0eSh0aGlzLmFsbG93cHJldiwgJ3ByZXZpb3VzJyk7XG4gICAgICB0aGlzLnN3aXRjaHZpc2liaWxpdHkodGhpcy5hbGxvd3ByZXYsICdwcmV2aW91czInKTtcbiAgICB9XG4gICAgKi9cbiAgfVxuXG4gIGZpcnN0UGFnZSgpIHtcbiAgICB0aGlzLnNob3dzdGFydCA9IGZhbHNlO1xuICAgIHRoaXMuc2hvd3BhdXNlID0gZmFsc2U7XG4gICAgdGhpcy5zaG93bmV4dCA9IHRydWU7XG4gICAgdGhpcy5zaG93cHJldiA9IGZhbHNlO1xuICAgIC8qdGhpcy5zd2l0Y2h2aXNpYmlsaXR5KGZhbHNlLCAnc3RhcnQnKTtcbiAgICB0aGlzLnN3aXRjaHZpc2liaWxpdHkoZmFsc2UsICdyZXN1bWUnKTtcbiAgICB0aGlzLnN3aXRjaHZpc2liaWxpdHkoZmFsc2UsICdwYXVzZTInKTtcbiAgICB0aGlzLnN3aXRjaHZpc2liaWxpdHkodHJ1ZSwgJ25leHQyJyk7XG4gICAgdGhpcy5zd2l0Y2h2aXNpYmlsaXR5KGZhbHNlLCAncHJldmlvdXMyJyk7XG4gICAgdGhpcy5zd2l0Y2h2aXNpYmlsaXR5KGZhbHNlLCAnc3RvcDInKTtcbiAgICAqL1xuICB9XG5cbiAgbWlkZGxlUGFnZSgpIHtcbiAgICB0aGlzLnNob3duZXh0ID0gdHJ1ZTtcbiAgICB0aGlzLnNob3dwcmV2ID0gdHJ1ZTtcbiAgICB0aGlzLnNob3dwYXVzZSA9IHRydWU7XG4gIH1cblxuICAvLyAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXh0Jykuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgLy8gICAgICAgICAgICBzd2l0Y2h2aXNpYmlsaXR5KGFsbG93cHJldiwgJ3ByZXZpb3VzJyk7XG4gIC8qdGhpcy5zd2l0Y2h2aXNpYmlsaXR5KGZhbHNlLCAncmVzdW1lJyk7XG4gIHRoaXMuc3dpdGNodmlzaWJpbGl0eSh0cnVlLCAnbmV4dDInKTtcbiAgdGhpcy5zd2l0Y2h2aXNpYmlsaXR5KHRoaXMuYWxsb3dwcmV2LCAncHJldmlvdXMyJyk7XG4gIHRoaXMuc3dpdGNodmlzaWJpbGl0eSh0cnVlLCAncGF1c2UyJyk7XG4gICovXG5cbiAgLy9UT0RPIG1vdmUgY29tbXVuaWNhdGlvbiB0byBhbm90aGVyIGNsYXNzXG5cbiAgcG9zdEFuc3dlckNhbGxiYWNrKGRhdGEpIHtcbiAgICBjb25zb2xlLmxvZygnc2F2ZWQuIFJlc3BvbnNlOicpO1xuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgIC8vT0sgdG8gZGVsZXRlIHJlc3VtZVxuICAgIGlmICgvKnBhcnNlciovdGhpcy5yZXN1bWVpZCA+IDApIHtcbiAgICAgICQuYWpheCh7XG4gICAgICAgIHR5cGU6ICdERUxFVEUnLFxuICAgICAgICB1cmw6IFBzeWNob1Rlc3RQYXVzZVVybCArIC8qcGFyc2VyKi90aGlzLnJlc3VtZWlkLFxuICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhMikgeyAvKnBhcnNlciovXG4gICAgICAgICAgdGhpcy5yZXN1bWVpZCA9IDA7XG4gICAgICAgIH0sIC8vcGF1c2V0ZXN0Y2FsbGJhY2ssXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbihkYXRhMikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBkdXJpbmcgZGVsZXRpbmcgcGF1c2VkIHRlc3QnKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhMik7XG4gICAgICAgIH0vL3Bvc3RBbnN3ZXJFcnJvckNhbGxiYWNrXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy51cGRhdGVSZXN1bHRMaXN0KCk7XG4gICAgLy9pbml0aWFsaXplQWxsKCk7XG4gIH1cblxuICBwb3N0QW5zd2VyRXJyb3JDYWxsYmFjayhkYXRhKSB7XG4gICAgY29uc29sZS5sb2coJ2Vycm9yOicpO1xuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgIGlmICghbG9jYWxTdG9yYWdlLnBzeWNob1Rlc3RJbmRleCkge1xuICAgICAgbG9jYWxTdG9yYWdlLnBzeWNob1Rlc3RJbmRleCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5wc3ljaG9UZXN0SW5kZXgrKztcbiAgICB9XG4gICAgaWYgKCFsb2NhbFN0b3JhZ2UucHN5Y2hvVGVzdFJlc3VsdHMpIGxvY2FsU3RvcmFnZS5wc3ljaG9UZXN0UmVzdWx0cyA9IFtdO1xuICAgIGxvY2FsU3RvcmFnZS5wc3ljaG9UZXN0UmVzdWx0c1tsb2NhbFN0b3JhZ2UucHN5Y2hvVGVzdEluZGV4XSA9IEpTT04uc3RyaW5naWZ5KC8qcGFyc2VyKi90aGlzLnJlc3VsdC5hbnN3ZXJzKTtcbiAgICBhbGVydCgnUMWZaSB1a2zDoWTDoW7DrSB2w71zbGVka8WvIHRvaG90byB0ZXN0dSBkb8WhbG8gayBjaHlixJsuIFbDvXNsZWRreSB1bG/FvmVueSBkb8SNYXNuxJsgbG9rw6FsbsSbLiBCdWRvdSBtb2NpIGLDvXQgb2Rlc2zDoW55IHBvIHZ5enbDoW7DrSBhZG1pbmlzdHLDoXRvcmEuJyk7XG4gIH1cblxuICBwb3N0QW5zd2VycyhjYWxsYmFjaywgZXJyb3JjYWxsYmFjaykge1xuICAgIGxldCBhbnN3ZXJzMiA9IFtdO1xuICAgIC8qcGFyc2VyKi9cbiAgICB0aGlzLnJlc3VsdC5hbnN3ZXJzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgLy9jb25zb2xlLmxvZyhpdGVtKTtcbiAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgIGl0ZW0uZm9yRWFjaChmdW5jdGlvbihzdWJpdGVtKSB7XG4gICAgICAgICAgaWYgKHN1Yml0ZW0uaGFzT3duUHJvcGVydHkoJ2NoZWNrZWR2YWx1ZXMnKSkgZGVsZXRlIHN1Yml0ZW0uY2hlY2tlZHZhbHVlcztcbiAgICAgICAgICBhbnN3ZXJzMi5wdXNoKHN1Yml0ZW0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgdGVzdFVzZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW5uYW1lJykgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW5uYW1lJykudmFsdWUgOiAnYWRtaW5pc3RyYXRvcic7XG4gICAgbGV0IHRlc3RSZXN1bHQgPSB7bmFtZTogLypwYXJzZXIqL3RoaXMudGVzdE5hbWUsIHVzZXI6IHRlc3RVc2VyLCByZXN1bHRJdGVtczogYW5zd2VyczJ9O1xuXG4gICAgLy9jb25zb2xlLmxvZyh0ZXN0UmVzdWx0KTtcbiAgICAkLmFqYXgoe1xuICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgdXJsOiBQc3ljaG9SZXN1bHRVcmwsXG4gICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHRlc3RSZXN1bHQpLFxuICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxuICAgICAgc3VjY2VzczogY2FsbGJhY2ssXG4gICAgICBlcnJvcjogZXJyb3JjYWxsYmFja1xuICAgIH0pO1xuICB9XG5cblxuICBzdWJtaXR0ZXN0KCkge1xuICAgIGlmICghdGhpcy5jaGVja0Fuc3dlcnMoKSkge1xuICAgICAgdGhpcy5oaWdobGlnaHROb25BbnN3ZXJlZCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuaGlnaGxpZ2h0RWR1Y2F0aW9uKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvL2NvbnNvbGUubG9nKFwiUmVzcG9uc2VzXCIpO1xuICAgIC8vY29uc29sZS5sb2coYW5zd2Vycyk7XG4gICAgLy92YXIgdGVzdE5hbWUyID0gdGVzdE5hbWUudG9TdHJpbmcoKS5leHRyYWN0KFwidGVzdCBcIik7XG4gICAgLy9jb25zb2xlLmxvZyh0ZXN0TmFtZTIpO1xuICAgIHRoaXMuc2hvd0J1dHRvbnNTdGFydCgpO1xuICAgIHRoaXMucG9zdEFuc3dlcnModGhpcy5wb3N0QW5zd2VyQ2FsbGJhY2ssIHRoaXMucG9zdEFuc3dlckVycm9yQ2FsbGJhY2spO1xuICAgIHJldHVybiB0cnVlO1xuICAgIC8vJC5wb3N0KFwiLi4vcHN5Y2hvdGVzdFJlc3VsdHNcIiwgLG51bGwsXCJqc29uXCIpO1xuICB9XG59XG5cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBQ0E7QUFEQTtBQVFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFqQkE7QUFDQTtBQURBO0FBcUJBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQW5DQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBNENBO0FBRUE7QUFDQTtBQS9DQTtBQWlEQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBOURBO0FBQ0E7QUFEQTtBQW9FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBeEVBO0FBMEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQVVBO0FBQ0E7QUExRkE7QUE0RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUF4R0E7QUEwR0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7Ozs7O0FBTUE7QUF2SEE7QUFDQTtBQURBO0FBMEhBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFaQTtBQWFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUEvSUE7QUFpSkE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUE1SkE7QUE4SkE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFVQTtBQUNBO0FBeExBO0FBMkxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQTVNQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///viewer/performtest\n");

/***/ }),

/***/ "viewer/performtest.html":
/*!*************************************!*\
  !*** ./src/viewer/performtest.html ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template>\\n  <div class=\\\"au-animate animate-fade-in animate-fade-out\\\">\\n\\n    <p id=\\\"tab2help\\\"show.bind=\\\"state==1\\\">psychoakustický test. Doporučujeme přepnout na režim plné obrazovky (Full screen) tlačítkem F11 na klávesnici. Pro zahájení testu stiskněte tlačítko START níže na obrazovce, na konci se test ukončí tlačítkem KONEC,ULOZ VYSLEDKY.</p>\\n\\n    <a class=\\\"w3-pale-green w3-button w3-left\\\" show.bind=\\\"showstart\\\" click.delegate=\\\"starttest()\\\">START</a>\\n    <span id=\\\"notification\\\"></span>\\n\\n    <div ref=\\\"preview\\\">\\n\\n    </div>\\n\\n    <a class=\\\"w3-pale-green w3-button w3-left\\\" show.bind=\\\"showprev\\\" click.delegate=\\\"previtem()\\\">&lt;PŘEDCHOZÍ</a>\\n\\n    <a class=\\\"w3-pale-green w3-button w3-left\\\" show.bind=\\\"showpause\\\" click.delegate=\\\"pausetest()\\\">Přerušit</a>\\n\\n    <a class=\\\"w3-pale-green w3-button w3-right\\\" show.bind=\\\"shownext\\\" click.delegate=\\\"nextitem()\\\">DALŠÍ&gt;</a>\\n\\n    <a class=\\\"w3-pale-green w3-button w3-right\\\" show.bind=\\\"showsubmit\\\" click.delegate=\\\"submittest()\\\" route-href=\\\"route: finalize\\\">KONEC. ULOZ VYSLEDKY</a>\\n\\n    <span class=\\\"w3-clear\\\"></span>\\n  </div>\\n\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyL3BlcmZvcm10ZXN0Lmh0bWwuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3BlcmZvcm10ZXN0Lmh0bWw/YmJjZSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHRlbXBsYXRlPlxcbiAgPGRpdiBjbGFzcz1cXFwiYXUtYW5pbWF0ZSBhbmltYXRlLWZhZGUtaW4gYW5pbWF0ZS1mYWRlLW91dFxcXCI+XFxuXFxuICAgIDxwIGlkPVxcXCJ0YWIyaGVscFxcXCJzaG93LmJpbmQ9XFxcInN0YXRlPT0xXFxcIj5wc3ljaG9ha3VzdGlja8O9IHRlc3QuIERvcG9ydcSNdWplbWUgcMWZZXBub3V0IG5hIHJlxb5pbSBwbG7DqSBvYnJhem92a3kgKEZ1bGwgc2NyZWVuKSB0bGHEjcOtdGtlbSBGMTEgbmEga2zDoXZlc25pY2kuIFBybyB6YWjDoWplbsOtIHRlc3R1IHN0aXNrbsSbdGUgdGxhxI3DrXRrbyBTVEFSVCBuw63FvmUgbmEgb2JyYXpvdmNlLCBuYSBrb25jaSBzZSB0ZXN0IHVrb27EjcOtIHRsYcSNw610a2VtIEtPTkVDLFVMT1ogVllTTEVES1kuPC9wPlxcblxcbiAgICA8YSBjbGFzcz1cXFwidzMtcGFsZS1ncmVlbiB3My1idXR0b24gdzMtbGVmdFxcXCIgc2hvdy5iaW5kPVxcXCJzaG93c3RhcnRcXFwiIGNsaWNrLmRlbGVnYXRlPVxcXCJzdGFydHRlc3QoKVxcXCI+U1RBUlQ8L2E+XFxuICAgIDxzcGFuIGlkPVxcXCJub3RpZmljYXRpb25cXFwiPjwvc3Bhbj5cXG5cXG4gICAgPGRpdiByZWY9XFxcInByZXZpZXdcXFwiPlxcblxcbiAgICA8L2Rpdj5cXG5cXG4gICAgPGEgY2xhc3M9XFxcInczLXBhbGUtZ3JlZW4gdzMtYnV0dG9uIHczLWxlZnRcXFwiIHNob3cuYmluZD1cXFwic2hvd3ByZXZcXFwiIGNsaWNrLmRlbGVnYXRlPVxcXCJwcmV2aXRlbSgpXFxcIj4mbHQ7UMWYRURDSE9aw408L2E+XFxuXFxuICAgIDxhIGNsYXNzPVxcXCJ3My1wYWxlLWdyZWVuIHczLWJ1dHRvbiB3My1sZWZ0XFxcIiBzaG93LmJpbmQ9XFxcInNob3dwYXVzZVxcXCIgY2xpY2suZGVsZWdhdGU9XFxcInBhdXNldGVzdCgpXFxcIj5QxZllcnXFoWl0PC9hPlxcblxcbiAgICA8YSBjbGFzcz1cXFwidzMtcGFsZS1ncmVlbiB3My1idXR0b24gdzMtcmlnaHRcXFwiIHNob3cuYmluZD1cXFwic2hvd25leHRcXFwiIGNsaWNrLmRlbGVnYXRlPVxcXCJuZXh0aXRlbSgpXFxcIj5EQUzFoMONJmd0OzwvYT5cXG5cXG4gICAgPGEgY2xhc3M9XFxcInczLXBhbGUtZ3JlZW4gdzMtYnV0dG9uIHczLXJpZ2h0XFxcIiBzaG93LmJpbmQ9XFxcInNob3dzdWJtaXRcXFwiIGNsaWNrLmRlbGVnYXRlPVxcXCJzdWJtaXR0ZXN0KClcXFwiIHJvdXRlLWhyZWY9XFxcInJvdXRlOiBmaW5hbGl6ZVxcXCI+S09ORUMuIFVMT1ogVllTTEVES1k8L2E+XFxuXFxuICAgIDxzcGFuIGNsYXNzPVxcXCJ3My1jbGVhclxcXCI+PC9zcGFuPlxcbiAgPC9kaXY+XFxuXFxuPC90ZW1wbGF0ZT5cXG5cIjsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///viewer/performtest.html\n");

/***/ }),

/***/ "viewer/respondent":
/*!**********************************!*\
  !*** ./src/viewer/respondent.js ***!
  \**********************************/
/*! exports provided: Respondent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Respondent\", function() { return Respondent; });\nvar Respondent = function Respondent() {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyL3Jlc3BvbmRlbnQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdmlld2VyL3Jlc3BvbmRlbnQuanM/MjM4NiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgUmVzcG9uZGVudCB7XG5cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///viewer/respondent\n");

/***/ }),

/***/ "viewer/respondent.html":
/*!************************************!*\
  !*** ./src/viewer/respondent.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<template>\\n  <div class=\\\"au-animate animate-fade-in animate-fade-out\\\">\\n  <h3> Respondent</h3>\\n\\n  <a class=\\\"w3-pale-green w3-button\\\" route-href=\\\"route: performtest\\\">Next <inext></inext></a>\\n  </div>\\n\\n</template>\\n\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlld2VyL3Jlc3BvbmRlbnQuaHRtbC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy92aWV3ZXIvcmVzcG9uZGVudC5odG1sPzNkZWMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjx0ZW1wbGF0ZT5cXG4gIDxkaXYgY2xhc3M9XFxcImF1LWFuaW1hdGUgYW5pbWF0ZS1mYWRlLWluIGFuaW1hdGUtZmFkZS1vdXRcXFwiPlxcbiAgPGgzPiBSZXNwb25kZW50PC9oMz5cXG5cXG4gIDxhIGNsYXNzPVxcXCJ3My1wYWxlLWdyZWVuIHczLWJ1dHRvblxcXCIgcm91dGUtaHJlZj1cXFwicm91dGU6IHBlcmZvcm10ZXN0XFxcIj5OZXh0IDxpbmV4dD48L2luZXh0PjwvYT5cXG4gIDwvZGl2PlxcblxcbjwvdGVtcGxhdGU+XFxuXCI7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///viewer/respondent.html\n");

/***/ })

/******/ });